<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd" 
xml:lang="en" lang="en">
	<head>
		<meta charset="utf-8" />
		<title>SteamSide</title>
		<link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:regular,bold' rel='stylesheet' type='text/css' />
		<link rel="stylesheet" href="style.css" type="text/css" media="screen" title="Stylesheet" />


<wicket:link>
    <script src="jquery-1.7.2.js"></script>
    <script src="underscore.js"></script>
    <script src="backbone.js"></script>
   </wicket:link>
    <link href="http://fonts.googleapis.com/css?family=Abel" rel="stylesheet" type="text/css">





		<script>
		
var Status = Backbone.Model.extend();

var Statuses = Backbone.Collection.extend({
    model: Status,
    value: null,
    url: function(){
    	//return 'search-results.json'; 
    	return "search?query=" + this.value;
    	}
});

var SearchTextView = Backbone.View.extend({
    events: {
        'submit form': 'submitSearch'
    },

    initialize: function() {
        
    },

    submitSearch: function(e) {
        e.preventDefault();

		var c = this.collection;
		c.value = this.$('textarea').val();
		c.fetch({
			success: function(){ if (false) console.log(c.models); },
			error: function() { console.log(arguments); }
		});
    }
});

var SearchResultsView = Backbone.View.extend({
	resultsEl: null,
	tile: null,

    initialize: function() {
    	this.resultsEl = this.$('#ul-id-search-results');
    	this.tile = this.$('#game-tile-search-result');
        this.collection.on('reset', this.displaySearchResults, this);
    },

    displaySearchResults: function() {
    	var vtile = this.tile;
    	var vresultsEl = this.resultsEl;
        this.collection.each( function(oneResult) {
	        //resultsEl.append('<li>' + oneResult.escape('name') + '</li>');
	        var clonedtile = vtile.clone();
	        clonedtile.find('.search-result-name').text(oneResult.get('name'));
	        clonedtile.find('.search-result-link').click(function(e) {
	        	e.preventDefault();
			    alert('foobar');
    		});
	        vresultsEl.append(clonedtile);
        });
    }
});

$(document).ready(function() {
    var statuses = new Statuses();
    new SearchTextView({ el: $('#div-id-search-text'), collection: statuses });
    new SearchResultsView({ el: $('#div-id-search-results'), collection: statuses });
});			
		</script>


	</head>
	<body>
		


		<h1>Continue</h1>	
		<div id="game-tile-continue">	
			<big><strong>
			<a wicket:id="link"><span wicket:id="caption">Skyrim</span></a>
			</strong></big>
		</div>
		
		<h1>Games</h1>
		
		<p><span wicket:id="number-of-games">101</span> games</p>
		
		<h1>Search</h1>
		
		
		<div id="div-id-search-text">
	      <h2>Search...</h2>
    	  <form action="">
        	<!--<input type="text" name="text-search" id="input-id-text-search"/>-->
        	<textarea></textarea>
        	<br>
        	<input type="submit" value="Post"/>
      	  </form>
    	</div>

    <div id="div-id-search-results">
			<div id="game-tile-search-result">	
				<big><strong>
				<a class="search-result-link" href=""><span class="search-result-name">Search result</span></a>
				</strong></big>
			</div>
    	<h2>Search results</h2>
      	<div id="ul-id-search-results">
		</div>
    </div>
		
		
<hr/>		
		
		
		<div id="hd">
			<div id="logo">
				<img src="logo.png" width="50px" height="50px" alt="Wicket Logo" />
				<h1>Apache Wicket</h1>
			</div>
		</div>
		<div id="bd">
		

			<h2>Congratulations!</h2>
			<p>
				Your quick start works! This project is especially useful to
                start developing your Wicket application or to create a test
                case for a bug report.
			</p>
			<h3>Get started</h3>
			<p>
				You can even <a href="https://localhost:8443">switch to HTTPS</a>!
			</p> 
			<p>
				From here you can start hacking away at your application and
                wow your clients:
			</p>
			<ul>
				<li>work through <a href="http://wicket.apache.org/learn/examples" target="_blank" title="Hello world and friends">some examples</a></li>
				<li>read <a href="http://wicket.apache.org/learn/books" target="_blank" title="Books about Wicket in English, German and Japanese">some books</a></li>
				<li>find <a href="http://wicket.apache.org/learn/projects" target="_blank" title="Additional projects, components and libraries">additional components, projects and libraries</a></li>
			</ul>
			<h3>Get help</h3>
			<p>
				We are here to help!
			</p>
			<ul>
				<li>join us on IRC on <a href="irc:%23%23wicket@irc.freenode.net">&#35;&#35;wicket@irc.freenode.net</a></li>
				<li><a href="http://wicket-users.markmail.org/" target="_blank" title="Search the mailing list archives">search</a> our mailing list archives</li>
				<li>ask a question on the <a href="http://wicket.apache.org/help/email.html">users list</a></li>
			</ul>
			<h3>Reporting a bug</h3>
			<p>
				Help us help you:
			</p>
			<ol>
				<li>reproduce the bug with the <strong>least</strong> amount of code</li>
				<li>create a unit test that shows the bug</li>
				<li>fix the bug and create a patch</li>
				<li>attach the result of step 1, 2 or 3 to a <a href="https://issues.apache.org/jira/browse/WICKET" target="_blank">JIRA issue</a></li>
				<li>profit!</li>
			</ol>
			<p>
				Please mention the correct Wicket version: <wicket:container wicket:id="version">1.5-SNAPSHOT</wicket:container>.
			</p>
		</div>
		<div id="ft">
		</div>
		
		

	</body>
</html>