<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd" 
xml:lang="en" lang="en">
<head>
<!-- ----------------------------------------------------------------------- -->
<title>SteamSide</title>

<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />

<link href="static/game-tile.css" rel="stylesheet" type="text/css" />
<script src="static/jquery-1.7.2.js"></script>
<script src="static/underscore.js"></script>
<script src="static/backbone.js"></script>
<script src="static/steamside.js"></script>
		
<link href="http://fonts.googleapis.com/css?family=Ubuntu:regular, bold" rel="stylesheet" type='text/css' />
<link href="http://fonts.googleapis.com/css?family=Arvo:regular, bold" rel="stylesheet" type="text/css" />
<link href="http://fonts.googleapis.com/css?family=Montserrat+Alternates:regular" rel="stylesheet" type="text/css" />
<link href="http://fonts.googleapis.com/css?family=Karla:regular" rel="stylesheet" type="text/css" />
<link href="http://fonts.googleapis.com/css?family=Jura:regular, bold" rel="stylesheet" type="text/css" />
		
<style type="text/css">

/* ----- */

.page-header {
	
}

.page-header-logo {
//	line-height:40px;
	float:left;
}

.page-header-name {
//	line-height:40px;
	float:left;
	margin-left: 10px;
	margin-right: 10px;
	font-family: Jura; 
	font-weight: bold;
	font-size: 2em;
	color: darkred;
	/*
	text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #fff, 0 0 20px #fde235;
	*/
}

.page-header-navigation-bar ul {
	display: table;
	list-style:none;
	width: 65%;
	float: right;
}

.page-header-navigation-bar li {
	display: table-cell;
	text-align: center;
	font-family: Arvo; 
}

.page-header-separator {
	clear: both;
}

.container {
	margin: 10px auto;
}

.side-header {
	width: 90px;
	margin: 0;
	padding: 0.8em;
	border-bottom: 2px solid gray;
}

.content-at-left {
	margin-right: 0px;
	float: left;
	width: 85%;
}

.content-at-right {
	margin-left: 150px;
/*	float: right;  // this pushes content down somehow :-p */
}

.side-header-at-left {
	float: left;
	text-align: right;
	border-right: 1px solid gray;
}

.side-header-at-right {
	float: right;
	text-align: right;
	border-left: 1px solid gray;
}


.side-header-paragraph { 
	margin: 0 0 0.6em 0; 
}

.side-text { font-family: Arvo; font-size: 28px; font-weight: bold; color: darkred; }

.side-text-at-left  {text-shadow: -0.2em 0.2em 0.2em gray}
.side-text-at-right {text-shadow: 0.2em 0.2em 0.2em gray}

.footer {
	clear: both;
	margin: 0;
	padding: .3em;
	border-top: 1px dotted lightgray;
}




</style>


<!-- ----------------------------------------------------------------------- -->

<script>
		
var Game = Backbone.Model.extend();

var RecentlyPlayed = Backbone.Collection.extend({
    model: Game,
    url: function() {
    	return 'continue.json'; 
    }
});

var GameCollection = Backbone.Collection.extend({
    model: Game,
    value: null,
    url: function() {
    	return "search.json?query=" + this.value;
    }
});

var SearchTextView = Backbone.View.extend({
    events: {
        'submit form': 'submitSearch'
    },

    initialize: function() {
        
    },

    submitSearch: function(e) {
        e.preventDefault();

		var c = this.collection;
		c.value = this.$('#input-id-text-search').val();
		c.fetch({
			cache: false,
			success: function() { if (false) console.log(c.models); },
			error: function() { console.log(arguments); }
		});
    }
});

$(document).ready(function() {
	var gamerow = $('#game-row');
	var gamecell = $('#game-cell');
	var gametile = $('#game-tile');
	var recentlyplayed = new RecentlyPlayed();
    var searchresults = new GameCollection();
    new AppCollectionView({ 
    	el: $('#recently-played'), 
    	collection: recentlyplayed,
    	gamerowEl: gamerow,
    	gamecellEl: gamecell,
    	gametileEl: gametile    	 
    });
    new SearchTextView({ 
    	el: $('#div-id-search-text'), 
    	collection: searchresults
    });
    new AppCollectionView({ 
    	el: $('#div-id-search-results'), 
    	collection: searchresults,
    	gamerowEl: gamerow,
    	gamecellEl: gamecell,
    	gametileEl: gametile    	 
    });
    recentlyplayed.fetch({
			cache: false,
			success: function() { if (false) console.log(c.models); },
			error: function() { console.log(arguments); }
	});
	$("#input-id-text-search").focus();	
});			

</script>


<!-- ----------------------------------------------------------------------- -->
</head>
<body>
<!-- ----------------------------------------------------------------------- -->
		

<div class="page-header">
	<div class="page-header-logo">
		<img src="static/steamside.png" height="45" width="45" />
	</div>
	<div class="page-header-name">
		 SteamSide
	</div>
	<div class="page-header-navigation-bar">
		<ul>
		<li>
		My games
		</li>
		<li>
		Steam Store
		</li>
		<li>
		Steam Client
		</li>
		<li>
		About
		</li>
		</ul>
	</div>
</div>

<div class="page-header-separator">

</div>

<div class="container">

	<div class="side-header side-header-at-left">
		<p class="side-header-paragraph">
			<span class="side-text side-text-at-left">
			Con<br/>
			tin<br/>
			ue<br/>
			</span>
		</p>
	</div>

	<div class="content-at-right">
	    <div class="game-collection" id="recently-played">
	      	<div class="game-tiles" style="float:right">
			</div>
			<div id="continue-more-button"  class="more-button">
				<a class='more-button-link' href="">
					more...
				</a>
			</div>
	    </div>
	</div>

	<div class="footer">
	<!-- 
		(footer)
	 -->
	</div>
	
</div>




<div class="container">

	<div class="side-header side-header-at-right">
		<p class="side-header-paragraph">
			<span class="side-text side-text-at-right">
			Search<br/>
			</span>
		</p>
	</div>

	<div class="content-at-left">

		<div id="div-id-search-text">
			<form action="">
				<input type="text" name="text-search" id="input-id-text-search"
					style="width: 85%; font-size:24px; "/>
	        	<input type="submit" value="Search"/>
	      	</form>
	      	<span id="search-hint" class="search-hint">Press Enter to continue playing Team Fortress 2</span>
	    </div>
	
	    <div id="div-id-search-results">
	      	<div class="game-tiles">
			</div>
	    </div>

	</div>

	<div class="footer">
	<!-- 
		(footer)
	 -->
	</div>
	
</div>




<div class="container">

	<div class="side-header side-header-at-left">
		<p class="side-header-paragraph">
			<span class="side-text side-text-at-left">
			Favor<br/>
			ites<br/>
			</span>
		</p>
		<!-- 
		<p>more...</p>
		 -->
	</div>

	<div class="content-at-right">

		<a href="collection/favorite/">Favorites</a>

	</div>

	<div class="footer">
	<!-- 
		(footer)
	 -->
	</div>
	
</div>





<div class="container">

	<div class="side-header side-header-at-right">
		<p class="side-header-paragraph">
			<span class="side-text side-text-at-right">
			My<br/>
			Games<br/>
			</span>
		</p>
	</div>

	<div class="content-at-left">
		<p><span wicket:id="number-of-games">101</span> owned</p>
	</div>

	<div class="footer">
	<!-- 
		(footer)
	 -->
	</div>
	
</div>


		
<div id="bd" style="display:none;">
	<p>
		Wicket version:
		<wicket:container wicket:id="version">
		1.5-SNAPSHOT
		</wicket:container>
	</p>
</div>

<div id="ft">
</div>
		


<!-- GAME GRID COMPONENTS BEGIN -->		
		
<div id="game-row" class="game-row">
</div>
<div id="game-cell" class="game-cell">
</div>
<div id="game-tile" class="game-tile">
	<div class="game-tile-inner">
		<a class="game-link" href="">
		<img class="game-img" src="game.jpg" />
		<div class="game-tile-caption">
			<big><strong>
			<span class="game-name">Search result</span>
			</strong></big>
		</div>
		</a>
	</div>
</div>

<!-- GAME GRID COMPONENTS END -->		
		
		
		
<!-- ----------------------------------------------------------------------- -->
</body>
</html>