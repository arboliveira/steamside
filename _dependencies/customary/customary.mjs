
function $parcel$exportWildcard(dest, source) {
  Object.keys(source).forEach(function(key) {
    if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) {
      return;
    }

    Object.defineProperty(dest, key, {
      enumerable: true,
      get: function get() {
        return source[key];
      }
    });
  });

  return dest;
}

function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}
var $07201b47c5f8d57a$exports = {};

$parcel$export($07201b47c5f8d57a$exports, "Customary", () => $dc3eede01c452bc5$export$7d556906c4a5f4a7);
$parcel$export($07201b47c5f8d57a$exports, "CustomaryElement", () => $98d0f6a447871cb0$export$4a183080d2c522d7);
class $16878b9af4c78a4c$export$2bcc17fb5433cbbf {
    document;
    globalThis;
    constructor(document, globalThis){
        this.document = document;
        this.globalThis = globalThis;
    }
    detect() {
        return this.detectElementNames().map((name)=>this.detectDeclaration(name));
    }
    detectElementNames() {
        const attribute = 'data-customary-name';
        const fromDocument = [
            ...this.document.querySelectorAll(`template[${attribute}]`)
        ].map((template)=>template.getAttribute(attribute));
        const prefix = 'customary:';
        const fromGlobalScope = Object.keys(this.globalThis).filter((name)=>name.startsWith(prefix)).map((name)=>name.substring(prefix.length));
        return [
            ...new Set([
                ...fromDocument,
                ...fromGlobalScope
            ])
        ];
    }
    detectDeclaration(name) {
        const fromGlobalScope = this.globalThis[`customary:${name}`];
        const config = fromGlobalScope?.config;
        const hooks = fromGlobalScope?.hooks;
        const values = fromGlobalScope?.values ?? this.detectValues(name);
        return {
            name: name,
            ...config ? {
                config: config
            } : {},
            ...hooks ? {
                hooks: hooks
            } : {},
            ...values ? {
                values: values
            } : {}
        };
    }
    detectValues(name) {
        const elements = this.document.querySelectorAll(`script[type="application/json"][data-customary-name='${name}']`);
        if (elements.length === 0) return undefined;
        const result = {};
        for (const element of elements)if (element.textContent) {
            // TODO Require a key and retire default 'state'
            const key = element.getAttribute('data-customary-value') ?? 'state';
            result[key] = JSON.parse(element.textContent);
        }
        return result;
    }
}


function $a6578a6f2ac293b9$export$3452ba782587c66f(constructor) {
    return $a6578a6f2ac293b9$var$definition_property in constructor;
}
function $a6578a6f2ac293b9$export$5c2b83001c88ec5b(constructor, definition) {
    constructor[$a6578a6f2ac293b9$var$definition_property] = definition;
}
function $a6578a6f2ac293b9$export$6dac8c184f86ad18(element) {
    const constructor = element.constructor;
    return constructor[$a6578a6f2ac293b9$var$definition_property] ?? (()=>{
        throw new Error(`${constructor.name}: element never defined`);
    })();
}
const $a6578a6f2ac293b9$var$definition_property = 'customary_definition';


class $961a8c3f5b2d4f3f$var$FetchText_DOM {
    async fetchText(input) {
        console.debug('fetch: ' + input);
        const response = await fetch(input);
        if (response.ok) return await response.text();
        throw new Error(response.statusText, {
            cause: response
        });
    }
}
const $961a8c3f5b2d4f3f$export$d763ec234f19c958 = new $961a8c3f5b2d4f3f$var$FetchText_DOM();


class $74ce46cea2cf8f30$export$f7dc7515e1ab8425 {
    fetchText;
    constructor(fetchText = (0, $961a8c3f5b2d4f3f$export$d763ec234f19c958)){
        this.fetchText = fetchText;
    }
    async getCSSStyleSheet(location) {
        return await this.fetchCSSStyleSheet(location);
    }
    async fetchCSSStyleSheet(location) {
        const text = await this.fetchText.fetchText(location);
        const cssStyleSheet = new CSSStyleSheet({
            baseURL: location
        });
        return cssStyleSheet.replace(text);
    }
}



async function $4e2d6dbcb29ca5b9$export$4b9207a613bd5d70(...locations) {
    await new $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9(new (0, $74ce46cea2cf8f30$export$f7dc7515e1ab8425)((0, $961a8c3f5b2d4f3f$export$d763ec234f19c958)), document).adoptCSSStylesheets(...locations);
}
class $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9 {
    cssStyleSheetImporter;
    document;
    constructor(cssStyleSheetImporter, document1){
        this.cssStyleSheetImporter = cssStyleSheetImporter;
        this.document = document1;
    }
    async adoptCSSStylesheets(...locations) {
        const cssStyleSheetsMaybe = await Promise.all(locations.map((location)=>this.cssStyleSheetImporter.getCSSStyleSheet(location)));
        const cssStyleSheets = cssStyleSheetsMaybe.filter((cssStyleSheet)=>!!cssStyleSheet);
        if (cssStyleSheets.length > 0) this.adoptedStyleSheets_push(cssStyleSheets);
    }
    /**
     * adopter of font stylesheets can only be the root document dom, not the shadow dom.
     * @see https://github.com/microsoft/vscode/issues/159877#issuecomment-1262843952
     * @see https://github.com/mdn/interactive-examples/issues/887#issuecomment-432606925
     */ adoptedStyleSheets_push(cssStyleSheets) {
        this.document.adoptedStyleSheets.push(...cssStyleSheets);
    }
}


class $ee240c89551fb5d5$export$403d1949f253139e {
    fetchText;
    cssStyleSheetImporter;
    options;
    constructor(fetchText, cssStyleSheetImporter, options){
        this.fetchText = fetchText;
        this.cssStyleSheetImporter = cssStyleSheetImporter;
        this.options = options;
    }
    async loadHtml() {
        const location = this.resolveResourceLocation('html');
        return await this.fetchText.fetchText(location);
    }
    async loadCssStyleSheet() {
        const location = this.resolveResourceLocation('css');
        return await this.cssStyleSheetImporter.getCSSStyleSheet(location);
    }
    resolveResourceLocation(extension) {
        return this.options.import_meta.resolve(`./${this.options.name}.${extension}`);
    }
}




function $8820451acf65219a$export$992aa6859e31245f(tag, value, template) {
    try {
        tag.outerHTML = value;
    } catch (error) {
        const chrome = "Failed to set the 'outerHTML' property on 'Element': This element's parent is of type '#document-fragment', which is not an element node.";
        if (error.message === chrome) template.innerHTML = value;
    }
}


function $225e422def53c65f$export$fef48429545ba792(markup) {
    return markup.replace(':', '\\:');
}


class $d7d47204179bab71$export$8d09ee4c629fddff {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $225e422def53c65f$export$fef48429545ba792)($d7d47204179bab71$var$for_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const items = tag.getAttribute('items') ?? (()=>{
                throw Error(`Attribute "items" is required for "${$d7d47204179bab71$var$for_markup}" markup`);
            })();
            const value = tag.getAttribute('value') ?? 'value';
            const index = tag.getAttribute('index');
            const args = index ? `(${value}, ${index})` : value;
            const body = tag.innerHTML;
            const directive = `\${map(${items}, ${args} => html\`${body}\`)}`;
            (0, $8820451acf65219a$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}
const $d7d47204179bab71$var$for_markup = 'customary:for';




class $50a55c62b436c070$export$30142ff0bf8ef8b2 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $225e422def53c65f$export$fef48429545ba792)($50a55c62b436c070$var$if_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const condition = tag.getAttribute('condition') ?? (()=>{
                throw Error(`Attribute "condition" is required for "${$50a55c62b436c070$var$if_markup}" markup`);
            })();
            const trueElements = [
                ...tag.querySelectorAll(`:scope > ${(0, $225e422def53c65f$export$fef48429545ba792)($50a55c62b436c070$var$true_markup)}`)
            ];
            if (trueElements.length > 1) throw Error(`Only one "${$50a55c62b436c070$var$true_markup}" is allowed for "${$50a55c62b436c070$var$if_markup}" markup`);
            const trueElement = trueElements[0];
            const falseElements = [
                ...tag.querySelectorAll(`:scope > ${(0, $225e422def53c65f$export$fef48429545ba792)($50a55c62b436c070$var$false_markup)}`)
            ];
            if (falseElements.length > 1) throw Error(`Only one "${$50a55c62b436c070$var$false_markup}" is allowed for "${$50a55c62b436c070$var$if_markup}" markup`);
            const falseElement = falseElements[0];
            if (falseElement && !trueElement) throw Error(`One "${$50a55c62b436c070$var$true_markup}" is required if "${$50a55c62b436c070$var$false_markup}" present for "${$50a55c62b436c070$var$if_markup}" markup`);
            const trueCase = `() => html\`${trueElement?.innerHTML ?? tag.innerHTML}\``;
            const falseCase = falseElement ? `, () => html\`${falseElement.innerHTML}\`` : '';
            const directive = `\${when(${condition}, ${trueCase}${falseCase})}`;
            (0, $8820451acf65219a$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}
const $50a55c62b436c070$var$if_markup = 'customary:if';
const $50a55c62b436c070$var$false_markup = 'customary:false';
const $50a55c62b436c070$var$true_markup = 'customary:true';



class $f343cffaa865bcc1$export$e8d2d0d808af9c0f {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const markup = node.querySelector((0, $225e422def53c65f$export$fef48429545ba792)($f343cffaa865bcc1$var$inside_markup));
            if (!markup) return;
            this.hydrateTree(markup, template);
            const selectors = markup.getAttribute('target');
            if (!selectors) throw new Error(`Attribute "target" is required for "${$f343cffaa865bcc1$var$inside_markup}" markup`);
            const target = node.querySelector(selectors);
            if (!target) throw new Error(`No element matching ${selectors}`);
            target.innerHTML = markup.innerHTML;
            markup.parentNode.removeChild(markup);
        }
    }
}
const $f343cffaa865bcc1$var$inside_markup = 'customary:inside';




class $a6629e29c8dba76d$export$19c1ebc334082502 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector((0, $225e422def53c65f$export$fef48429545ba792)($a6629e29c8dba76d$var$switch_markup));
            if (!tag) return;
            this.hydrateTree(tag, template);
            const value = tag.getAttribute('value') ?? (()=>{
                throw Error(`Attribute "value" is required for "${$a6629e29c8dba76d$var$switch_markup}" markup`);
            })();
            const cases = this.toCases([
                ...tag.querySelectorAll(`:scope > ${(0, $225e422def53c65f$export$fef48429545ba792)($a6629e29c8dba76d$var$case_markup)}`)
            ]);
            const valueCases = cases.valueCases.join(',\n');
            const defaultCase = cases.defaultCase ? `,\n${cases.defaultCase}` : '';
            const directive = `\${choose(${value},\n[${valueCases}]${defaultCase})}`;
            (0, $8820451acf65219a$export$992aa6859e31245f)(tag, directive, template);
        }
    }
    static toCases(cases) {
        if (cases.length === 0) throw Error(`At least one "${$a6629e29c8dba76d$var$case_markup}" is required for "${$a6629e29c8dba76d$var$switch_markup}" markup`);
        const defaultElements = cases.filter((caseElement)=>!caseElement.hasAttribute('value'));
        if (defaultElements.length > 1) throw Error(`Only one default "${$a6629e29c8dba76d$var$case_markup}" is allowed for "${$a6629e29c8dba76d$var$switch_markup}" markup`);
        const defaultElement = defaultElements[0];
        const defaultCase = `() => html\`${defaultElement?.innerHTML}\``;
        const valueElements = cases.filter((caseElement)=>caseElement.hasAttribute('value'));
        const valueCases = valueElements.map((caseElement)=>{
            const value = caseElement.getAttribute('value');
            return `['${value}', () => html\`${caseElement.innerHTML}\`]`;
        });
        return {
            valueCases: valueCases,
            defaultCase: defaultCase
        };
    }
}
const $a6629e29c8dba76d$var$switch_markup = 'customary:switch';
const $a6629e29c8dba76d$var$case_markup = 'customary:case';


class $aa0e73906d8c1d1f$export$d2f740e6c972cdb4 {
    static injectProperties(constructor, propertyDeclaration, names) {
        if (!names.length) return;
        const properties = constructor.properties ??= {};
        for (const key of names){
            if (key in properties) throw new Error(`${key}: property already exists.`);
            properties[key] = propertyDeclaration;
        }
    }
}


class $c3a8716eb65e2738$export$5168145dca66f61b {
    static addProperties(constructor, declaration, template) {
        const fromDeclaration = declaration.config?.attributes ?? [];
        const fromTemplate = template.getAttribute('data-customary-attributes')?.split(',').map((s)=>s.trim()) ?? [];
        const names = [
            ...new Set([
                ...fromDeclaration,
                ...fromTemplate
            ])
        ];
        (0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, {
            reflect: true
        }, names);
    }
}



class $0fe9377839455810$export$a9f1901adeec51a7 {
    static addProperties(constructor, declaration) {
        const fromDeclaration = declaration.config?.state ?? [];
        const fromLegacy = [
            'state'
        ];
        const names = [
            ...new Set([
                ...fromDeclaration,
                ...fromLegacy
            ])
        ];
        (0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, {
            state: true
        }, names);
    }
}



class $240403f5828ff7e8$export$61ef374d05bfb1e {
    static addProperties(constructor, declaration) {
        const hooks = declaration.hooks?.properties;
        const hooksArray = hooks instanceof Array ? hooks : [];
        const hooksRecord = hooks && !(hooks instanceof Array) ? hooks : {};
        const fromArray = hooksArray.map((o)=>o.name);
        const fromRecord = Object.keys(hooksRecord);
        const names = [
            ...new Set([
                ...fromArray,
                ...fromRecord
            ])
        ];
        for (const key of names)(0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, hooksArray.find((value)=>value.name === key)?.propertyDeclaration ?? hooksRecord[key], [
            key
        ]);
    }
}


class $f83be5948bd06259$export$1d2219be11768641 {
    declaration;
    async define(constructor) {
        const [definition] = await Promise.all([
            this.buildDefinition(constructor),
            this.adopt_font_cssStyleSheets()
        ]);
        return definition;
    }
    async buildDefinition(constructor) {
        const { template: template, templateInDocument: templateInDocument } = await this.resolveHTMLTemplateElement(this.name);
        this.addProperties(constructor, template);
        const cssStyleSheet = templateInDocument ? undefined : await this.loadExternalCSSStyleSheet();
        return {
            immutable_htmlString: this.getHtmlString(template),
            ...cssStyleSheet ? {
                cssStyleSheet: cssStyleSheet
            } : {},
            declaration: this.declaration
        };
    }
    async resolveHTMLTemplateElement(name) {
        try {
            const templateInDocument = $f83be5948bd06259$var$findHTMLTemplateElement(name, document);
            if (templateInDocument) return {
                template: templateInDocument,
                templateInDocument: templateInDocument
            };
            const templateInExternalFile = await this.findHTMLTemplateElementInExternalFile(name);
            return {
                template: templateInExternalFile,
                templateInDocument: undefined
            };
        } catch (error) {
            throw new Error('template unresolvable from current page or external html', {
                cause: error
            });
        }
    }
    addProperties(constructor, template) {
        (0, $c3a8716eb65e2738$export$5168145dca66f61b).addProperties(constructor, this.declaration, template);
        (0, $0fe9377839455810$export$a9f1901adeec51a7).addProperties(constructor, this.declaration);
        (0, $240403f5828ff7e8$export$61ef374d05bfb1e).addProperties(constructor, this.declaration);
    }
    getHtmlString(template) {
        (0, $d7d47204179bab71$export$8d09ee4c629fddff).hydrate(template);
        (0, $50a55c62b436c070$export$30142ff0bf8ef8b2).hydrate(template);
        (0, $a6629e29c8dba76d$export$19c1ebc334082502).hydrate(template);
        // must be last to accommodate all others
        (0, $f343cffaa865bcc1$export$e8d2d0d808af9c0f).hydrate(template);
        return $f83be5948bd06259$var$recode(template.innerHTML);
    }
    async findHTMLTemplateElementInExternalFile(name) {
        const htmlString = await this.loadExternalHtml();
        const template = document.createElement('template');
        template.innerHTML = htmlString;
        return $f83be5948bd06259$var$findHTMLTemplateElement(name, template.content) ?? template;
    }
    async loadExternalHtml() {
        try {
            return await (await this.externalLoader).loadHtml();
        } catch (error) {
            throw new Error('External html file out of reach.', {
                cause: error
            });
        }
    }
    async loadExternalCSSStyleSheet() {
        if (this.declaration.hooks?.externalLoader?.css_dont) return undefined;
        try {
            return await (await this.externalLoader).loadCssStyleSheet();
        } catch (error) {
            console.debug('External css file out of reach.', {
                cause: error
            });
            return undefined;
        }
    }
    async adopt_font_cssStyleSheets() {
        const locations = ((a)=>a.length > 0 ? a : undefined)([
            this.declaration.config?.define?.fontLocation,
            ...this.declaration.config?.define?.fontLocations ?? []
        ].filter((location)=>location != undefined));
        if (!locations) return;
        return await (await this.cssStyleSheetAdopter).adoptCSSStylesheets(...locations);
    }
    constructor(declaration){
        this.declaration = declaration;
        this.name = this.declaration.name;
    }
    name;
    get cssStyleSheetImporter() {
        return this._cssStyleSheetImporter ??= $f83be5948bd06259$var$loadCssStyleSheetImporter(this.fetchText);
    }
    _cssStyleSheetImporter;
    get cssStyleSheetAdopter() {
        return this._cssStyleSheetAdopter ??= $f83be5948bd06259$var$loadCssStyleSheetAdopter(this.cssStyleSheetImporter);
    }
    _cssStyleSheetAdopter;
    get externalLoader() {
        return this._externalLoader ??= $f83be5948bd06259$var$createExternalLoader(this.fetchText, this.cssStyleSheetImporter, {
            name: this.name,
            import_meta: this.get_import_meta()
        });
    }
    get_import_meta() {
        return this.declaration.hooks?.externalLoader?.import_meta ?? (()=>{
            throw new Error(`${this.name}: Customary needs "import.meta" if the custom element template ` + 'is to be loaded from an external file. ' + '(document did not have a named template element, and an html string was not provided.)');
        })();
    }
    _externalLoader;
    get fetchText() {
        return this._fetchText ??= $f83be5948bd06259$var$loadFetchText();
    }
    _fetchText;
}
async function $f83be5948bd06259$var$loadCssStyleSheetAdopter(cssStyleSheetImporter) {
    return new (0, $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9)(await cssStyleSheetImporter, document);
}
async function $f83be5948bd06259$var$loadCssStyleSheetImporter(fetchText) {
    return new (0, $74ce46cea2cf8f30$export$f7dc7515e1ab8425)(await fetchText);
}
async function $f83be5948bd06259$var$createExternalLoader(fetchText, cssStyleSheetImporter, options) {
    return new (0, $ee240c89551fb5d5$export$403d1949f253139e)(await fetchText, await cssStyleSheetImporter, options);
}
async function $f83be5948bd06259$var$loadFetchText() {
    return 0, $961a8c3f5b2d4f3f$export$d763ec234f19c958;
}
function $f83be5948bd06259$var$findHTMLTemplateElement(name, node) {
    return node.querySelector(`template[data-customary-name='${name}']`) ?? undefined;
}
/**
 innerHTML encodes some characters used by lit directives
 so we must decode them back into the HTML string.
 over time the need to do this should disappear,
 as we add directive markup for a larger number of lit directives.
 */ function $f83be5948bd06259$var$recode(htmlString) {
    // lit directives expressed as arrow functions
    return htmlString.replaceAll('=&gt;', '=>');
}


const $d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END = false;
class $d29bea016259bab1$export$d37a9068d840d1de {
    dom_customElementRegistry;
    static singleton() {
        return $d29bea016259bab1$export$d37a9068d840d1de.CustomaryRegistry_singleton;
    }
    async declare(constructor, declaration) {
        if (!declaration.name) throw new Error('A name must be provided to define a custom element.');
        if (!$d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) {
            await this.define(constructor, declaration);
            return;
        }
        this.declarations.set(constructor, declaration);
    }
    async settle() {
        if (!$d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) return;
        const entries = [
            ...this.declarations.entries()
        ];
        const promises = entries.map((entry)=>{
            const [constructor, declaration] = entry;
            return this.define(constructor, declaration);
        });
        await Promise.all(promises);
    }
    async untilDefined(constructor) {
        const name = constructor.customary?.name;
        if (name === undefined) throw new Error('Class must have the "customary" declaration with a "name" property.');
        return await this.dom_customElementRegistry.whenDefined(name);
    }
    async define(constructor, declaration) {
        if ((0, $a6578a6f2ac293b9$export$3452ba782587c66f)(constructor)) {
            console.debug(`${constructor.name}: element already defined, skipping...`);
            return;
        }
        const definition = await new (0, $f83be5948bd06259$export$1d2219be11768641)(declaration).define(constructor);
        (0, $a6578a6f2ac293b9$export$5c2b83001c88ec5b)(constructor, definition);
        this.dom_customElementRegistry.define(declaration.name, constructor, declaration.hooks?.dom?.define?.options);
    }
    constructor(dom_customElementRegistry){
        this.dom_customElementRegistry = dom_customElementRegistry;
        this.declarations = new Map();
    }
    declarations;
    static CustomaryRegistry_singleton = new $d29bea016259bab1$export$d37a9068d840d1de(customElements);
}


var $6b52b5e2005fdcd9$exports = {};

$parcel$export($6b52b5e2005fdcd9$exports, "LitElement", () => $d812c34aed91105d$export$3f2f9f5909897157);
$parcel$export($6b52b5e2005fdcd9$exports, "html", () => $34c890d2bba8533a$export$c0bb0b647f701bb5);
$parcel$export($6b52b5e2005fdcd9$exports, "map", () => $2df088f3943a4311$export$871de8747c9eaa88);
$parcel$export($6b52b5e2005fdcd9$exports, "choose", () => $36ba9077c37f6d69$export$7877a478dd30fd3d);
$parcel$export($6b52b5e2005fdcd9$exports, "when", () => $5114a2a7e9d58c35$export$a55877ca9db47377);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $8986b12aaba1663b$var$t = globalThis, $8986b12aaba1663b$export$b4d10f6001c083c2 = $8986b12aaba1663b$var$t.ShadowRoot && (void 0 === $8986b12aaba1663b$var$t.ShadyCSS || $8986b12aaba1663b$var$t.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, $8986b12aaba1663b$var$s = Symbol(), $8986b12aaba1663b$var$o = new WeakMap;
class $8986b12aaba1663b$export$505d1e8739bad805 {
    constructor(t, e, o){
        if (this._$cssResult$ = !0, o !== $8986b12aaba1663b$var$s) throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
        this.cssText = t, this.t = e;
    }
    get styleSheet() {
        let t = this.o;
        const s = this.t;
        if ($8986b12aaba1663b$export$b4d10f6001c083c2 && void 0 === t) {
            const e = void 0 !== s && 1 === s.length;
            e && (t = $8986b12aaba1663b$var$o.get(s)), void 0 === t && ((this.o = t = new CSSStyleSheet).replaceSync(this.cssText), e && $8986b12aaba1663b$var$o.set(s, t));
        }
        return t;
    }
    toString() {
        return this.cssText;
    }
}
const $8986b12aaba1663b$export$8d80f9cac07cdb3 = (t)=>new $8986b12aaba1663b$export$505d1e8739bad805("string" == typeof t ? t : t + "", void 0, $8986b12aaba1663b$var$s), $8986b12aaba1663b$export$dbf350e5966cf602 = (t, ...e)=>{
    const o = 1 === t.length ? t[0] : e.reduce((e, s, o)=>e + ((t)=>{
            if (!0 === t._$cssResult$) return t.cssText;
            if ("number" == typeof t) return t;
            throw Error("Value passed to 'css' function must be a 'css' function result: " + t + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
        })(s) + t[o + 1], t[0]);
    return new $8986b12aaba1663b$export$505d1e8739bad805(o, t, $8986b12aaba1663b$var$s);
}, $8986b12aaba1663b$export$2ca4a66ec4cecb90 = (s, o)=>{
    if ($8986b12aaba1663b$export$b4d10f6001c083c2) s.adoptedStyleSheets = o.map((t)=>t instanceof CSSStyleSheet ? t : t.styleSheet);
    else for (const e of o){
        const o = document.createElement("style"), n = $8986b12aaba1663b$var$t.litNonce;
        void 0 !== n && o.setAttribute("nonce", n), o.textContent = e.cssText, s.appendChild(o);
    }
}, $8986b12aaba1663b$export$ee69dfd951e24778 = $8986b12aaba1663b$export$b4d10f6001c083c2 ? (t)=>t : (t)=>t instanceof CSSStyleSheet ? ((t)=>{
        let e = "";
        for (const s of t.cssRules)e += s.cssText;
        return $8986b12aaba1663b$export$8d80f9cac07cdb3(e);
    })(t) : t;


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const { is: $03b44d016d05e4a8$var$i, defineProperty: $03b44d016d05e4a8$var$e, getOwnPropertyDescriptor: $03b44d016d05e4a8$var$h, getOwnPropertyNames: $03b44d016d05e4a8$var$r, getOwnPropertySymbols: $03b44d016d05e4a8$var$o, getPrototypeOf: $03b44d016d05e4a8$var$n } = Object, $03b44d016d05e4a8$var$a = globalThis, $03b44d016d05e4a8$var$c = $03b44d016d05e4a8$var$a.trustedTypes, $03b44d016d05e4a8$var$l = $03b44d016d05e4a8$var$c ? $03b44d016d05e4a8$var$c.emptyScript : "", $03b44d016d05e4a8$var$p = $03b44d016d05e4a8$var$a.reactiveElementPolyfillSupport, $03b44d016d05e4a8$var$d = (t, s)=>t, $03b44d016d05e4a8$export$7312b35fbf521afb = {
    toAttribute (t, s) {
        switch(s){
            case Boolean:
                t = t ? $03b44d016d05e4a8$var$l : null;
                break;
            case Object:
            case Array:
                t = null == t ? t : JSON.stringify(t);
        }
        return t;
    },
    fromAttribute (t, s) {
        let i = t;
        switch(s){
            case Boolean:
                i = null !== t;
                break;
            case Number:
                i = null === t ? null : Number(t);
                break;
            case Object:
            case Array:
                try {
                    i = JSON.parse(t);
                } catch (t) {
                    i = null;
                }
        }
        return i;
    }
}, $03b44d016d05e4a8$export$53a6892c50694894 = (t, s)=>!$03b44d016d05e4a8$var$i(t, s), $03b44d016d05e4a8$var$b = {
    attribute: !0,
    type: String,
    converter: $03b44d016d05e4a8$export$7312b35fbf521afb,
    reflect: !1,
    useDefault: !1,
    hasChanged: $03b44d016d05e4a8$export$53a6892c50694894
};
Symbol.metadata ??= Symbol("metadata"), $03b44d016d05e4a8$var$a.litPropertyMetadata ??= new WeakMap;
class $03b44d016d05e4a8$export$c7c07a37856565d extends HTMLElement {
    static addInitializer(t) {
        this._$Ei(), (this.l ??= []).push(t);
    }
    static get observedAttributes() {
        return this.finalize(), this._$Eh && [
            ...this._$Eh.keys()
        ];
    }
    static createProperty(t, s = $03b44d016d05e4a8$var$b) {
        if (s.state && (s.attribute = !1), this._$Ei(), this.prototype.hasOwnProperty(t) && ((s = Object.create(s)).wrapped = !0), this.elementProperties.set(t, s), !s.noAccessor) {
            const i = Symbol(), h = this.getPropertyDescriptor(t, i, s);
            void 0 !== h && $03b44d016d05e4a8$var$e(this.prototype, t, h);
        }
    }
    static getPropertyDescriptor(t, s, i) {
        const { get: e, set: r } = $03b44d016d05e4a8$var$h(this.prototype, t) ?? {
            get () {
                return this[s];
            },
            set (t) {
                this[s] = t;
            }
        };
        return {
            get: e,
            set (s) {
                const h = e?.call(this);
                r?.call(this, s), this.requestUpdate(t, h, i);
            },
            configurable: !0,
            enumerable: !0
        };
    }
    static getPropertyOptions(t) {
        return this.elementProperties.get(t) ?? $03b44d016d05e4a8$var$b;
    }
    static _$Ei() {
        if (this.hasOwnProperty($03b44d016d05e4a8$var$d("elementProperties"))) return;
        const t = $03b44d016d05e4a8$var$n(this);
        t.finalize(), void 0 !== t.l && (this.l = [
            ...t.l
        ]), this.elementProperties = new Map(t.elementProperties);
    }
    static finalize() {
        if (this.hasOwnProperty($03b44d016d05e4a8$var$d("finalized"))) return;
        if (this.finalized = !0, this._$Ei(), this.hasOwnProperty($03b44d016d05e4a8$var$d("properties"))) {
            const t = this.properties, s = [
                ...$03b44d016d05e4a8$var$r(t),
                ...$03b44d016d05e4a8$var$o(t)
            ];
            for (const i of s)this.createProperty(i, t[i]);
        }
        const t = this[Symbol.metadata];
        if (null !== t) {
            const s = litPropertyMetadata.get(t);
            if (void 0 !== s) for (const [t, i] of s)this.elementProperties.set(t, i);
        }
        this._$Eh = new Map;
        for (const [t, s] of this.elementProperties){
            const i = this._$Eu(t, s);
            void 0 !== i && this._$Eh.set(i, t);
        }
        this.elementStyles = this.finalizeStyles(this.styles);
    }
    static finalizeStyles(s) {
        const i = [];
        if (Array.isArray(s)) {
            const e = new Set(s.flat(1 / 0).reverse());
            for (const s of e)i.unshift((0, $8986b12aaba1663b$export$ee69dfd951e24778)(s));
        } else void 0 !== s && i.push((0, $8986b12aaba1663b$export$ee69dfd951e24778)(s));
        return i;
    }
    static _$Eu(t, s) {
        const i = s.attribute;
        return !1 === i ? void 0 : "string" == typeof i ? i : "string" == typeof t ? t.toLowerCase() : void 0;
    }
    constructor(){
        super(), this._$Ep = void 0, this.isUpdatePending = !1, this.hasUpdated = !1, this._$Em = null, this._$Ev();
    }
    _$Ev() {
        this._$ES = new Promise((t)=>this.enableUpdating = t), this._$AL = new Map, this._$E_(), this.requestUpdate(), this.constructor.l?.forEach((t)=>t(this));
    }
    addController(t) {
        (this._$EO ??= new Set).add(t), void 0 !== this.renderRoot && this.isConnected && t.hostConnected?.();
    }
    removeController(t) {
        this._$EO?.delete(t);
    }
    _$E_() {
        const t = new Map, s = this.constructor.elementProperties;
        for (const i of s.keys())this.hasOwnProperty(i) && (t.set(i, this[i]), delete this[i]);
        t.size > 0 && (this._$Ep = t);
    }
    createRenderRoot() {
        const t = this.shadowRoot ?? this.attachShadow(this.constructor.shadowRootOptions);
        return (0, $8986b12aaba1663b$export$2ca4a66ec4cecb90)(t, this.constructor.elementStyles), t;
    }
    connectedCallback() {
        this.renderRoot ??= this.createRenderRoot(), this.enableUpdating(!0), this._$EO?.forEach((t)=>t.hostConnected?.());
    }
    enableUpdating(t) {}
    disconnectedCallback() {
        this._$EO?.forEach((t)=>t.hostDisconnected?.());
    }
    attributeChangedCallback(t, s, i) {
        this._$AK(t, i);
    }
    _$ET(t, s) {
        const i = this.constructor.elementProperties.get(t), e = this.constructor._$Eu(t, i);
        if (void 0 !== e && !0 === i.reflect) {
            const h = (void 0 !== i.converter?.toAttribute ? i.converter : $03b44d016d05e4a8$export$7312b35fbf521afb).toAttribute(s, i.type);
            this._$Em = t, null == h ? this.removeAttribute(e) : this.setAttribute(e, h), this._$Em = null;
        }
    }
    _$AK(t, s) {
        const i = this.constructor, e = i._$Eh.get(t);
        if (void 0 !== e && this._$Em !== e) {
            const t = i.getPropertyOptions(e), h = "function" == typeof t.converter ? {
                fromAttribute: t.converter
            } : void 0 !== t.converter?.fromAttribute ? t.converter : $03b44d016d05e4a8$export$7312b35fbf521afb;
            this._$Em = e, this[e] = h.fromAttribute(s, t.type) ?? this._$Ej?.get(e) ?? null, this._$Em = null;
        }
    }
    requestUpdate(t, s, i) {
        if (void 0 !== t) {
            const e = this.constructor, h = this[t];
            if (i ??= e.getPropertyOptions(t), !((i.hasChanged ?? $03b44d016d05e4a8$export$53a6892c50694894)(h, s) || i.useDefault && i.reflect && h === this._$Ej?.get(t) && !this.hasAttribute(e._$Eu(t, i)))) return;
            this.C(t, s, i);
        }
        !1 === this.isUpdatePending && (this._$ES = this._$EP());
    }
    C(t, s, { useDefault: i, reflect: e, wrapped: h }, r) {
        i && !(this._$Ej ??= new Map).has(t) && (this._$Ej.set(t, r ?? s ?? this[t]), !0 !== h || void 0 !== r) || (this._$AL.has(t) || (this.hasUpdated || i || (s = void 0), this._$AL.set(t, s)), !0 === e && this._$Em !== t && (this._$Eq ??= new Set).add(t));
    }
    async _$EP() {
        this.isUpdatePending = !0;
        try {
            await this._$ES;
        } catch (t) {
            Promise.reject(t);
        }
        const t = this.scheduleUpdate();
        return null != t && await t, !this.isUpdatePending;
    }
    scheduleUpdate() {
        return this.performUpdate();
    }
    performUpdate() {
        if (!this.isUpdatePending) return;
        if (!this.hasUpdated) {
            if (this.renderRoot ??= this.createRenderRoot(), this._$Ep) {
                for (const [t, s] of this._$Ep)this[t] = s;
                this._$Ep = void 0;
            }
            const t = this.constructor.elementProperties;
            if (t.size > 0) for (const [s, i] of t){
                const { wrapped: t } = i, e = this[s];
                !0 !== t || this._$AL.has(s) || void 0 === e || this.C(s, void 0, i, e);
            }
        }
        let t = !1;
        const s = this._$AL;
        try {
            t = this.shouldUpdate(s), t ? (this.willUpdate(s), this._$EO?.forEach((t)=>t.hostUpdate?.()), this.update(s)) : this._$EM();
        } catch (s) {
            throw t = !1, this._$EM(), s;
        }
        t && this._$AE(s);
    }
    willUpdate(t) {}
    _$AE(t) {
        this._$EO?.forEach((t)=>t.hostUpdated?.()), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(t)), this.updated(t);
    }
    _$EM() {
        this._$AL = new Map, this.isUpdatePending = !1;
    }
    get updateComplete() {
        return this.getUpdateComplete();
    }
    getUpdateComplete() {
        return this._$ES;
    }
    shouldUpdate(t) {
        return !0;
    }
    update(t) {
        this._$Eq &&= this._$Eq.forEach((t)=>this._$ET(t, this[t])), this._$EM();
    }
    updated(t) {}
    firstUpdated(t) {}
}
$03b44d016d05e4a8$export$c7c07a37856565d.elementStyles = [], $03b44d016d05e4a8$export$c7c07a37856565d.shadowRootOptions = {
    mode: "open"
}, $03b44d016d05e4a8$export$c7c07a37856565d[$03b44d016d05e4a8$var$d("elementProperties")] = new Map, $03b44d016d05e4a8$export$c7c07a37856565d[$03b44d016d05e4a8$var$d("finalized")] = new Map, $03b44d016d05e4a8$var$p?.({
    ReactiveElement: $03b44d016d05e4a8$export$c7c07a37856565d
}), ($03b44d016d05e4a8$var$a.reactiveElementVersions ??= []).push("2.1.0");


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $34c890d2bba8533a$var$t = globalThis, $34c890d2bba8533a$var$i = $34c890d2bba8533a$var$t.trustedTypes, $34c890d2bba8533a$var$s = $34c890d2bba8533a$var$i ? $34c890d2bba8533a$var$i.createPolicy("lit-html", {
    createHTML: (t)=>t
}) : void 0, $34c890d2bba8533a$var$e = "$lit$", $34c890d2bba8533a$var$h = `lit$${Math.random().toFixed(9).slice(2)}$`, $34c890d2bba8533a$var$o = "?" + $34c890d2bba8533a$var$h, $34c890d2bba8533a$var$n = `<${$34c890d2bba8533a$var$o}>`, $34c890d2bba8533a$var$r = document, $34c890d2bba8533a$var$l = ()=>$34c890d2bba8533a$var$r.createComment(""), $34c890d2bba8533a$var$c = (t)=>null === t || "object" != typeof t && "function" != typeof t, $34c890d2bba8533a$var$a = Array.isArray, $34c890d2bba8533a$var$u = (t)=>$34c890d2bba8533a$var$a(t) || "function" == typeof t?.[Symbol.iterator], $34c890d2bba8533a$var$d = "[ \t\n\f\r]", $34c890d2bba8533a$var$f = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, $34c890d2bba8533a$var$v = /-->/g, $34c890d2bba8533a$var$_ = />/g, $34c890d2bba8533a$var$m = RegExp(`>|${$34c890d2bba8533a$var$d}(?:([^\\s"'>=/]+)(${$34c890d2bba8533a$var$d}*=${$34c890d2bba8533a$var$d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`, "g"), $34c890d2bba8533a$var$p = /'/g, $34c890d2bba8533a$var$g = /"/g, $34c890d2bba8533a$var$$ = /^(?:script|style|textarea|title)$/i, $34c890d2bba8533a$var$y = (t)=>(i, ...s)=>({
            _$litType$: t,
            strings: i,
            values: s
        }), $34c890d2bba8533a$export$c0bb0b647f701bb5 = $34c890d2bba8533a$var$y(1), $34c890d2bba8533a$export$7ed1367e7fa1ad68 = $34c890d2bba8533a$var$y(2), $34c890d2bba8533a$export$47d5b44d225be5b4 = $34c890d2bba8533a$var$y(3), $34c890d2bba8533a$export$9c068ae9cc5db4e8 = Symbol.for("lit-noChange"), $34c890d2bba8533a$export$45b790e32b2810ee = Symbol.for("lit-nothing"), $34c890d2bba8533a$var$A = new WeakMap, $34c890d2bba8533a$var$C = $34c890d2bba8533a$var$r.createTreeWalker($34c890d2bba8533a$var$r, 129);
function $34c890d2bba8533a$var$P(t, i) {
    if (!$34c890d2bba8533a$var$a(t) || !t.hasOwnProperty("raw")) throw Error("invalid template strings array");
    return void 0 !== $34c890d2bba8533a$var$s ? $34c890d2bba8533a$var$s.createHTML(i) : i;
}
const $34c890d2bba8533a$var$V = (t, i)=>{
    const s = t.length - 1, o = [];
    let r, l = 2 === i ? "<svg>" : 3 === i ? "<math>" : "", c = $34c890d2bba8533a$var$f;
    for(let i = 0; i < s; i++){
        const s = t[i];
        let a, u, d = -1, y = 0;
        for(; y < s.length && (c.lastIndex = y, u = c.exec(s), null !== u);)y = c.lastIndex, c === $34c890d2bba8533a$var$f ? "!--" === u[1] ? c = $34c890d2bba8533a$var$v : void 0 !== u[1] ? c = $34c890d2bba8533a$var$_ : void 0 !== u[2] ? ($34c890d2bba8533a$var$$.test(u[2]) && (r = RegExp("</" + u[2], "g")), c = $34c890d2bba8533a$var$m) : void 0 !== u[3] && (c = $34c890d2bba8533a$var$m) : c === $34c890d2bba8533a$var$m ? ">" === u[0] ? (c = r ?? $34c890d2bba8533a$var$f, d = -1) : void 0 === u[1] ? d = -2 : (d = c.lastIndex - u[2].length, a = u[1], c = void 0 === u[3] ? $34c890d2bba8533a$var$m : '"' === u[3] ? $34c890d2bba8533a$var$g : $34c890d2bba8533a$var$p) : c === $34c890d2bba8533a$var$g || c === $34c890d2bba8533a$var$p ? c = $34c890d2bba8533a$var$m : c === $34c890d2bba8533a$var$v || c === $34c890d2bba8533a$var$_ ? c = $34c890d2bba8533a$var$f : (c = $34c890d2bba8533a$var$m, r = void 0);
        const x = c === $34c890d2bba8533a$var$m && t[i + 1].startsWith("/>") ? " " : "";
        l += c === $34c890d2bba8533a$var$f ? s + $34c890d2bba8533a$var$n : d >= 0 ? (o.push(a), s.slice(0, d) + $34c890d2bba8533a$var$e + s.slice(d) + $34c890d2bba8533a$var$h + x) : s + $34c890d2bba8533a$var$h + (-2 === d ? i : x);
    }
    return [
        $34c890d2bba8533a$var$P(t, l + (t[s] || "<?>") + (2 === i ? "</svg>" : 3 === i ? "</math>" : "")),
        o
    ];
};
class $34c890d2bba8533a$var$N {
    constructor({ strings: t, _$litType$: s }, n){
        let r;
        this.parts = [];
        let c = 0, a = 0;
        const u = t.length - 1, d = this.parts, [f, v] = $34c890d2bba8533a$var$V(t, s);
        if (this.el = $34c890d2bba8533a$var$N.createElement(f, n), $34c890d2bba8533a$var$C.currentNode = this.el.content, 2 === s || 3 === s) {
            const t = this.el.content.firstChild;
            t.replaceWith(...t.childNodes);
        }
        for(; null !== (r = $34c890d2bba8533a$var$C.nextNode()) && d.length < u;){
            if (1 === r.nodeType) {
                if (r.hasAttributes()) for (const t of r.getAttributeNames())if (t.endsWith($34c890d2bba8533a$var$e)) {
                    const i = v[a++], s = r.getAttribute(t).split($34c890d2bba8533a$var$h), e = /([.?@])?(.*)/.exec(i);
                    d.push({
                        type: 1,
                        index: c,
                        name: e[2],
                        strings: s,
                        ctor: "." === e[1] ? $34c890d2bba8533a$var$H : "?" === e[1] ? $34c890d2bba8533a$var$I : "@" === e[1] ? $34c890d2bba8533a$var$L : $34c890d2bba8533a$var$k
                    }), r.removeAttribute(t);
                } else t.startsWith($34c890d2bba8533a$var$h) && (d.push({
                    type: 6,
                    index: c
                }), r.removeAttribute(t));
                if ($34c890d2bba8533a$var$$.test(r.tagName)) {
                    const t = r.textContent.split($34c890d2bba8533a$var$h), s = t.length - 1;
                    if (s > 0) {
                        r.textContent = $34c890d2bba8533a$var$i ? $34c890d2bba8533a$var$i.emptyScript : "";
                        for(let i = 0; i < s; i++)r.append(t[i], $34c890d2bba8533a$var$l()), $34c890d2bba8533a$var$C.nextNode(), d.push({
                            type: 2,
                            index: ++c
                        });
                        r.append(t[s], $34c890d2bba8533a$var$l());
                    }
                }
            } else if (8 === r.nodeType) {
                if (r.data === $34c890d2bba8533a$var$o) d.push({
                    type: 2,
                    index: c
                });
                else {
                    let t = -1;
                    for(; -1 !== (t = r.data.indexOf($34c890d2bba8533a$var$h, t + 1));)d.push({
                        type: 7,
                        index: c
                    }), t += $34c890d2bba8533a$var$h.length - 1;
                }
            }
            c++;
        }
    }
    static createElement(t, i) {
        const s = $34c890d2bba8533a$var$r.createElement("template");
        return s.innerHTML = t, s;
    }
}
function $34c890d2bba8533a$var$S(t, i, s = t, e) {
    if (i === $34c890d2bba8533a$export$9c068ae9cc5db4e8) return i;
    let h = void 0 !== e ? s._$Co?.[e] : s._$Cl;
    const o = $34c890d2bba8533a$var$c(i) ? void 0 : i._$litDirective$;
    return h?.constructor !== o && (h?._$AO?.(!1), void 0 === o ? h = void 0 : (h = new o(t), h._$AT(t, s, e)), void 0 !== e ? (s._$Co ??= [])[e] = h : s._$Cl = h), void 0 !== h && (i = $34c890d2bba8533a$var$S(t, h._$AS(t, i.values), h, e)), i;
}
class $34c890d2bba8533a$var$M {
    constructor(t, i){
        this._$AV = [], this._$AN = void 0, this._$AD = t, this._$AM = i;
    }
    get parentNode() {
        return this._$AM.parentNode;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    u(t) {
        const { el: { content: i }, parts: s } = this._$AD, e = (t?.creationScope ?? $34c890d2bba8533a$var$r).importNode(i, !0);
        $34c890d2bba8533a$var$C.currentNode = e;
        let h = $34c890d2bba8533a$var$C.nextNode(), o = 0, n = 0, l = s[0];
        for(; void 0 !== l;){
            if (o === l.index) {
                let i;
                2 === l.type ? i = new $34c890d2bba8533a$var$R(h, h.nextSibling, this, t) : 1 === l.type ? i = new l.ctor(h, l.name, l.strings, this, t) : 6 === l.type && (i = new $34c890d2bba8533a$var$z(h, this, t)), this._$AV.push(i), l = s[++n];
            }
            o !== l?.index && (h = $34c890d2bba8533a$var$C.nextNode(), o++);
        }
        return $34c890d2bba8533a$var$C.currentNode = $34c890d2bba8533a$var$r, e;
    }
    p(t) {
        let i = 0;
        for (const s of this._$AV)void 0 !== s && (void 0 !== s.strings ? (s._$AI(t, s, i), i += s.strings.length - 2) : s._$AI(t[i])), i++;
    }
}
class $34c890d2bba8533a$var$R {
    get _$AU() {
        return this._$AM?._$AU ?? this._$Cv;
    }
    constructor(t, i, s, e){
        this.type = 2, this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee, this._$AN = void 0, this._$AA = t, this._$AB = i, this._$AM = s, this.options = e, this._$Cv = e?.isConnected ?? !0;
    }
    get parentNode() {
        let t = this._$AA.parentNode;
        const i = this._$AM;
        return void 0 !== i && 11 === t?.nodeType && (t = i.parentNode), t;
    }
    get startNode() {
        return this._$AA;
    }
    get endNode() {
        return this._$AB;
    }
    _$AI(t, i = this) {
        t = $34c890d2bba8533a$var$S(this, t, i), $34c890d2bba8533a$var$c(t) ? t === $34c890d2bba8533a$export$45b790e32b2810ee || null == t || "" === t ? (this._$AH !== $34c890d2bba8533a$export$45b790e32b2810ee && this._$AR(), this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee) : t !== this._$AH && t !== $34c890d2bba8533a$export$9c068ae9cc5db4e8 && this._(t) : void 0 !== t._$litType$ ? this.$(t) : void 0 !== t.nodeType ? this.T(t) : $34c890d2bba8533a$var$u(t) ? this.k(t) : this._(t);
    }
    O(t) {
        return this._$AA.parentNode.insertBefore(t, this._$AB);
    }
    T(t) {
        this._$AH !== t && (this._$AR(), this._$AH = this.O(t));
    }
    _(t) {
        this._$AH !== $34c890d2bba8533a$export$45b790e32b2810ee && $34c890d2bba8533a$var$c(this._$AH) ? this._$AA.nextSibling.data = t : this.T($34c890d2bba8533a$var$r.createTextNode(t)), this._$AH = t;
    }
    $(t) {
        const { values: i, _$litType$: s } = t, e = "number" == typeof s ? this._$AC(t) : (void 0 === s.el && (s.el = $34c890d2bba8533a$var$N.createElement($34c890d2bba8533a$var$P(s.h, s.h[0]), this.options)), s);
        if (this._$AH?._$AD === e) this._$AH.p(i);
        else {
            const t = new $34c890d2bba8533a$var$M(e, this), s = t.u(this.options);
            t.p(i), this.T(s), this._$AH = t;
        }
    }
    _$AC(t) {
        let i = $34c890d2bba8533a$var$A.get(t.strings);
        return void 0 === i && $34c890d2bba8533a$var$A.set(t.strings, i = new $34c890d2bba8533a$var$N(t)), i;
    }
    k(t) {
        $34c890d2bba8533a$var$a(this._$AH) || (this._$AH = [], this._$AR());
        const i = this._$AH;
        let s, e = 0;
        for (const h of t)e === i.length ? i.push(s = new $34c890d2bba8533a$var$R(this.O($34c890d2bba8533a$var$l()), this.O($34c890d2bba8533a$var$l()), this, this.options)) : s = i[e], s._$AI(h), e++;
        e < i.length && (this._$AR(s && s._$AB.nextSibling, e), i.length = e);
    }
    _$AR(t = this._$AA.nextSibling, i) {
        for(this._$AP?.(!1, !0, i); t && t !== this._$AB;){
            const i = t.nextSibling;
            t.remove(), t = i;
        }
    }
    setConnected(t) {
        void 0 === this._$AM && (this._$Cv = t, this._$AP?.(t));
    }
}
class $34c890d2bba8533a$var$k {
    get tagName() {
        return this.element.tagName;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    constructor(t, i, s, e, h){
        this.type = 1, this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee, this._$AN = void 0, this.element = t, this.name = i, this._$AM = e, this.options = h, s.length > 2 || "" !== s[0] || "" !== s[1] ? (this._$AH = Array(s.length - 1).fill(new String), this.strings = s) : this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee;
    }
    _$AI(t, i = this, s, e) {
        const h = this.strings;
        let o = !1;
        if (void 0 === h) t = $34c890d2bba8533a$var$S(this, t, i, 0), o = !$34c890d2bba8533a$var$c(t) || t !== this._$AH && t !== $34c890d2bba8533a$export$9c068ae9cc5db4e8, o && (this._$AH = t);
        else {
            const e = t;
            let n, r;
            for(t = h[0], n = 0; n < h.length - 1; n++)r = $34c890d2bba8533a$var$S(this, e[s + n], i, n), r === $34c890d2bba8533a$export$9c068ae9cc5db4e8 && (r = this._$AH[n]), o ||= !$34c890d2bba8533a$var$c(r) || r !== this._$AH[n], r === $34c890d2bba8533a$export$45b790e32b2810ee ? t = $34c890d2bba8533a$export$45b790e32b2810ee : t !== $34c890d2bba8533a$export$45b790e32b2810ee && (t += (r ?? "") + h[n + 1]), this._$AH[n] = r;
        }
        o && !e && this.j(t);
    }
    j(t) {
        t === $34c890d2bba8533a$export$45b790e32b2810ee ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t ?? "");
    }
}
class $34c890d2bba8533a$var$H extends $34c890d2bba8533a$var$k {
    constructor(){
        super(...arguments), this.type = 3;
    }
    j(t) {
        this.element[this.name] = t === $34c890d2bba8533a$export$45b790e32b2810ee ? void 0 : t;
    }
}
class $34c890d2bba8533a$var$I extends $34c890d2bba8533a$var$k {
    constructor(){
        super(...arguments), this.type = 4;
    }
    j(t) {
        this.element.toggleAttribute(this.name, !!t && t !== $34c890d2bba8533a$export$45b790e32b2810ee);
    }
}
class $34c890d2bba8533a$var$L extends $34c890d2bba8533a$var$k {
    constructor(t, i, s, e, h){
        super(t, i, s, e, h), this.type = 5;
    }
    _$AI(t, i = this) {
        if ((t = $34c890d2bba8533a$var$S(this, t, i, 0) ?? $34c890d2bba8533a$export$45b790e32b2810ee) === $34c890d2bba8533a$export$9c068ae9cc5db4e8) return;
        const s = this._$AH, e = t === $34c890d2bba8533a$export$45b790e32b2810ee && s !== $34c890d2bba8533a$export$45b790e32b2810ee || t.capture !== s.capture || t.once !== s.once || t.passive !== s.passive, h = t !== $34c890d2bba8533a$export$45b790e32b2810ee && (s === $34c890d2bba8533a$export$45b790e32b2810ee || e);
        e && this.element.removeEventListener(this.name, this, s), h && this.element.addEventListener(this.name, this, t), this._$AH = t;
    }
    handleEvent(t) {
        "function" == typeof this._$AH ? this._$AH.call(this.options?.host ?? this.element, t) : this._$AH.handleEvent(t);
    }
}
class $34c890d2bba8533a$var$z {
    constructor(t, i, s){
        this.element = t, this.type = 6, this._$AN = void 0, this._$AM = i, this.options = s;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    _$AI(t) {
        $34c890d2bba8533a$var$S(this, t);
    }
}
const $34c890d2bba8533a$export$8613d1ca9052b22e = {
    M: $34c890d2bba8533a$var$e,
    P: $34c890d2bba8533a$var$h,
    A: $34c890d2bba8533a$var$o,
    C: 1,
    L: $34c890d2bba8533a$var$V,
    R: $34c890d2bba8533a$var$M,
    D: $34c890d2bba8533a$var$u,
    V: $34c890d2bba8533a$var$S,
    I: $34c890d2bba8533a$var$R,
    H: $34c890d2bba8533a$var$k,
    N: $34c890d2bba8533a$var$I,
    U: $34c890d2bba8533a$var$L,
    B: $34c890d2bba8533a$var$H,
    F: $34c890d2bba8533a$var$z
}, $34c890d2bba8533a$var$j = $34c890d2bba8533a$var$t.litHtmlPolyfillSupport;
$34c890d2bba8533a$var$j?.($34c890d2bba8533a$var$N, $34c890d2bba8533a$var$R), ($34c890d2bba8533a$var$t.litHtmlVersions ??= []).push("3.3.0");
const $34c890d2bba8533a$export$b3890eb0ae9dca99 = (t, i, s)=>{
    const e = s?.renderBefore ?? i;
    let h = e._$litPart$;
    if (void 0 === h) {
        const t = s?.renderBefore ?? null;
        e._$litPart$ = h = new $34c890d2bba8533a$var$R(i.insertBefore($34c890d2bba8533a$var$l(), t), t, void 0, s ?? {});
    }
    return h._$AI(t), h;
};


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $d812c34aed91105d$var$s = globalThis;
class $d812c34aed91105d$export$3f2f9f5909897157 extends (0, $03b44d016d05e4a8$export$c7c07a37856565d) {
    constructor(){
        super(...arguments), this.renderOptions = {
            host: this
        }, this._$Do = void 0;
    }
    createRenderRoot() {
        const t = super.createRenderRoot();
        return this.renderOptions.renderBefore ??= t.firstChild, t;
    }
    update(t) {
        const r = this.render();
        this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t), this._$Do = (0, $34c890d2bba8533a$export$b3890eb0ae9dca99)(r, this.renderRoot, this.renderOptions);
    }
    connectedCallback() {
        super.connectedCallback(), this._$Do?.setConnected(!0);
    }
    disconnectedCallback() {
        super.disconnectedCallback(), this._$Do?.setConnected(!1);
    }
    render() {
        return 0, $34c890d2bba8533a$export$9c068ae9cc5db4e8;
    }
}
$d812c34aed91105d$export$3f2f9f5909897157._$litElement$ = !0, $d812c34aed91105d$export$3f2f9f5909897157["finalized"] = !0, $d812c34aed91105d$var$s.litElementHydrateSupport?.({
    LitElement: $d812c34aed91105d$export$3f2f9f5909897157
});
const $d812c34aed91105d$var$o = $d812c34aed91105d$var$s.litElementPolyfillSupport;
$d812c34aed91105d$var$o?.({
    LitElement: $d812c34aed91105d$export$3f2f9f5909897157
});
const $d812c34aed91105d$export$f5c524615a7708d6 = {
    _$AK: (t, e, r)=>{
        t._$AK(e, r);
    },
    _$AL: (t)=>t._$AL
};
($d812c34aed91105d$var$s.litElementVersions ??= []).push("4.2.0");



/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function* $2df088f3943a4311$export$871de8747c9eaa88(o, f) {
    if (void 0 !== o) {
        let i = 0;
        for (const t of o)yield f(t, i++);
    }
}


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $36ba9077c37f6d69$export$7877a478dd30fd3d = (r, o, t)=>{
    for (const t of o)if (t[0] === r) return (0, t[1])();
    return t?.();
};


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function $5114a2a7e9d58c35$export$a55877ca9db47377(n, r, t) {
    return n ? r(n) : t?.(n);
}





function $9a10e2e209e09f92$export$f47f8d932ddd1f76(superClass) {
    class Mixin_addEventHandlers_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        updated(changedProperties) {
            super.updated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const events = definition.declaration.hooks?.events;
            if (!events) return;
            if (events instanceof Array) for (const customaryEvent of events){
                const selector = customaryEvent.selector;
                const type = customaryEvent.type;
                const listener = customaryEvent.listener;
                this.addEventHandler(selector, type, listener);
            }
            else for (const [selector, listener] of Object.entries(events)){
                const type = undefined;
                this.addEventHandler(selector, type, listener);
            }
        }
        addEventHandler(selector, type, listener) {
            if (!selector) {
                this.addCustomEventListener(this, type, listener);
                return;
            }
            const parent = this.shadowRoot ?? this;
            const elements = parent.querySelectorAll(selector);
            for (const element of elements)this.addCustomEventListener(element, type, listener);
        }
        addCustomEventListener(element, type, listener) {
            const listeners = element.__customary_listeners ??= [];
            if (listeners.includes(listener)) return;
            const tagName = element.tagName;
            element.addEventListener(type ?? $9a10e2e209e09f92$var$DEFAULT_EVENT_TYPES[tagName] ?? (()=>{
                throw new Error(`${this.tagName.toLowerCase()}: ${tagName} elements` + ' require you to provide an event type' + ' because Customary has not defined a default yet');
            })(), (event)=>listener(this, event));
            listeners.push(listener);
        }
    }
    return Mixin_addEventHandlers_Class;
}
const $9a10e2e209e09f92$var$DEFAULT_EVENT_TYPES = {
    'A': 'click',
    'BUTTON': 'click',
    'FORM': 'submit',
    'INPUT': 'input',
    'SELECT': 'input',
    'TABLE': 'click',
    'TEXTAREA': 'input'
};



function $d1f471c42208303b$export$3bf0fa7e728730a3(superClass) {
    class Mixin_adoptStyleSheet_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { cssStyleSheet: cssStyleSheet } = definition;
            if (!cssStyleSheet) return;
            const adopter = this.shadowRoot ?? document;
            adopter.adoptedStyleSheets.push(cssStyleSheet);
        }
    }
    return Mixin_adoptStyleSheet_Class;
}



function $2f505a9241dbdaaf$export$38b25fab905694b5(superClass) {
    class Mixin_attributeChangedCallback_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        attributeChangedCallback(name, oldValue, newValue) {
            super.attributeChangedCallback(name, oldValue, newValue);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.dom?.attributeChangedCallback?.(this, name, oldValue, newValue);
        }
    }
    return Mixin_attributeChangedCallback_Class;
}



function $68c41a7f90dfd20d$export$d321c1d718f409fd(superClass) {
    class Mixin_connected_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        connectedCallback() {
            super.connectedCallback?.();
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.lifecycle?.connected?.(this);
        }
    }
    return Mixin_connected_Class;
}



function $fd54020cbaa519b8$export$2cfc5030c386ebbd(superClass) {
    class Mixin_disconnected_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        disconnectedCallback() {
            super.disconnectedCallback?.();
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.lifecycle?.disconnected?.(this);
        }
    }
    return Mixin_disconnected_Class;
}



function $d2c535d050b19a85$export$768be97ad3d2f262(superClass) {
    class Mixin_firstUpdated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.firstUpdated?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, firstUpdated: firstUpdated } = change;
                if (firstUpdated && changedProperties.has(name)) firstUpdated(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_firstUpdated_Class;
}




function $f3d00108616e5be0$export$b1f65ab33c708f24(superClass) {
    class Mixin_renderFromTemplate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        render() {
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const templateResult = $f3d00108616e5be0$var$render_lit_html_TemplateResult(this, definition.immutable_htmlString, this.state);
            this.reuse_immutable_TemplateStringsArray(templateResult);
            return templateResult;
        }
        reuse_immutable_TemplateStringsArray(templateResult) {
            const templateStringsArray = templateResult.strings;
            if (!this.immutable_templateStringsArray) {
                this.immutable_templateStringsArray = templateStringsArray;
                return;
            }
            for(let i = 0; i < templateStringsArray.length; i++){
                if (templateStringsArray[i] !== this.immutable_templateStringsArray[i]) throw new Error(`
Original html first registered only once from named template tag in page
(or first registered only once from external html file)
could not have possibly changed structure inbetween calls to render.... tampering??
(see https://github.com/lit/lit/pull/3987)
`);
            }
            templateResult.strings = this.immutable_templateStringsArray;
        }
        immutable_templateStringsArray;
    }
    return Mixin_renderFromTemplate_Class;
}
/**
 lit "html" is a tag function.
 at runtime, the tagged template comes from htmlString.
 only JS compilation can parse the tagged template into a proper function call,
 so we need JS compilation to happen at runtime.
 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#tagged_templates
*/ function $f3d00108616e5be0$var$render_lit_html_TemplateResult(element, htmlString, state) {
    const thisArg = element;
    const fn = new Function('state', 'html', 'map', 'choose', 'when', '"use strict"; return html\`' + htmlString + '\`');
    return fn.call(thisArg, state, (0, $34c890d2bba8533a$export$c0bb0b647f701bb5), (0, $2df088f3943a4311$export$871de8747c9eaa88), (0, $36ba9077c37f6d69$export$7877a478dd30fd3d), (0, $5114a2a7e9d58c35$export$a55877ca9db47377));
}



function $adb7a522f246ac7a$export$2b1301cd2cb0c945(superClass) {
    class Mixin_slotChange_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated(changedProperties);
            const element = this;
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(element);
            const slotchange = definition.declaration.hooks?.slots?.slotchange;
            if (!slotchange) return;
            // on first render, execute once for the first time without an event
            slotchange(element);
            /*
					https://stackoverflow.com/questions/67332635/slots-does-not-work-on-a-html-web-component-without-shadow-dom
					*/ element.shadowRoot.addEventListener('slotchange', (event)=>slotchange(element, event));
        }
    }
    return Mixin_slotChange_Class;
}



function $e62fef1729ff12df$export$73d040748d682301(superClass) {
    class Mixin_state_Class extends superClass {
        constructor(...args){
            super(args);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { values: values } = definition.declaration;
            if (!values) return;
            Object.assign(this, values);
        }
        // noinspection JSUnusedGlobalSymbols
        setState(state_or_fn) {
            $e62fef1729ff12df$var$_setState(state_or_fn, ()=>this.state, (state)=>this.state = state);
        }
    }
    return Mixin_state_Class;
}
function $e62fef1729ff12df$var$_setState(state_or_fn, getStateFn, setStateFn) {
    if (state_or_fn === null || state_or_fn === undefined) return;
    const _state = getStateFn();
    const state = state_or_fn instanceof Function ? state_or_fn(_state) : state_or_fn;
    setStateFn(typeof _state === 'object' ? {
        ..._state,
        ...state
    } : state);
}



function $16ab248eb66956f2$export$2c20b62da00ad27c(superClass) {
    class Mixin_updated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        updated(changedProperties) {
            super.updated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.updated?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, updated: updated } = change;
                if (updated && changedProperties.has(name)) updated(this, this[name], changedProperties.get(name));
            }
            else for(const name in changes){
                const updated = changes[name];
                if (changedProperties.has(name)) updated(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_updated_Class;
}



function $a4f30597a6143fad$export$441bf0c9f46b950d(superClass) {
    class Mixin_willUpdate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        willUpdate(changedProperties) {
            super.willUpdate?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.willUpdate?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, willUpdate: willUpdate } = change;
                if (willUpdate && changedProperties.has(name)) willUpdate(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_willUpdate_Class;
}


class $98d0f6a447871cb0$export$4a183080d2c522d7 extends (0, $9a10e2e209e09f92$export$f47f8d932ddd1f76)((0, $d1f471c42208303b$export$3bf0fa7e728730a3)((0, $2f505a9241dbdaaf$export$38b25fab905694b5)((0, $68c41a7f90dfd20d$export$d321c1d718f409fd)((0, $fd54020cbaa519b8$export$2cfc5030c386ebbd)((0, $d2c535d050b19a85$export$768be97ad3d2f262)((0, $f3d00108616e5be0$export$b1f65ab33c708f24)((0, $adb7a522f246ac7a$export$2b1301cd2cb0c945)((0, $e62fef1729ff12df$export$73d040748d682301)((0, $16ab248eb66956f2$export$2c20b62da00ad27c)((0, $a4f30597a6143fad$export$441bf0c9f46b950d)((0, $d812c34aed91105d$export$3f2f9f5909897157)))))))))))) {
    constructor(){
        try {
            super();
        } catch (error) {
            if (error instanceof TypeError) {
                if (error.message.startsWith("Illegal constructor")) throw new Error("Custom element must be fully defined before you can instantiate it. Try this:\n    await Customary.untilDefined(MyCustomElement);\n    const element = new MyCustomElement();", {
                    cause: error
                });
            }
            throw error;
        }
    }
}


class $dc3eede01c452bc5$export$7d556906c4a5f4a7 {
    // noinspection JSUnusedGlobalSymbols
    static async autodetect() {
        await this.detect();
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        await customaryRegistry.settle();
    }
    // noinspection JSUnusedGlobalSymbols
    static declare(constructor) {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        customaryRegistry.declare(constructor, constructor?.customary);
    }
    // noinspection JSUnusedGlobalSymbols
    static async untilDefined(constructor) {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        return await customaryRegistry.untilDefined(constructor);
    }
    static async detect() {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        const detector = new (0, $16878b9af4c78a4c$export$2bcc17fb5433cbbf)(document, globalThis);
        const declarations = detector.detect();
        const promises = declarations.map((declaration)=>customaryRegistry.declare(class EphemeralCustomaryElement extends (0, $98d0f6a447871cb0$export$4a183080d2c522d7) {
            }, declaration));
        await Promise.all(promises);
    }
}




$parcel$exportWildcard($07201b47c5f8d57a$exports, $6b52b5e2005fdcd9$exports);


document.addEventListener("DOMContentLoaded", (event)=>{
    if (!globalThis[`customary-options:autodetect-dont`]) (0, $dc3eede01c452bc5$export$7d556906c4a5f4a7).autodetect();
});


export {$dc3eede01c452bc5$export$7d556906c4a5f4a7 as Customary, $98d0f6a447871cb0$export$4a183080d2c522d7 as CustomaryElement, $d812c34aed91105d$export$3f2f9f5909897157 as LitElement, $34c890d2bba8533a$export$c0bb0b647f701bb5 as html, $2df088f3943a4311$export$871de8747c9eaa88 as map, $36ba9077c37f6d69$export$7877a478dd30fd3d as choose, $5114a2a7e9d58c35$export$a55877ca9db47377 as when};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0sa0JBQWtCLE1BQU07SUFDL0I7SUFFQSxxQ0FBcUM7SUFDckMsT0FBTyxRQUErQixXQUFxQyxFQUMzRTtRQUNDLE1BQU0sb0JBQW9CLENBQUEsR0FBQSx5Q0FBZ0IsRUFBRSxTQUFTO1FBQ2hELGtCQUFrQixPQUFPLENBQzVCLGFBQ0MsYUFBcUI7SUFFekI7SUFFQSxxQ0FBcUM7SUFDckMsYUFBYSxhQUFhLFdBQXFDLEVBQXFDO1FBQ25HLE1BQU0sb0JBQW9CLENBQUEsR0FBQSx5Q0FBZ0IsRUFBRSxTQUFTO1FBQ3JELE9BQU8sTUFBTSxrQkFBa0IsWUFBWSxDQUFDO0lBQzdDO0lBRUEsYUFBcUIsU0FBd0I7UUFDNUMsTUFBTSxvQkFBb0IsQ0FBQSxHQUFBLHlDQUFnQixFQUFFLFNBQVM7UUFDckQsTUFBTSxXQUFXLElBQUksQ0FBQSxHQUFBLHlDQUFnQixFQUFFLFVBQVU7UUFDakQsTUFBTSxlQUE0QyxTQUFTLE1BQU07UUFDakUsTUFBTSxXQUFXLGFBQWEsR0FBRyxDQUFDLENBQUEsY0FDaEMsa0JBQWtCLE9BQU8sQ0FDdkIsTUFBTSxrQ0FBa0MsQ0FBQSxHQUFBLHlDQUFlO1lBQUcsR0FDMUQ7UUFHSixNQUFNLFFBQVEsR0FBRyxDQUFDO0lBQ25CO0FBQ0Q7Ozs7Ozs7O0FGekNBLFNBQVMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUM7SUFDOUMsSUFBSSxDQUFDLEFBQUMsVUFBa0IsQ0FBQyxDQUFDLGlDQUFpQyxDQUFDLENBQUMsRUFDdkQsQ0FBQSxHQUFBLHlDQUFRLEVBQUUsVUFBVTtBQUUzQiIsInNvdXJjZXMiOlsic3JjL25vdy50cyIsInNyYy9pbmRleC50cyIsInNyYy9DdXN0b21hcnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGV0ZWN0b3IudHMiLCJzcmMvcmVnaXN0cnkvQ3VzdG9tYXJ5UmVnaXN0cnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGVmaW5pdGlvbi50cyIsInNyYy9DdXN0b21hcnlEZWZpbmUudHMiLCJzcmMvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0QWRvcHRlci50cyIsInNyYy9jc3NzdHlsZXNoZWV0L0NTU1N0eWxlU2hlZXRJbXBvcnRlci50cyIsInNyYy9mZXRjaC9GZXRjaFRleHQudHMiLCJzcmMvZXh0ZXJuYWwvRXh0ZXJuYWxMb2FkZXIudHMiLCJzcmMvbWFya3VwL01hcmt1cF9mb3IudHMiLCJzcmMvbWFya3VwL3NldF9vdXRlckhUTUwuanMiLCJzcmMvbWFya3VwL3NldF9vdXRlckhUTUwudHMiLCJzcmMvbWFya3VwL3RvU2VsZWN0b3IudHMiLCJzcmMvbWFya3VwL01hcmt1cF9pZi50cyIsInNyYy9tYXJrdXAvTWFya3VwX2luc2lkZS50cyIsInNyYy9tYXJrdXAvTWFya3VwX3N3aXRjaC50cyIsInNyYy9hdHRyaWJ1dGVzL0F0dHJpYnV0ZVByb3BlcnRpZXMudHMiLCJzcmMvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IudHMiLCJzcmMvc3RhdGUvU3RhdGVQcm9wZXJ0aWVzLnRzIiwic3JjL3Byb3BlcnRpZXMvUHJvcGVydGllc1Byb3BlcnRpZXMudHMiLCJzcmMvQ3VzdG9tYXJ5RWxlbWVudC50cyIsInNyYy9saXQvaW5kZXgudHMiLCJub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMvbGl0LWVsZW1lbnQvc3JjL2xpdC1lbGVtZW50LnRzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9yZWFjdGl2ZS1lbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvcmVhY3RpdmUtZWxlbWVudC50cyIsIm5vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvY3NzLXRhZy5qcyIsIm5vZGVfbW9kdWxlcy9AbGl0L3JlYWN0aXZlLWVsZW1lbnQvc3JjL2Nzcy10YWcudHMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvbGl0LWh0bWwuanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2xpdC1odG1sLnRzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvbWFwLmpzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL21hcC50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2Nob29zZS5qcyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvZGlyZWN0aXZlcy9jaG9vc2UudHMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvZGlyZWN0aXZlcy93aGVuLmpzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL3doZW4udHMiLCJzcmMvZXZlbnRzL01peGluX2FkZEV2ZW50SGFuZGxlcnMudHMiLCJzcmMvc3R5bGUvTWl4aW5fYWRvcHRTdHlsZVNoZWV0LnRzIiwic3JjL2F0dHJpYnV0ZXMvTWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrLnRzIiwic3JjL2xpZmVjeWNsZS9jb25uZWN0ZWQvTWl4aW5fY29ubmVjdGVkLnRzIiwic3JjL2xpZmVjeWNsZS9kaXNjb25uZWN0ZWQvTWl4aW5fZGlzY29ubmVjdGVkLnRzIiwic3JjL2xpZmVjeWNsZS9maXJzdFVwZGF0ZWQvTWl4aW5fZmlyc3RVcGRhdGVkLnRzIiwic3JjL3JlbmRlci9NaXhpbl9yZW5kZXJGcm9tVGVtcGxhdGUudHMiLCJzcmMvc2xvdHMvTWl4aW5fc2xvdENoYW5nZS50cyIsInNyYy9zdGF0ZS9NaXhpbl9zdGF0ZS50cyIsInNyYy9saWZlY3ljbGUvdXBkYXRlZC9NaXhpbl91cGRhdGVkLnRzIiwic3JjL2xpZmVjeWNsZS93aWxsVXBkYXRlL01peGluX3dpbGxVcGRhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDdXN0b21hcnl9IGZyb20gXCIjY3VzdG9tYXJ5L2luZGV4LmpzXCI7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIChldmVudCkgPT4ge1xuXHRpZiAoIShnbG9iYWxUaGlzIGFzIGFueSlbYGN1c3RvbWFyeS1vcHRpb25zOmF1dG9kZXRlY3QtZG9udGBdKSB7XG5cdFx0dm9pZCBDdXN0b21hcnkuYXV0b2RldGVjdCgpO1xuXHR9XG59KTtcblxuZXhwb3J0ICogZnJvbSAnI2N1c3RvbWFyeS9pbmRleC5qcyc7XG4iLCJpbXBvcnQge0N1c3RvbWFyeX0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5LmpzXCI7XG5pbXBvcnQgdHlwZSB7Q3VzdG9tYXJ5RGVjbGFyYXRpb24gYXMgQ30gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RWxlbWVudC5qc1wiO1xuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcGFyY2VsLWJ1bmRsZXIvcGFyY2VsL2lzc3Vlcy80Nzk2I2lzc3VlY29tbWVudC02NjAzNTYwNjJcbi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbmV4cG9ydCB0eXBlIEN1c3RvbWFyeURlY2xhcmF0aW9uPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4gPSBDPFQ+O1xuXG5leHBvcnQgKiBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmV4cG9ydCB7Q3VzdG9tYXJ5LCBDdXN0b21hcnlFbGVtZW50fTtcbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGV0ZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURldGVjdG9yLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvbi5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlSZWdpc3RyeX0gZnJvbSBcIiNjdXN0b21hcnkvcmVnaXN0cnkvQ3VzdG9tYXJ5UmVnaXN0cnkuanNcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RWxlbWVudC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tYXJ5XG57XG5cdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0c3RhdGljIGFzeW5jIGF1dG9kZXRlY3QoKSB7XG5cdFx0YXdhaXQgdGhpcy5kZXRlY3QoKTtcblxuXHRcdGNvbnN0IGN1c3RvbWFyeVJlZ2lzdHJ5ID0gQ3VzdG9tYXJ5UmVnaXN0cnkuc2luZ2xldG9uKCk7XG5cdFx0YXdhaXQgY3VzdG9tYXJ5UmVnaXN0cnkuc2V0dGxlKCk7XG5cdH1cblxuXHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdHN0YXRpYyBkZWNsYXJlPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcilcblx0e1xuXHRcdGNvbnN0IGN1c3RvbWFyeVJlZ2lzdHJ5ID0gQ3VzdG9tYXJ5UmVnaXN0cnkuc2luZ2xldG9uKCk7XG5cdFx0dm9pZCBjdXN0b21hcnlSZWdpc3RyeS5kZWNsYXJlKFxuXHRcdFx0XHRjb25zdHJ1Y3Rvcixcblx0XHRcdFx0KGNvbnN0cnVjdG9yIGFzIGFueSk/LmN1c3RvbWFyeSBhcyBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPlxuXHRcdCk7XG5cdH1cblxuXHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdHN0YXRpYyBhc3luYyB1bnRpbERlZmluZWQoY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcik6IFByb21pc2U8Q3VzdG9tRWxlbWVudENvbnN0cnVjdG9yPiB7XG5cdFx0Y29uc3QgY3VzdG9tYXJ5UmVnaXN0cnkgPSBDdXN0b21hcnlSZWdpc3RyeS5zaW5nbGV0b24oKTtcblx0XHRyZXR1cm4gYXdhaXQgY3VzdG9tYXJ5UmVnaXN0cnkudW50aWxEZWZpbmVkKGNvbnN0cnVjdG9yKTtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGFzeW5jIGRldGVjdCgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBjdXN0b21hcnlSZWdpc3RyeSA9IEN1c3RvbWFyeVJlZ2lzdHJ5LnNpbmdsZXRvbigpO1xuXHRcdGNvbnN0IGRldGVjdG9yID0gbmV3IEN1c3RvbWFyeURldGVjdG9yKGRvY3VtZW50LCBnbG9iYWxUaGlzKTtcblx0XHRjb25zdCBkZWNsYXJhdGlvbnM6IEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT5bXSA9IGRldGVjdG9yLmRldGVjdCgpO1xuXHRcdGNvbnN0IHByb21pc2VzID0gZGVjbGFyYXRpb25zLm1hcChkZWNsYXJhdGlvbiA9PlxuXHRcdFx0XHRjdXN0b21hcnlSZWdpc3RyeS5kZWNsYXJlKFxuXHRcdFx0XHRcdFx0Y2xhc3MgRXBoZW1lcmFsQ3VzdG9tYXJ5RWxlbWVudCBleHRlbmRzIEN1c3RvbWFyeUVsZW1lbnQge30sXG5cdFx0XHRcdFx0XHRkZWNsYXJhdGlvblxuXHRcdFx0XHQpXG5cdFx0KTtcblx0XHRhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG5cdH1cbn1cbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlEZXRlY3RvciB7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdFx0cHJpdmF0ZSByZWFkb25seSBkb2N1bWVudDogRG9jdW1lbnQsXG5cdFx0XHRwcml2YXRlIHJlYWRvbmx5IGdsb2JhbFRoaXM6IGFueVxuXHQpIHt9XG5cblx0ZGV0ZWN0KCk6IEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT5bXSB7XG5cdFx0cmV0dXJuIHRoaXMuZGV0ZWN0RWxlbWVudE5hbWVzKCkubWFwKG5hbWUgPT4gdGhpcy5kZXRlY3REZWNsYXJhdGlvbihuYW1lKSk7XG5cdH1cblxuXHRwcml2YXRlIGRldGVjdEVsZW1lbnROYW1lcygpOiBzdHJpbmdbXSB7XG5cdFx0Y29uc3QgYXR0cmlidXRlID0gJ2RhdGEtY3VzdG9tYXJ5LW5hbWUnO1xuXHRcdGNvbnN0IGZyb21Eb2N1bWVudCA9IFsuLi50aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYHRlbXBsYXRlWyR7YXR0cmlidXRlfV1gKV1cblx0XHRcdFx0Lm1hcCh0ZW1wbGF0ZSA9PiB0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSEpO1xuXG5cdFx0Y29uc3QgcHJlZml4ID0gJ2N1c3RvbWFyeTonO1xuXHRcdGNvbnN0IGZyb21HbG9iYWxTY29wZSA9IE9iamVjdC5rZXlzKHRoaXMuZ2xvYmFsVGhpcylcblx0XHRcdFx0LmZpbHRlcihuYW1lID0+IG5hbWUuc3RhcnRzV2l0aChwcmVmaXgpKVxuXHRcdFx0XHQubWFwKG5hbWUgPT4gbmFtZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCkpO1xuXG5cdFx0cmV0dXJuIFsuLi5uZXcgU2V0KFsuLi5mcm9tRG9jdW1lbnQsIC4uLmZyb21HbG9iYWxTY29wZV0pXTtcblx0fVxuXG5cdHByaXZhdGUgZGV0ZWN0RGVjbGFyYXRpb24obmFtZTogc3RyaW5nKTogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PiB7XG5cdFx0Y29uc3QgZnJvbUdsb2JhbFNjb3BlOiBQYXJ0aWFsPEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT4+ID0gdGhpcy5nbG9iYWxUaGlzW2BjdXN0b21hcnk6JHtuYW1lfWBdO1xuXG5cdFx0Y29uc3QgY29uZmlnID0gZnJvbUdsb2JhbFNjb3BlPy5jb25maWc7XG5cdFx0Y29uc3QgaG9va3MgPSBmcm9tR2xvYmFsU2NvcGU/Lmhvb2tzO1xuXHRcdGNvbnN0IHZhbHVlcyA9IGZyb21HbG9iYWxTY29wZT8udmFsdWVzID8/IHRoaXMuZGV0ZWN0VmFsdWVzKG5hbWUpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWUsXG5cdFx0XHQuLi4oY29uZmlnID8ge2NvbmZpZ30gOiB7fSksXG5cdFx0XHQuLi4oaG9va3MgPyB7aG9va3N9IDoge30pLFxuXHRcdFx0Li4uKHZhbHVlcyA/IHt2YWx1ZXN9IDoge30pLFxuXHRcdH07XG5cdH1cblxuXHRwcml2YXRlIGRldGVjdFZhbHVlcyhuYW1lOiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBvYmplY3QgfCBvYmplY3RbXT4gfCB1bmRlZmluZWQge1xuXHRcdGNvbnN0IGVsZW1lbnRzID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuXHRcdFx0XHRgc2NyaXB0W3R5cGU9XCJhcHBsaWNhdGlvbi9qc29uXCJdW2RhdGEtY3VzdG9tYXJ5LW5hbWU9JyR7bmFtZX0nXWBcblx0XHQpO1xuXHRcdGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgb2JqZWN0IHwgb2JqZWN0W10+ID0ge307XG5cdFx0Zm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG5cdFx0XHRpZiAoZWxlbWVudC50ZXh0Q29udGVudCkge1xuXHRcdFx0XHQvLyBUT0RPIFJlcXVpcmUgYSBrZXkgYW5kIHJldGlyZSBkZWZhdWx0ICdzdGF0ZSdcblx0XHRcdFx0Y29uc3Qga2V5ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tYXJ5LXZhbHVlJykgPz8gJ3N0YXRlJztcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBKU09OLnBhcnNlKGVsZW1lbnQudGV4dENvbnRlbnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG59XG4iLCJpbXBvcnQge0N1c3RvbWFyeURlZmluaXRpb24sIGhhc0RlZmluaXRpb24sIHNldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeURlZmluZX0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5lLmpzXCI7XG5cbmNvbnN0IFdBSVRfVE9fREVGSU5FX0VWRVJZVEhJTkdfSU5fVEhFX0VORCA9IGZhbHNlO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tYXJ5UmVnaXN0cnlcbntcbiAgICBzdGF0aWMgc2luZ2xldG9uKCk6IEN1c3RvbWFyeVJlZ2lzdHJ5IHtcbiAgICAgICAgcmV0dXJuIEN1c3RvbWFyeVJlZ2lzdHJ5LkN1c3RvbWFyeVJlZ2lzdHJ5X3NpbmdsZXRvblxuICAgIH1cblxuICAgIGFzeW5jIGRlY2xhcmUoXG4gICAgICAgIGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IsXG4gICAgICAgIGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+XG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICghZGVjbGFyYXRpb24ubmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIG5hbWUgbXVzdCBiZSBwcm92aWRlZCB0byBkZWZpbmUgYSBjdXN0b20gZWxlbWVudC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghV0FJVF9UT19ERUZJTkVfRVZFUllUSElOR19JTl9USEVfRU5EKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlZmluZShjb25zdHJ1Y3RvciwgZGVjbGFyYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWNsYXJhdGlvbnMuc2V0KGNvbnN0cnVjdG9yLCBkZWNsYXJhdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0dGxlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAoIVdBSVRfVE9fREVGSU5FX0VWRVJZVEhJTkdfSU5fVEhFX0VORCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZW50cmllcyA9IFsuLi50aGlzLmRlY2xhcmF0aW9ucy5lbnRyaWVzKCldO1xuXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gZW50cmllcy5tYXAoXG4gICAgICAgICAgICBlbnRyeSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBjb25zdHJ1Y3RvciwgZGVjbGFyYXRpb25cbiAgICAgICAgICAgICAgICBdOiBbXG4gICAgICAgICAgICAgICAgQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yLCBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+XG4gICAgICAgICAgICBdID0gZW50cnk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmaW5lKGNvbnN0cnVjdG9yLCBkZWNsYXJhdGlvbilcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgdW50aWxEZWZpbmVkKGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IpOiBQcm9taXNlPEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcj4ge1xuICAgICAgICBjb25zdCBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQgPSAoY29uc3RydWN0b3IgYXMgYW55KS5jdXN0b21hcnk/Lm5hbWU7XG5cbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGFzcyBtdXN0IGhhdmUgdGhlIFwiY3VzdG9tYXJ5XCIgZGVjbGFyYXRpb24gd2l0aCBhIFwibmFtZVwiIHByb3BlcnR5LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZG9tX2N1c3RvbUVsZW1lbnRSZWdpc3RyeS53aGVuRGVmaW5lZChuYW1lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIGRlZmluZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuICAgICAgICBjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yLFxuICAgICAgICBkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PlxuICAgICk6IFByb21pc2U8dm9pZD5cbiAgICB7XG4gICAgICAgIGlmIChoYXNEZWZpbml0aW9uKGNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhgJHtjb25zdHJ1Y3Rvci5uYW1lfTogZWxlbWVudCBhbHJlYWR5IGRlZmluZWQsIHNraXBwaW5nLi4uYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkZWZpbml0aW9uOiBDdXN0b21hcnlEZWZpbml0aW9uPFQ+ID1cbiAgICAgICAgICAgIGF3YWl0IG5ldyBDdXN0b21hcnlEZWZpbmUoZGVjbGFyYXRpb24pLmRlZmluZShjb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgc2V0RGVmaW5pdGlvbihjb25zdHJ1Y3RvciwgZGVmaW5pdGlvbik7XG5cbiAgICAgICAgdGhpcy5kb21fY3VzdG9tRWxlbWVudFJlZ2lzdHJ5LmRlZmluZShcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLm5hbWUhLCBjb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLmhvb2tzPy5kb20/LmRlZmluZT8ub3B0aW9uc1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZG9tX2N1c3RvbUVsZW1lbnRSZWdpc3RyeTogQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5KSB7fVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBkZWNsYXJhdGlvbnM6IE1hcDxDdXN0b21FbGVtZW50Q29uc3RydWN0b3IsIEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT4+ID0gbmV3IE1hcCgpO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgQ3VzdG9tYXJ5UmVnaXN0cnlfc2luZ2xldG9uOiBDdXN0b21hcnlSZWdpc3RyeSA9IG5ldyBDdXN0b21hcnlSZWdpc3RyeShjdXN0b21FbGVtZW50cyk7XG59XG4iLCJpbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvblwiO1xuXG5leHBvcnQgdHlwZSBDdXN0b21hcnlEZWZpbml0aW9uPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4gPVxue1xuICAgIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPjtcbiAgICByZWFkb25seSBjc3NTdHlsZVNoZWV0PzogQ1NTU3R5bGVTaGVldDtcbiAgICByZWFkb25seSBpbW11dGFibGVfaHRtbFN0cmluZzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzRGVmaW5pdGlvbihcbiAgICBjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yXG4pXG57XG4gICAgcmV0dXJuIGRlZmluaXRpb25fcHJvcGVydHkgaW4gY29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZpbml0aW9uPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvciwgZGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxuKVxue1xuICAgIChjb25zdHJ1Y3RvciBhcyBhbnkpW2RlZmluaXRpb25fcHJvcGVydHldID0gZGVmaW5pdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmluaXRpb248VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKTogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxue1xuICAgIGNvbnN0IGNvbnN0cnVjdG9yID0gZWxlbWVudC5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gKGNvbnN0cnVjdG9yIGFzIGFueSlbZGVmaW5pdGlvbl9wcm9wZXJ0eV0gPz8gKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NvbnN0cnVjdG9yLm5hbWV9OiBlbGVtZW50IG5ldmVyIGRlZmluZWRgKVxuICAgIH0pKCk7XG59XG5cbmNvbnN0IGRlZmluaXRpb25fcHJvcGVydHkgPSAnY3VzdG9tYXJ5X2RlZmluaXRpb24nO1xuIiwiaW1wb3J0IHtDU1NTdHlsZVNoZWV0QWRvcHRlcn0gZnJvbSBcIiNjdXN0b21hcnkvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0QWRvcHRlci5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5pbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvbi5qc1wiO1xuaW1wb3J0IHtFeHRlcm5hbExvYWRlcn0gZnJvbSBcIiNjdXN0b21hcnkvZXh0ZXJuYWwvRXh0ZXJuYWxMb2FkZXIuanNcIjtcbmltcG9ydCB7RmV0Y2hUZXh0LCBGZXRjaFRleHRfRE9NX3NpbmdsZXRvbn0gZnJvbSBcIiNjdXN0b21hcnkvZmV0Y2gvRmV0Y2hUZXh0LmpzXCI7XG5pbXBvcnQge0NTU1N0eWxlU2hlZXRJbXBvcnRlcn0gZnJvbSBcIiNjdXN0b21hcnkvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0SW1wb3J0ZXIuanNcIjtcbmltcG9ydCB7TWFya3VwX2Zvcn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL01hcmt1cF9mb3IuanNcIjtcbmltcG9ydCB7TWFya3VwX2lmfSBmcm9tIFwiI2N1c3RvbWFyeS9tYXJrdXAvTWFya3VwX2lmLmpzXCI7XG5pbXBvcnQge01hcmt1cF9pbnNpZGV9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC9NYXJrdXBfaW5zaWRlLmpzXCI7XG5pbXBvcnQge01hcmt1cF9zd2l0Y2h9IGZyb20gXCIjY3VzdG9tYXJ5L21hcmt1cC9NYXJrdXBfc3dpdGNoLmpzXCI7XG5pbXBvcnQge0F0dHJpYnV0ZVByb3BlcnRpZXN9IGZyb20gXCIjY3VzdG9tYXJ5L2F0dHJpYnV0ZXMvQXR0cmlidXRlUHJvcGVydGllcy5qc1wiO1xuaW1wb3J0IHtTdGF0ZVByb3BlcnRpZXN9IGZyb20gXCIjY3VzdG9tYXJ5L3N0YXRlL1N0YXRlUHJvcGVydGllcy5qc1wiO1xuaW1wb3J0IHtQcm9wZXJ0aWVzUHJvcGVydGllc30gZnJvbSBcIiNjdXN0b21hcnkvcHJvcGVydGllcy9Qcm9wZXJ0aWVzUHJvcGVydGllcy5qc1wiO1xuaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeURlZmluZTxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+IHtcblxuXHRhc3luYyBkZWZpbmUoY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcik6IFByb21pc2U8Q3VzdG9tYXJ5RGVmaW5pdGlvbjxUPj4ge1xuXHRcdGNvbnN0IFtkZWZpbml0aW9uLCBdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuXHRcdFx0dGhpcy5idWlsZERlZmluaXRpb24oY29uc3RydWN0b3IpLFxuXHRcdFx0dGhpcy5hZG9wdF9mb250X2Nzc1N0eWxlU2hlZXRzKCksXG5cdFx0XSlcblx0XHRyZXR1cm4gZGVmaW5pdGlvbjtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgYnVpbGREZWZpbml0aW9uKFxuXHRcdFx0Y29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvclxuXHQpOiBQcm9taXNlPEN1c3RvbWFyeURlZmluaXRpb248VD4+XG5cdHtcblx0XHRjb25zdCB7dGVtcGxhdGUsIHRlbXBsYXRlSW5Eb2N1bWVudH0gPVxuXHRcdFx0XHRhd2FpdCB0aGlzLnJlc29sdmVIVE1MVGVtcGxhdGVFbGVtZW50KHRoaXMubmFtZSk7XG5cblx0XHR0aGlzLmFkZFByb3BlcnRpZXMoY29uc3RydWN0b3IgYXMgdHlwZW9mIExpdEVsZW1lbnQsIHRlbXBsYXRlKTtcblxuXHRcdGNvbnN0IGNzc1N0eWxlU2hlZXQ6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQgPSB0ZW1wbGF0ZUluRG9jdW1lbnRcblx0XHRcdFx0PyB1bmRlZmluZWQgOiBhd2FpdCB0aGlzLmxvYWRFeHRlcm5hbENTU1N0eWxlU2hlZXQoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRpbW11dGFibGVfaHRtbFN0cmluZzogdGhpcy5nZXRIdG1sU3RyaW5nKHRlbXBsYXRlKSxcblx0XHRcdC4uLihjc3NTdHlsZVNoZWV0ID8ge2Nzc1N0eWxlU2hlZXR9IDoge30pLFxuXHRcdFx0ZGVjbGFyYXRpb246IHRoaXMuZGVjbGFyYXRpb24sXG5cdFx0fTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgcmVzb2x2ZUhUTUxUZW1wbGF0ZUVsZW1lbnQoXG5cdFx0XHRuYW1lOiBzdHJpbmdcblx0KTogUHJvbWlzZTx7XG5cdFx0dGVtcGxhdGVJbkRvY3VtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkO1xuXHRcdHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuXHR9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHRlbXBsYXRlSW5Eb2N1bWVudDogSFRNTFRlbXBsYXRlRWxlbWVudCB8IHVuZGVmaW5lZCA9XG5cdFx0XHRcdFx0ZmluZEhUTUxUZW1wbGF0ZUVsZW1lbnQobmFtZSwgZG9jdW1lbnQpO1xuXG5cdFx0XHRpZiAodGVtcGxhdGVJbkRvY3VtZW50KSByZXR1cm4ge1xuXHRcdFx0XHR0ZW1wbGF0ZTogdGVtcGxhdGVJbkRvY3VtZW50LFxuXHRcdFx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQsXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZUluRXh0ZXJuYWxGaWxlOiBIVE1MVGVtcGxhdGVFbGVtZW50ID1cblx0XHRcdFx0XHRhd2FpdCB0aGlzLmZpbmRIVE1MVGVtcGxhdGVFbGVtZW50SW5FeHRlcm5hbEZpbGUobmFtZSk7XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHRlbXBsYXRlOiB0ZW1wbGF0ZUluRXh0ZXJuYWxGaWxlLFxuXHRcdFx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQ6IHVuZGVmaW5lZCxcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdFx0J3RlbXBsYXRlIHVucmVzb2x2YWJsZSBmcm9tIGN1cnJlbnQgcGFnZSBvciBleHRlcm5hbCBodG1sJyxcblx0XHRcdFx0XHR7Y2F1c2U6IGVycm9yfVxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFkZFByb3BlcnRpZXMoXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXG5cdFx0XHR0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudFxuXHQpXG5cdHtcblx0XHRBdHRyaWJ1dGVQcm9wZXJ0aWVzLmFkZFByb3BlcnRpZXMoY29uc3RydWN0b3IsIHRoaXMuZGVjbGFyYXRpb24sIHRlbXBsYXRlKTtcblx0XHRTdGF0ZVByb3BlcnRpZXMuYWRkUHJvcGVydGllcyhjb25zdHJ1Y3RvciwgdGhpcy5kZWNsYXJhdGlvbik7XG5cdFx0UHJvcGVydGllc1Byb3BlcnRpZXMuYWRkUHJvcGVydGllcyhjb25zdHJ1Y3RvciwgdGhpcy5kZWNsYXJhdGlvbik7XG5cdH1cblxuXHRwcml2YXRlIGdldEh0bWxTdHJpbmcodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpOiBzdHJpbmdcblx0e1xuXHRcdE1hcmt1cF9mb3IuaHlkcmF0ZSh0ZW1wbGF0ZSk7XG5cdFx0TWFya3VwX2lmLmh5ZHJhdGUodGVtcGxhdGUpO1xuXHRcdE1hcmt1cF9zd2l0Y2guaHlkcmF0ZSh0ZW1wbGF0ZSk7XG5cblx0XHQvLyBtdXN0IGJlIGxhc3QgdG8gYWNjb21tb2RhdGUgYWxsIG90aGVyc1xuXHRcdE1hcmt1cF9pbnNpZGUuaHlkcmF0ZSh0ZW1wbGF0ZSk7XG5cblx0XHRyZXR1cm4gcmVjb2RlKHRlbXBsYXRlLmlubmVySFRNTCk7XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGZpbmRIVE1MVGVtcGxhdGVFbGVtZW50SW5FeHRlcm5hbEZpbGUoXG5cdFx0XHRuYW1lOiBzdHJpbmdcblx0KTogUHJvbWlzZTxIVE1MVGVtcGxhdGVFbGVtZW50PiB7XG5cdFx0Y29uc3QgaHRtbFN0cmluZyA9IGF3YWl0IHRoaXMubG9hZEV4dGVybmFsSHRtbCgpO1xuXHRcdGNvbnN0IHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblx0XHR0ZW1wbGF0ZS5pbm5lckhUTUwgPSBodG1sU3RyaW5nO1xuXHRcdHJldHVybiBmaW5kSFRNTFRlbXBsYXRlRWxlbWVudChuYW1lLCB0ZW1wbGF0ZS5jb250ZW50KSA/PyB0ZW1wbGF0ZTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgbG9hZEV4dGVybmFsSHRtbCgpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gYXdhaXQgKGF3YWl0IHRoaXMuZXh0ZXJuYWxMb2FkZXIpLmxvYWRIdG1sKCk7XG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFeHRlcm5hbCBodG1sIGZpbGUgb3V0IG9mIHJlYWNoLicsIHtjYXVzZTogZXJyb3J9KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGxvYWRFeHRlcm5hbENTU1N0eWxlU2hlZXQoKTogUHJvbWlzZTx1bmRlZmluZWQgfCBDU1NTdHlsZVNoZWV0PiB7XG5cdFx0aWYgKHRoaXMuZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5jc3NfZG9udCkgcmV0dXJuIHVuZGVmaW5lZDtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIGF3YWl0IChhd2FpdCB0aGlzLmV4dGVybmFsTG9hZGVyKS5sb2FkQ3NzU3R5bGVTaGVldCgpO1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKCdFeHRlcm5hbCBjc3MgZmlsZSBvdXQgb2YgcmVhY2guJywge2NhdXNlOiBlcnJvcn0pO1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFzeW5jIGFkb3B0X2ZvbnRfY3NzU3R5bGVTaGVldHMoKSB7XG5cdFx0Y29uc3QgbG9jYXRpb25zID0gKChhOiBzdHJpbmdbXSkgPT4gYS5sZW5ndGggPiAwID8gYSA6IHVuZGVmaW5lZCkoXG5cdFx0XHRcdFtcblx0XHRcdFx0XHR0aGlzLmRlY2xhcmF0aW9uLmNvbmZpZz8uZGVmaW5lPy5mb250TG9jYXRpb24sXG5cdFx0XHRcdFx0Li4uKHRoaXMuZGVjbGFyYXRpb24uY29uZmlnPy5kZWZpbmU/LmZvbnRMb2NhdGlvbnMgPz8gW10pLFxuXHRcdFx0XHRdXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGxvY2F0aW9uID0+IGxvY2F0aW9uICE9IHVuZGVmaW5lZClcblx0XHQpO1xuXHRcdGlmICghbG9jYXRpb25zKSByZXR1cm47XG5cdFx0cmV0dXJuIGF3YWl0IChhd2FpdCB0aGlzLmNzc1N0eWxlU2hlZXRBZG9wdGVyKS5hZG9wdENTU1N0eWxlc2hlZXRzKC4uLmxvY2F0aW9ucyk7XG5cdH1cblxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+KSB7fVxuXHRwcml2YXRlIHJlYWRvbmx5IG5hbWU6IHN0cmluZyA9IHRoaXMuZGVjbGFyYXRpb24ubmFtZSE7XG5cblx0cHJpdmF0ZSBnZXQgY3NzU3R5bGVTaGVldEltcG9ydGVyKCk6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nzc1N0eWxlU2hlZXRJbXBvcnRlciA/Pz0gbG9hZENzc1N0eWxlU2hlZXRJbXBvcnRlcih0aGlzLmZldGNoVGV4dCk7XG5cdH1cblxuXHRwcml2YXRlIF9jc3NTdHlsZVNoZWV0SW1wb3J0ZXI6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPiB8IHVuZGVmaW5lZDtcblxuXHRwcml2YXRlIGdldCBjc3NTdHlsZVNoZWV0QWRvcHRlcigpOiBQcm9taXNlPENTU1N0eWxlU2hlZXRBZG9wdGVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuX2Nzc1N0eWxlU2hlZXRBZG9wdGVyID8/PSBsb2FkQ3NzU3R5bGVTaGVldEFkb3B0ZXIodGhpcy5jc3NTdHlsZVNoZWV0SW1wb3J0ZXIpO1xuXHR9XG5cblx0cHJpdmF0ZSBfY3NzU3R5bGVTaGVldEFkb3B0ZXI6IFByb21pc2U8Q1NTU3R5bGVTaGVldEFkb3B0ZXI+IHwgdW5kZWZpbmVkO1xuXG5cdHByaXZhdGUgZ2V0IGV4dGVybmFsTG9hZGVyKCk6IFByb21pc2U8RXh0ZXJuYWxMb2FkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5fZXh0ZXJuYWxMb2FkZXIgPz89IGNyZWF0ZUV4dGVybmFsTG9hZGVyKFxuXHRcdFx0XHR0aGlzLmZldGNoVGV4dCxcblx0XHRcdFx0dGhpcy5jc3NTdHlsZVNoZWV0SW1wb3J0ZXIsXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRuYW1lOiB0aGlzLm5hbWUsXG5cdFx0XHRcdFx0aW1wb3J0X21ldGE6IHRoaXMuZ2V0X2ltcG9ydF9tZXRhKCksXG5cdFx0XHRcdH1cblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRfaW1wb3J0X21ldGEoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5pbXBvcnRfbWV0YSA/PyAoKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGAke3RoaXMubmFtZX06IEN1c3RvbWFyeSBuZWVkcyBcImltcG9ydC5tZXRhXCIgaWYgdGhlIGN1c3RvbSBlbGVtZW50IHRlbXBsYXRlIGAgK1xuXHRcdFx0XHRcdCdpcyB0byBiZSBsb2FkZWQgZnJvbSBhbiBleHRlcm5hbCBmaWxlLiAnICtcblx0XHRcdFx0XHQnKGRvY3VtZW50IGRpZCBub3QgaGF2ZSBhIG5hbWVkIHRlbXBsYXRlIGVsZW1lbnQsIGFuZCBhbiBodG1sIHN0cmluZyB3YXMgbm90IHByb3ZpZGVkLiknKVxuXHRcdH0pKCk7XG5cdH1cblxuXHRwcml2YXRlIF9leHRlcm5hbExvYWRlcjogUHJvbWlzZTxFeHRlcm5hbExvYWRlcj4gfCB1bmRlZmluZWQ7XG5cblx0cHJpdmF0ZSBnZXQgZmV0Y2hUZXh0KCk6IFByb21pc2U8RmV0Y2hUZXh0PiB7XG5cdFx0cmV0dXJuIHRoaXMuX2ZldGNoVGV4dCA/Pz0gbG9hZEZldGNoVGV4dCgpO1xuXHR9XG5cblx0cHJpdmF0ZSBfZmV0Y2hUZXh0OiBQcm9taXNlPEZldGNoVGV4dD4gfCB1bmRlZmluZWQ7XG5cbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZENzc1N0eWxlU2hlZXRBZG9wdGVyKGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogUHJvbWlzZTxDU1NTdHlsZVNoZWV0SW1wb3J0ZXI+KTogUHJvbWlzZTxDU1NTdHlsZVNoZWV0QWRvcHRlcj4ge1xuXHRyZXR1cm4gbmV3IENTU1N0eWxlU2hlZXRBZG9wdGVyKGF3YWl0IGNzc1N0eWxlU2hlZXRJbXBvcnRlciBhcyBhbnksIGRvY3VtZW50KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZENzc1N0eWxlU2hlZXRJbXBvcnRlcihmZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0Pik6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPiB7XG5cdHJldHVybiBuZXcgQ1NTU3R5bGVTaGVldEltcG9ydGVyKGF3YWl0IGZldGNoVGV4dCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUV4dGVybmFsTG9hZGVyKFxuXHRcdGZldGNoVGV4dDogUHJvbWlzZTxGZXRjaFRleHQ+LFxuXHRcdGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogUHJvbWlzZTxDU1NTdHlsZVNoZWV0SW1wb3J0ZXI+LFxuXHRcdG9wdGlvbnM6IHtcblx0XHRcdG5hbWU6IHN0cmluZyxcblx0XHRcdGltcG9ydF9tZXRhOiBJbXBvcnRNZXRhO1xuXHRcdH1cbik6IFByb21pc2U8RXh0ZXJuYWxMb2FkZXI+IHtcblx0cmV0dXJuIG5ldyBFeHRlcm5hbExvYWRlcihcblx0XHRcdGF3YWl0IGZldGNoVGV4dCxcblx0XHRcdGF3YWl0IGNzc1N0eWxlU2hlZXRJbXBvcnRlcixcblx0XHRcdG9wdGlvbnNcblx0KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZEZldGNoVGV4dCgpOiBQcm9taXNlPEZldGNoVGV4dD4ge1xuXHRyZXR1cm4gRmV0Y2hUZXh0X0RPTV9zaW5nbGV0b247XG59XG5cbmZ1bmN0aW9uIGZpbmRIVE1MVGVtcGxhdGVFbGVtZW50KG5hbWU6IHN0cmluZywgbm9kZTogUGFyZW50Tm9kZSk6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgfCB1bmRlZmluZWQge1xuXHRyZXR1cm4gbm9kZS5xdWVyeVNlbGVjdG9yKGB0ZW1wbGF0ZVtkYXRhLWN1c3RvbWFyeS1uYW1lPScke25hbWV9J11gKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50ID8/IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gaW5uZXJIVE1MIGVuY29kZXMgc29tZSBjaGFyYWN0ZXJzIHVzZWQgYnkgbGl0IGRpcmVjdGl2ZXNcbiBzbyB3ZSBtdXN0IGRlY29kZSB0aGVtIGJhY2sgaW50byB0aGUgSFRNTCBzdHJpbmcuXG4gb3ZlciB0aW1lIHRoZSBuZWVkIHRvIGRvIHRoaXMgc2hvdWxkIGRpc2FwcGVhcixcbiBhcyB3ZSBhZGQgZGlyZWN0aXZlIG1hcmt1cCBmb3IgYSBsYXJnZXIgbnVtYmVyIG9mIGxpdCBkaXJlY3RpdmVzLlxuICovXG5mdW5jdGlvbiByZWNvZGUoaHRtbFN0cmluZzogc3RyaW5nKSB7XG5cdC8vIGxpdCBkaXJlY3RpdmVzIGV4cHJlc3NlZCBhcyBhcnJvdyBmdW5jdGlvbnNcblx0cmV0dXJuIGh0bWxTdHJpbmcucmVwbGFjZUFsbCgnPSZndDsnLCAnPT4nKTtcbn1cbiIsImltcG9ydCB7Q1NTU3R5bGVTaGVldEltcG9ydGVyfSBmcm9tIFwiI2N1c3RvbWFyeS9jc3NzdHlsZXNoZWV0L0NTU1N0eWxlU2hlZXRJbXBvcnRlci5qc1wiO1xuaW1wb3J0IHtGZXRjaFRleHRfRE9NX3NpbmdsZXRvbn0gZnJvbSBcIiNjdXN0b21hcnkvZmV0Y2gvRmV0Y2hUZXh0LmpzXCI7XG5cbi8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZG9wdENTU1N0eWxlc2hlZXRzKC4uLmxvY2F0aW9uczogc3RyaW5nW10pIHtcbiAgICBhd2FpdCBuZXcgQ1NTU3R5bGVTaGVldEFkb3B0ZXIoXG4gICAgICAgIG5ldyBDU1NTdHlsZVNoZWV0SW1wb3J0ZXIoRmV0Y2hUZXh0X0RPTV9zaW5nbGV0b24pLCBkb2N1bWVudFxuICAgICkuYWRvcHRDU1NTdHlsZXNoZWV0cyguLi5sb2NhdGlvbnMpO1xufVxuXG5leHBvcnQgY2xhc3MgQ1NTU3R5bGVTaGVldEFkb3B0ZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogQ1NTU3R5bGVTaGVldEltcG9ydGVyLFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudCxcbiAgICApIHt9XG5cbiAgICBwdWJsaWMgYXN5bmMgYWRvcHRDU1NTdHlsZXNoZWV0cyguLi5sb2NhdGlvbnM6IHN0cmluZ1tdKSB7XG4gICAgICAgIGNvbnN0IGNzc1N0eWxlU2hlZXRzTWF5YmU6IChDU1NTdHlsZVNoZWV0IHwgdW5kZWZpbmVkKVtdID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBsb2NhdGlvbnMubWFwKGxvY2F0aW9uID0+IHRoaXMuY3NzU3R5bGVTaGVldEltcG9ydGVyLmdldENTU1N0eWxlU2hlZXQobG9jYXRpb24pKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjc3NTdHlsZVNoZWV0czogQ1NTU3R5bGVTaGVldFtdID0gY3NzU3R5bGVTaGVldHNNYXliZS5maWx0ZXIoXG4gICAgICAgICAgICBjc3NTdHlsZVNoZWV0ID0+ICEhY3NzU3R5bGVTaGVldFxuICAgICAgICApO1xuICAgICAgICBpZiAoY3NzU3R5bGVTaGVldHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5hZG9wdGVkU3R5bGVTaGVldHNfcHVzaChjc3NTdHlsZVNoZWV0cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBhZG9wdGVyIG9mIGZvbnQgc3R5bGVzaGVldHMgY2FuIG9ubHkgYmUgdGhlIHJvb3QgZG9jdW1lbnQgZG9tLCBub3QgdGhlIHNoYWRvdyBkb20uXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS9pc3N1ZXMvMTU5ODc3I2lzc3VlY29tbWVudC0xMjYyODQzOTUyXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWRuL2ludGVyYWN0aXZlLWV4YW1wbGVzL2lzc3Vlcy84ODcjaXNzdWVjb21tZW50LTQzMjYwNjkyNVxuICAgICAqL1xuICAgIHByaXZhdGUgYWRvcHRlZFN0eWxlU2hlZXRzX3B1c2goY3NzU3R5bGVTaGVldHM6IENTU1N0eWxlU2hlZXRbXSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50LmFkb3B0ZWRTdHlsZVNoZWV0cy5wdXNoKC4uLmNzc1N0eWxlU2hlZXRzKTtcbiAgICB9XG5cbn0iLCJpbXBvcnQge0ZldGNoVGV4dCwgRmV0Y2hUZXh0X0RPTV9zaW5nbGV0b259IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgQ1NTU3R5bGVTaGVldEltcG9ydGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZmV0Y2hUZXh0OiBGZXRjaFRleHQgPSBGZXRjaFRleHRfRE9NX3NpbmdsZXRvbikge31cblxuICAgIGFzeW5jIGdldENTU1N0eWxlU2hlZXQobG9jYXRpb246IHN0cmluZyk6IFByb21pc2U8Q1NTU3R5bGVTaGVldCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaENTU1N0eWxlU2hlZXQobG9jYXRpb24pO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZmV0Y2hDU1NTdHlsZVNoZWV0KGxvY2F0aW9uOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgdGV4dDogc3RyaW5nID0gYXdhaXQgdGhpcy5mZXRjaFRleHQuZmV0Y2hUZXh0KGxvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgY3NzU3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KHtiYXNlVVJMOiBsb2NhdGlvbn0pO1xuICAgICAgICByZXR1cm4gY3NzU3R5bGVTaGVldC5yZXBsYWNlKHRleHQpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgRmV0Y2hUZXh0IHtcbiAgICBmZXRjaFRleHQoaW5wdXQ6IFJlcXVlc3RJbmZvIHwgVVJMKTogUHJvbWlzZTxzdHJpbmc+O1xufVxuXG5jbGFzcyBGZXRjaFRleHRfRE9NIGltcGxlbWVudHMgRmV0Y2hUZXh0IHtcbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2hUZXh0KGlucHV0OiBSZXF1ZXN0SW5mbyB8IFVSTCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoJ2ZldGNoOiAnICsgaW5wdXQpO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGlucHV0KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0LCB7Y2F1c2U6IHJlc3BvbnNlfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgRmV0Y2hUZXh0X0RPTV9zaW5nbGV0b24gPSBuZXcgRmV0Y2hUZXh0X0RPTSgpO1xuIiwiaW1wb3J0IHtGZXRjaFRleHR9IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xuXG5pbnRlcmZhY2UgQ1NTU3R5bGVTaGVldEltcG9ydGVyIHtcbiAgICBnZXRDU1NTdHlsZVNoZWV0KGxvY2F0aW9uOiBzdHJpbmcpOiBQcm9taXNlPENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQ+O1xufVxuXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGZldGNoVGV4dDogRmV0Y2hUZXh0LFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogQ1NTU3R5bGVTaGVldEltcG9ydGVyLFxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IHtcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgIGltcG9ydF9tZXRhOiBJbXBvcnRNZXRhO1xuICAgICAgICB9XG4gICAgKSB7fVxuXG4gICAgYXN5bmMgbG9hZEh0bWwoKTogUHJvbWlzZTxzdHJpbmc+XG4gICAge1xuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMucmVzb2x2ZVJlc291cmNlTG9jYXRpb24oJ2h0bWwnKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmV0Y2hUZXh0LmZldGNoVGV4dChsb2NhdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZENzc1N0eWxlU2hlZXQoKTogUHJvbWlzZTx1bmRlZmluZWQgfCBDU1NTdHlsZVNoZWV0PlxuICAgIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLnJlc29sdmVSZXNvdXJjZUxvY2F0aW9uKCdjc3MnKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3NzU3R5bGVTaGVldEltcG9ydGVyLmdldENTU1N0eWxlU2hlZXQobG9jYXRpb24pO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzb2x2ZVJlc291cmNlTG9jYXRpb24oZXh0ZW5zaW9uOiBzdHJpbmcpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW1wb3J0X21ldGEucmVzb2x2ZShgLi8ke3RoaXMub3B0aW9ucy5uYW1lfS4ke2V4dGVuc2lvbn1gKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCB7c2V0X291dGVySFRNTH0gZnJvbSBcIi4vc2V0X291dGVySFRNTC5qc1wiO1xuaW1wb3J0IHt0b1NlbGVjdG9yfSBmcm9tIFwiI2N1c3RvbWFyeS9tYXJrdXAvdG9TZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFya3VwX2Zvclxue1xuXHRzdGF0aWMgaHlkcmF0ZSh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG5cdHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgdGFnID0gbm9kZS5xdWVyeVNlbGVjdG9yKHRvU2VsZWN0b3IoZm9yX21hcmt1cCkpO1xuXHRcdFx0aWYgKCF0YWcpIHJldHVybjtcblxuXHRcdFx0dGhpcy5oeWRyYXRlVHJlZSh0YWcsIHRlbXBsYXRlKTtcblxuXHRcdFx0Y29uc3QgaXRlbXMgPSB0YWcuZ2V0QXR0cmlidXRlKCdpdGVtcycpID8/XG5cdFx0XHRcdFx0KCgpPT57XG5cdFx0XHRcdFx0XHR0aHJvdyBFcnJvcihgQXR0cmlidXRlIFwiaXRlbXNcIiBpcyByZXF1aXJlZCBmb3IgXCIke2Zvcl9tYXJrdXB9XCIgbWFya3VwYClcblx0XHRcdFx0XHR9KSgpO1xuXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRhZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPz8gJ3ZhbHVlJztcblxuXHRcdFx0Y29uc3QgaW5kZXggPSB0YWcuZ2V0QXR0cmlidXRlKCdpbmRleCcpO1xuXHRcdFx0Y29uc3QgYXJncyA9IGluZGV4ID8gYCgke3ZhbHVlfSwgJHtpbmRleH0pYCA6IHZhbHVlO1xuXG5cdFx0XHRjb25zdCBib2R5ID0gdGFnLmlubmVySFRNTDtcblxuXHRcdFx0Y29uc3QgZGlyZWN0aXZlID0gYFxcJHttYXAoJHtpdGVtc30sICR7YXJnc30gPT4gaHRtbFxcYCR7Ym9keX1cXGApfWA7XG5cblx0XHRcdHNldF9vdXRlckhUTUwodGFnLCBkaXJlY3RpdmUsIHRlbXBsYXRlKTtcblx0XHR9XG5cdH1cbn1cbmNvbnN0IGZvcl9tYXJrdXAgPSAnY3VzdG9tYXJ5OmZvcic7XG4iLCJleHBvcnQgZnVuY3Rpb24gc2V0X291dGVySFRNTCh0YWcsIHZhbHVlLCB0ZW1wbGF0ZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHRhZy5vdXRlckhUTUwgPSB2YWx1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IGNocm9tZSA9IFwiRmFpbGVkIHRvIHNldCB0aGUgJ291dGVySFRNTCcgcHJvcGVydHkgb24gJ0VsZW1lbnQnOiBcIiArXG4gICAgICAgICAgICBcIlRoaXMgZWxlbWVudCdzIHBhcmVudCBpcyBvZiB0eXBlICcjZG9jdW1lbnQtZnJhZ21lbnQnLCB3aGljaCBpcyBub3QgYW4gZWxlbWVudCBub2RlLlwiO1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PT0gY2hyb21lKSB7XG4gICAgICAgICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldF9vdXRlckhUTUwuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIHNldF9vdXRlckhUTUwoXG5cdFx0dGFnOiBFbGVtZW50LCB2YWx1ZTogc3RyaW5nLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudFxuKSB7XG5cdHRyeSB7XG5cdFx0dGFnLm91dGVySFRNTCA9IHZhbHVlO1xuXHR9XG5cdGNhdGNoIChlcnJvcjogYW55KSB7XG5cdFx0Y29uc3QgY2hyb21lID1cblx0XHRcdFx0XCJGYWlsZWQgdG8gc2V0IHRoZSAnb3V0ZXJIVE1MJyBwcm9wZXJ0eSBvbiAnRWxlbWVudCc6IFwiICtcblx0XHRcdFx0XCJUaGlzIGVsZW1lbnQncyBwYXJlbnQgaXMgb2YgdHlwZSAnI2RvY3VtZW50LWZyYWdtZW50Jywgd2hpY2ggaXMgbm90IGFuIGVsZW1lbnQgbm9kZS5cIjtcblx0XHRpZiAoZXJyb3IubWVzc2FnZSA9PT0gY2hyb21lKSB7XG5cdFx0XHR0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHR9XG5cdH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gdG9TZWxlY3RvcihtYXJrdXA6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIG1hcmt1cC5yZXBsYWNlKCc6JywgJ1xcXFw6Jyk7XG59XG4iLCJpbXBvcnQge3NldF9vdXRlckhUTUx9IGZyb20gXCIuL3NldF9vdXRlckhUTUwuanNcIjtcbmltcG9ydCB7dG9TZWxlY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL3RvU2VsZWN0b3IuanNcIjtcblxuZXhwb3J0IGNsYXNzIE1hcmt1cF9pZlxue1xuXHRzdGF0aWMgaHlkcmF0ZSh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG5cdHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgdGFnID0gbm9kZS5xdWVyeVNlbGVjdG9yKHRvU2VsZWN0b3IoaWZfbWFya3VwKSk7XG5cdFx0XHRpZiAoIXRhZykgcmV0dXJuO1xuXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRhZywgdGVtcGxhdGUpO1xuXG5cdFx0XHRjb25zdCBjb25kaXRpb24gPSB0YWcuZ2V0QXR0cmlidXRlKCdjb25kaXRpb24nKSA/P1xuXHRcdFx0XHRcdCgoKT0+e1xuXHRcdFx0XHRcdFx0dGhyb3cgRXJyb3IoYEF0dHJpYnV0ZSBcImNvbmRpdGlvblwiIGlzIHJlcXVpcmVkIGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApXG5cdFx0XHRcdFx0fSkoKTtcblxuXHRcdFx0Y29uc3QgdHJ1ZUVsZW1lbnRzID0gWy4uLnRhZy5xdWVyeVNlbGVjdG9yQWxsKGA6c2NvcGUgPiAke3RvU2VsZWN0b3IodHJ1ZV9tYXJrdXApfWApXTtcblx0XHRcdGlmICh0cnVlRWxlbWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcihgT25seSBvbmUgXCIke3RydWVfbWFya3VwfVwiIGlzIGFsbG93ZWQgZm9yIFwiJHtpZl9tYXJrdXB9XCIgbWFya3VwYCk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCB0cnVlRWxlbWVudDogRWxlbWVudCB8IHVuZGVmaW5lZCA9IHRydWVFbGVtZW50c1swXTtcblxuXHRcdFx0Y29uc3QgZmFsc2VFbGVtZW50cyA9IFsuLi50YWcucXVlcnlTZWxlY3RvckFsbChgOnNjb3BlID4gJHt0b1NlbGVjdG9yKGZhbHNlX21hcmt1cCl9YCldO1xuXHRcdFx0aWYgKGZhbHNlRWxlbWVudHMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHR0aHJvdyBFcnJvcihgT25seSBvbmUgXCIke2ZhbHNlX21hcmt1cH1cIiBpcyBhbGxvd2VkIGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdFx0fVxuXHRcdFx0Y29uc3QgZmFsc2VFbGVtZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkID0gZmFsc2VFbGVtZW50c1swXTtcblxuXHRcdFx0aWYgKGZhbHNlRWxlbWVudCAmJiAhdHJ1ZUVsZW1lbnQpIHtcblx0XHRcdFx0dGhyb3cgRXJyb3IoYE9uZSBcIiR7dHJ1ZV9tYXJrdXB9XCIgaXMgcmVxdWlyZWQgaWYgXCIke2ZhbHNlX21hcmt1cH1cIiBwcmVzZW50IGZvciBcIiR7aWZfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0cnVlQ2FzZSA9IGAoKSA9PiBodG1sXFxgJHt0cnVlRWxlbWVudD8uaW5uZXJIVE1MID8/IHRhZy5pbm5lckhUTUx9XFxgYDtcblxuXHRcdFx0Y29uc3QgZmFsc2VDYXNlID0gZmFsc2VFbGVtZW50ID8gYCwgKCkgPT4gaHRtbFxcYCR7ZmFsc2VFbGVtZW50LmlubmVySFRNTH1cXGBgIDogJyc7XG5cblx0XHRcdGNvbnN0IGRpcmVjdGl2ZSA9IGBcXCR7d2hlbigke2NvbmRpdGlvbn0sICR7dHJ1ZUNhc2V9JHtmYWxzZUNhc2V9KX1gO1xuXG5cdFx0XHRzZXRfb3V0ZXJIVE1MKHRhZywgZGlyZWN0aXZlLCB0ZW1wbGF0ZSk7XG5cdFx0fVxuXHR9XG59XG5jb25zdCBpZl9tYXJrdXAgPSAnY3VzdG9tYXJ5OmlmJztcbmNvbnN0IGZhbHNlX21hcmt1cCA9ICdjdXN0b21hcnk6ZmFsc2UnO1xuY29uc3QgdHJ1ZV9tYXJrdXAgPSAnY3VzdG9tYXJ5OnRydWUnO1xuIiwiaW1wb3J0IHt0b1NlbGVjdG9yfSBmcm9tIFwiI2N1c3RvbWFyeS9tYXJrdXAvdG9TZWxlY3Rvci5qc1wiO1xuXG5leHBvcnQgY2xhc3MgTWFya3VwX2luc2lkZVxue1xuXHRzdGF0aWMgaHlkcmF0ZSh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xuXHR9XG5cblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG5cdHtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0Y29uc3QgbWFya3VwID0gbm9kZS5xdWVyeVNlbGVjdG9yKHRvU2VsZWN0b3IoaW5zaWRlX21hcmt1cCkpO1xuXHRcdFx0aWYgKCFtYXJrdXApIHJldHVybjtcblxuXHRcdFx0dGhpcy5oeWRyYXRlVHJlZShtYXJrdXAsIHRlbXBsYXRlKTtcblxuXHRcdFx0Y29uc3Qgc2VsZWN0b3JzID0gbWFya3VwLmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XG5cdFx0XHRpZiAoIXNlbGVjdG9ycykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEF0dHJpYnV0ZSBcInRhcmdldFwiIGlzIHJlcXVpcmVkIGZvciBcIiR7aW5zaWRlX21hcmt1cH1cIiBtYXJrdXBgKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gbm9kZS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycyk7XG5cdFx0XHRpZiAoIXRhcmdldCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYE5vIGVsZW1lbnQgbWF0Y2hpbmcgJHtzZWxlY3RvcnN9YCk7XG5cdFx0XHR9XG5cblx0XHRcdHRhcmdldC5pbm5lckhUTUwgPSBtYXJrdXAuaW5uZXJIVE1MO1xuXG5cdFx0XHRtYXJrdXAucGFyZW50Tm9kZSEucmVtb3ZlQ2hpbGQobWFya3VwKTtcblx0XHR9XG5cdH1cbn1cbmNvbnN0IGluc2lkZV9tYXJrdXAgPSAnY3VzdG9tYXJ5Omluc2lkZSc7XG4iLCJpbXBvcnQge3NldF9vdXRlckhUTUx9IGZyb20gXCIuL3NldF9vdXRlckhUTUwuanNcIjtcbmltcG9ydCB7dG9TZWxlY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvbWFya3VwL3RvU2VsZWN0b3IuanNcIjtcblxuZXhwb3J0IGNsYXNzIE1hcmt1cF9zd2l0Y2hcbntcblx0c3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXG5cdHtcblx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRlbXBsYXRlLmNvbnRlbnQsIHRlbXBsYXRlKTtcblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGh5ZHJhdGVUcmVlKG5vZGU6IFBhcmVudE5vZGUsIHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50KVxuXHR7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGNvbnN0IHRhZyA9IG5vZGUucXVlcnlTZWxlY3Rvcih0b1NlbGVjdG9yKHN3aXRjaF9tYXJrdXApKTtcblx0XHRcdGlmICghdGFnKSByZXR1cm47XG5cblx0XHRcdHRoaXMuaHlkcmF0ZVRyZWUodGFnLCB0ZW1wbGF0ZSk7XG5cblx0XHRcdGNvbnN0IHZhbHVlID0gdGFnLmdldEF0dHJpYnV0ZSgndmFsdWUnKSA/P1xuXHRcdFx0XHRcdCgoKSA9PiB7XG5cdFx0XHRcdFx0XHR0aHJvdyBFcnJvcihgQXR0cmlidXRlIFwidmFsdWVcIiBpcyByZXF1aXJlZCBmb3IgXCIke3N3aXRjaF9tYXJrdXB9XCIgbWFya3VwYClcblx0XHRcdFx0XHR9KSgpO1xuXG5cdFx0XHRjb25zdCBjYXNlcyA9IHRoaXMudG9DYXNlcyhbLi4udGFnLnF1ZXJ5U2VsZWN0b3JBbGwoYDpzY29wZSA+ICR7dG9TZWxlY3RvcihjYXNlX21hcmt1cCl9YCldKTtcblxuXHRcdFx0Y29uc3QgdmFsdWVDYXNlcyA9IGNhc2VzLnZhbHVlQ2FzZXMuam9pbignLFxcbicpO1xuXG5cdFx0XHRjb25zdCBkZWZhdWx0Q2FzZSA9IGNhc2VzLmRlZmF1bHRDYXNlID8gYCxcXG4ke2Nhc2VzLmRlZmF1bHRDYXNlfWAgOiAnJztcblxuXHRcdFx0Y29uc3QgZGlyZWN0aXZlID0gYFxcJHtjaG9vc2UoJHt2YWx1ZX0sXFxuWyR7dmFsdWVDYXNlc31dJHtkZWZhdWx0Q2FzZX0pfWA7XG5cblx0XHRcdHNldF9vdXRlckhUTUwodGFnLCBkaXJlY3RpdmUsIHRlbXBsYXRlKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyB0b0Nhc2VzKGNhc2VzOiBFbGVtZW50W10pOiB7XG5cdFx0dmFsdWVDYXNlczogc3RyaW5nW107XG5cdFx0ZGVmYXVsdENhc2U/OiBzdHJpbmdcblx0fSB7XG5cdFx0aWYgKGNhc2VzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoYEF0IGxlYXN0IG9uZSBcIiR7Y2FzZV9tYXJrdXB9XCIgaXMgcmVxdWlyZWQgZm9yIFwiJHtzd2l0Y2hfbWFya3VwfVwiIG1hcmt1cGApO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRlZmF1bHRFbGVtZW50cyA9XG5cdFx0XHRcdGNhc2VzLmZpbHRlcihjYXNlRWxlbWVudCA9PiAhY2FzZUVsZW1lbnQuaGFzQXR0cmlidXRlKCd2YWx1ZScpKTtcblx0XHRpZiAoZGVmYXVsdEVsZW1lbnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdHRocm93IEVycm9yKGBPbmx5IG9uZSBkZWZhdWx0IFwiJHtjYXNlX21hcmt1cH1cIiBpcyBhbGxvd2VkIGZvciBcIiR7c3dpdGNoX21hcmt1cH1cIiBtYXJrdXBgKTtcblx0XHR9XG5cdFx0Y29uc3QgZGVmYXVsdEVsZW1lbnQgPSBkZWZhdWx0RWxlbWVudHNbMF07XG5cdFx0Y29uc3QgZGVmYXVsdENhc2UgPSBgKCkgPT4gaHRtbFxcYCR7ZGVmYXVsdEVsZW1lbnQ/LmlubmVySFRNTH1cXGBgO1xuXG5cdFx0Y29uc3QgdmFsdWVFbGVtZW50cyA9XG5cdFx0XHRcdGNhc2VzLmZpbHRlcihjYXNlRWxlbWVudCA9PiBjYXNlRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuXHRcdGNvbnN0IHZhbHVlQ2FzZXMgPSB2YWx1ZUVsZW1lbnRzLm1hcChjYXNlRWxlbWVudCA9PiB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IGNhc2VFbGVtZW50LmdldEF0dHJpYnV0ZSgndmFsdWUnKSE7XG5cdFx0XHRyZXR1cm4gYFsnJHt2YWx1ZX0nLCAoKSA9PiBodG1sXFxgJHtjYXNlRWxlbWVudC5pbm5lckhUTUx9XFxgXWA7XG5cdFx0fSlcblxuXHRcdHJldHVybiB7dmFsdWVDYXNlcywgZGVmYXVsdENhc2V9O1xuXHR9XG59XG5jb25zdCBzd2l0Y2hfbWFya3VwID0gJ2N1c3RvbWFyeTpzd2l0Y2gnO1xuY29uc3QgY2FzZV9tYXJrdXAgPSAnY3VzdG9tYXJ5OmNhc2UnO1xuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7UHJvcGVydGllc0luamVjdG9yfSBmcm9tIFwiI2N1c3RvbWFyeS9wcm9wZXJ0aWVzL1Byb3BlcnRpZXNJbmplY3Rvci5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZVByb3BlcnRpZXNcbntcblx0c3RhdGljIGFkZFByb3BlcnRpZXM8VCBleHRlbmRzIEhUTUxFbGVtZW50Pihcblx0XHRcdGNvbnN0cnVjdG9yOiB0eXBlb2YgTGl0RWxlbWVudCxcblx0XHRcdGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPixcblx0XHRcdHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50XG5cdClcblx0e1xuXHRcdGNvbnN0IGZyb21EZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uLmNvbmZpZz8uYXR0cmlidXRlcyA/PyBbXTtcblx0XHRjb25zdCBmcm9tVGVtcGxhdGUgPVxuXHRcdFx0XHR0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tYXJ5LWF0dHJpYnV0ZXMnKT8uXG5cdFx0XHRcdHNwbGl0KCcsJykubWFwKHMgPT4gcy50cmltKCkpID8/IFtdO1xuXHRcdGNvbnN0IG5hbWVzID0gWy4uLm5ldyBTZXQoWy4uLmZyb21EZWNsYXJhdGlvbiwgLi4uZnJvbVRlbXBsYXRlXSldO1xuXHRcdFByb3BlcnRpZXNJbmplY3Rvci5pbmplY3RQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCB7cmVmbGVjdDogdHJ1ZX0sIG5hbWVzKTtcblx0fVxufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7UHJvcGVydHlEZWNsYXJhdGlvbiwgUHJvcGVydHlEZWNsYXJhdGlvbnN9IGZyb20gXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnRpZXNJbmplY3RvciB7XG5cdHN0YXRpYyBpbmplY3RQcm9wZXJ0aWVzKFxuXHRcdFx0Y29uc3RydWN0b3I6IHR5cGVvZiBMaXRFbGVtZW50LFxuXHRcdFx0cHJvcGVydHlEZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbixcblx0XHRcdG5hbWVzOiBzdHJpbmdbXVxuXHQpIHtcblx0XHRpZiAoIW5hbWVzLmxlbmd0aCkgcmV0dXJuO1xuXHRcdGNvbnN0IHByb3BlcnRpZXM6IFdyaXRhYmxlPFByb3BlcnR5RGVjbGFyYXRpb25zPiA9IGNvbnN0cnVjdG9yLnByb3BlcnRpZXMgPz89IHt9O1xuXHRcdGZvciAoY29uc3Qga2V5IG9mIG5hbWVzKSB7XG5cdFx0XHRpZiAoa2V5IGluIHByb3BlcnRpZXMpIHRocm93IG5ldyBFcnJvcihgJHtrZXl9OiBwcm9wZXJ0eSBhbHJlYWR5IGV4aXN0cy5gKTtcblx0XHRcdHByb3BlcnRpZXNba2V5XSA9IHByb3BlcnR5RGVjbGFyYXRpb247XG5cdFx0fVxuXHR9XG59XG5cbnR5cGUgV3JpdGFibGU8VD4gPSB7LXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBUW1BdfTtcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvbGl0XCI7XG5pbXBvcnQge0N1c3RvbWFyeURlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcbmltcG9ydCB7UHJvcGVydGllc0luamVjdG9yfSBmcm9tIFwiI2N1c3RvbWFyeS9wcm9wZXJ0aWVzL1Byb3BlcnRpZXNJbmplY3Rvci5qc1wiO1xuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIFN0YXRlUHJvcGVydGllcyB7XG5cblx0c3RhdGljIGFkZFByb3BlcnRpZXM8VCBleHRlbmRzIEhUTUxFbGVtZW50Pihcblx0XHRcdGNvbnN0cnVjdG9yOiB0eXBlb2YgTGl0RWxlbWVudCxcblx0XHRcdGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPlxuXHQpXG5cdHtcblx0XHRjb25zdCBmcm9tRGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbi5jb25maWc/LnN0YXRlID8/IFtdO1xuXHRcdGNvbnN0IGZyb21MZWdhY3kgPSBbJ3N0YXRlJ107XG5cdFx0Y29uc3QgbmFtZXMgPSBbLi4ubmV3IFNldChbLi4uZnJvbURlY2xhcmF0aW9uLCAuLi5mcm9tTGVnYWN5XSldO1xuXHRcdFByb3BlcnRpZXNJbmplY3Rvci5pbmplY3RQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCB7c3RhdGU6IHRydWV9LCBuYW1lcyk7XG5cdH1cblxufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuaW1wb3J0IHtQcm9wZXJ0aWVzSW5qZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L3Byb3BlcnRpZXMvUHJvcGVydGllc0luamVjdG9yLmpzXCI7XG5pbXBvcnQge1Byb3BlcnR5RGVjbGFyYXRpb259IGZyb20gXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtcbmltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0aWVzUHJvcGVydGllc1xue1xuXHRzdGF0aWMgYWRkUHJvcGVydGllczxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxuXHRcdFx0Y29uc3RydWN0b3I6IHR5cGVvZiBMaXRFbGVtZW50LFxuXHRcdFx0ZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+XG5cdCkge1xuXHRcdGNvbnN0IGhvb2tzID0gZGVjbGFyYXRpb24uaG9va3M/LnByb3BlcnRpZXM7XG5cdFx0Y29uc3QgaG9va3NBcnJheTogQXR0cmliW10gPSBob29rcyBpbnN0YW5jZW9mIEFycmF5ID8gaG9va3MgYXMgQXR0cmliW10gOiBbXTtcblx0XHRjb25zdCBob29rc1JlY29yZCA9IGhvb2tzICYmICEoaG9va3MgaW5zdGFuY2VvZiBBcnJheSkgPyBob29rcyA6IHt9O1xuXG5cdFx0Y29uc3QgZnJvbUFycmF5OiBzdHJpbmdbXSA9IGhvb2tzQXJyYXkubWFwKG8gPT4gby5uYW1lKTtcblx0XHRjb25zdCBmcm9tUmVjb3JkOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKGhvb2tzUmVjb3JkKTtcblxuXHRcdGNvbnN0IG5hbWVzID0gWy4uLm5ldyBTZXQoWy4uLmZyb21BcnJheSwgLi4uZnJvbVJlY29yZF0pXTtcblxuXHRcdGZvciAoY29uc3Qga2V5IG9mIG5hbWVzKSB7XG5cdFx0XHRQcm9wZXJ0aWVzSW5qZWN0b3IuaW5qZWN0UHJvcGVydGllcyhjb25zdHJ1Y3Rvcixcblx0XHRcdFx0XHRob29rc0FycmF5LmZpbmQodmFsdWUgPT4gdmFsdWUubmFtZSA9PT0ga2V5KT8ucHJvcGVydHlEZWNsYXJhdGlvblxuXHRcdFx0XHRcdD8/IGhvb2tzUmVjb3JkW2tleV0sXG5cdFx0XHRcdFx0W2tleV0pO1xuXHRcdH1cblx0fVxufVxuXG50eXBlIEF0dHJpYiA9IHtuYW1lOiBzdHJpbmcsIHByb3BlcnR5RGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb259O1xuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7TWl4aW5fYWRkRXZlbnRIYW5kbGVyc30gZnJvbSBcIiNjdXN0b21hcnkvZXZlbnRzL01peGluX2FkZEV2ZW50SGFuZGxlcnMuanNcIjtcbmltcG9ydCB7TWl4aW5fYWRvcHRTdHlsZVNoZWV0fSBmcm9tIFwiI2N1c3RvbWFyeS9zdHlsZS9NaXhpbl9hZG9wdFN0eWxlU2hlZXQuanNcIjtcbmltcG9ydCB7TWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrfSBmcm9tIFwiI2N1c3RvbWFyeS9hdHRyaWJ1dGVzL01peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjay5qc1wiO1xuaW1wb3J0IHtNaXhpbl9jb25uZWN0ZWR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpZmVjeWNsZS9jb25uZWN0ZWQvTWl4aW5fY29ubmVjdGVkLmpzXCI7XG5pbXBvcnQge01peGluX2Rpc2Nvbm5lY3RlZH0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL2Rpc2Nvbm5lY3RlZC9NaXhpbl9kaXNjb25uZWN0ZWQuanNcIjtcbmltcG9ydCB7TWl4aW5fZmlyc3RVcGRhdGVkfSBmcm9tIFwiI2N1c3RvbWFyeS9saWZlY3ljbGUvZmlyc3RVcGRhdGVkL01peGluX2ZpcnN0VXBkYXRlZC5qc1wiO1xuaW1wb3J0IHtNaXhpbl9yZW5kZXJGcm9tVGVtcGxhdGV9IGZyb20gXCIjY3VzdG9tYXJ5L3JlbmRlci9NaXhpbl9yZW5kZXJGcm9tVGVtcGxhdGUuanNcIjtcbmltcG9ydCB7TWl4aW5fc2xvdENoYW5nZX0gZnJvbSBcIiNjdXN0b21hcnkvc2xvdHMvTWl4aW5fc2xvdENoYW5nZS5qc1wiO1xuaW1wb3J0IHtNaXhpbl9zdGF0ZX0gZnJvbSBcIiNjdXN0b21hcnkvc3RhdGUvTWl4aW5fc3RhdGUuanNcIjtcbmltcG9ydCB7TWl4aW5fdXBkYXRlZH0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL3VwZGF0ZWQvTWl4aW5fdXBkYXRlZC5qc1wiO1xuaW1wb3J0IHtNaXhpbl93aWxsVXBkYXRlfSBmcm9tIFwiI2N1c3RvbWFyeS9saWZlY3ljbGUvd2lsbFVwZGF0ZS9NaXhpbl93aWxsVXBkYXRlLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlFbGVtZW50XG5cdFx0ZXh0ZW5kc1xuXHRcdFx0XHRNaXhpbl9hZGRFdmVudEhhbmRsZXJzKFxuXHRcdFx0XHRNaXhpbl9hZG9wdFN0eWxlU2hlZXQoXG5cdFx0XHRcdE1peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhcblx0XHRcdFx0TWl4aW5fY29ubmVjdGVkKFxuXHRcdFx0XHRNaXhpbl9kaXNjb25uZWN0ZWQoXG5cdFx0XHRcdE1peGluX2ZpcnN0VXBkYXRlZChcblx0XHRcdFx0TWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlKFxuXHRcdFx0XHRNaXhpbl9zbG90Q2hhbmdlKFxuXHRcdFx0XHRNaXhpbl9zdGF0ZShcblx0XHRcdFx0TWl4aW5fdXBkYXRlZChcblx0XHRcdFx0TWl4aW5fd2lsbFVwZGF0ZShcblx0XHRcdFx0XHRcdExpdEVsZW1lbnRcblx0XHRcdFx0KSkpKSkpKSkpKSlcbntcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0fVxuXHRcdGNhdGNoIChlcnJvcikge1xuXHRcdFx0aWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG5cdFx0XHRcdGlmIChlcnJvci5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJJbGxlZ2FsIGNvbnN0cnVjdG9yXCIpKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcIkN1c3RvbSBlbGVtZW50IG11c3QgYmUgZnVsbHkgZGVmaW5lZCBiZWZvcmUgeW91IGNhbiBpbnN0YW50aWF0ZSBpdC4gVHJ5IHRoaXM6XFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcIiAgICBhd2FpdCBDdXN0b21hcnkudW50aWxEZWZpbmVkKE15Q3VzdG9tRWxlbWVudCk7XFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcIiAgICBjb25zdCBlbGVtZW50ID0gbmV3IE15Q3VzdG9tRWxlbWVudCgpO1wiLFxuXHRcdFx0XHRcdFx0XHR7Y2F1c2U6IGVycm9yfVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwibGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanNcIjtcbmltcG9ydCB7aHRtbH0gZnJvbSBcImxpdC1odG1sXCI7XG5pbXBvcnQge21hcH0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy9tYXAuanMnO1xuaW1wb3J0IHtjaG9vc2V9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvY2hvb3NlLmpzJztcbmltcG9ydCB7d2hlbn0gZnJvbSAnbGl0LWh0bWwvZGlyZWN0aXZlcy93aGVuLmpzJztcblxuZXhwb3J0IHtMaXRFbGVtZW50LCBodG1sLCBtYXAsIGNob29zZSwgd2hlbn07XG4iLCJpbXBvcnR7UmVhY3RpdmVFbGVtZW50IGFzIHR9ZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7ZXhwb3J0KmZyb21cIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO2ltcG9ydHtyZW5kZXIgYXMgZSxub0NoYW5nZSBhcyByfWZyb21cImxpdC1odG1sXCI7ZXhwb3J0KmZyb21cImxpdC1odG1sXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9jb25zdCBzPWdsb2JhbFRoaXM7Y2xhc3MgaSBleHRlbmRzIHR7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMucmVuZGVyT3B0aW9ucz17aG9zdDp0aGlzfSx0aGlzLl8kRG89dm9pZCAwfWNyZWF0ZVJlbmRlclJvb3QoKXtjb25zdCB0PXN1cGVyLmNyZWF0ZVJlbmRlclJvb3QoKTtyZXR1cm4gdGhpcy5yZW5kZXJPcHRpb25zLnJlbmRlckJlZm9yZT8/PXQuZmlyc3RDaGlsZCx0fXVwZGF0ZSh0KXtjb25zdCByPXRoaXMucmVuZGVyKCk7dGhpcy5oYXNVcGRhdGVkfHwodGhpcy5yZW5kZXJPcHRpb25zLmlzQ29ubmVjdGVkPXRoaXMuaXNDb25uZWN0ZWQpLHN1cGVyLnVwZGF0ZSh0KSx0aGlzLl8kRG89ZShyLHRoaXMucmVuZGVyUm9vdCx0aGlzLnJlbmRlck9wdGlvbnMpfWNvbm5lY3RlZENhbGxiYWNrKCl7c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKSx0aGlzLl8kRG8/LnNldENvbm5lY3RlZCghMCl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXtzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpLHRoaXMuXyREbz8uc2V0Q29ubmVjdGVkKCExKX1yZW5kZXIoKXtyZXR1cm4gcn19aS5fJGxpdEVsZW1lbnQkPSEwLGlbXCJmaW5hbGl6ZWRcIl09ITAscy5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7TGl0RWxlbWVudDppfSk7Y29uc3Qgbz1zLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7bz8uKHtMaXRFbGVtZW50Oml9KTtjb25zdCBuPXtfJEFLOih0LGUscik9Pnt0Ll8kQUsoZSxyKX0sXyRBTDp0PT50Ll8kQUx9OyhzLmxpdEVsZW1lbnRWZXJzaW9ucz8/PVtdKS5wdXNoKFwiNC4yLjBcIik7ZXhwb3J0e2kgYXMgTGl0RWxlbWVudCxuIGFzIF8kTEV9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGl0LWVsZW1lbnQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBUaGUgbWFpbiBMaXRFbGVtZW50IG1vZHVsZSwgd2hpY2ggZGVmaW5lcyB0aGUge0BsaW5rY29kZSBMaXRFbGVtZW50fSBiYXNlXG4gKiBjbGFzcyBhbmQgcmVsYXRlZCBBUElzLlxuICpcbiAqIExpdEVsZW1lbnQgY29tcG9uZW50cyBjYW4gZGVmaW5lIGEgdGVtcGxhdGUgYW5kIGEgc2V0IG9mIG9ic2VydmVkXG4gKiBwcm9wZXJ0aWVzLiBDaGFuZ2luZyBhbiBvYnNlcnZlZCBwcm9wZXJ0eSB0cmlnZ2VycyBhIHJlLXJlbmRlciBvZiB0aGVcbiAqIGVsZW1lbnQuXG4gKlxuICogSW1wb3J0IHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYW5kIHtAbGlua2NvZGUgaHRtbH0gZnJvbSB0aGlzIG1vZHVsZSB0b1xuICogY3JlYXRlIGEgY29tcG9uZW50OlxuICpcbiAqICBgYGBqc1xuICogaW1wb3J0IHtMaXRFbGVtZW50LCBodG1sfSBmcm9tICdsaXQtZWxlbWVudCc7XG4gKlxuICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gKlxuICogICAvLyBEZWNsYXJlIG9ic2VydmVkIHByb3BlcnRpZXNcbiAqICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBhZGplY3RpdmU6IHt9XG4gKiAgICAgfVxuICogICB9XG4gKlxuICogICBjb25zdHJ1Y3RvcigpIHtcbiAqICAgICB0aGlzLmFkamVjdGl2ZSA9ICdhd2Vzb21lJztcbiAqICAgfVxuICpcbiAqICAgLy8gRGVmaW5lIHRoZSBlbGVtZW50J3MgdGVtcGxhdGVcbiAqICAgcmVuZGVyKCkge1xuICogICAgIHJldHVybiBodG1sYDxwPnlvdXIgJHthZGplY3RpdmV9IHRlbXBsYXRlIGhlcmU8L3A+YDtcbiAqICAgfVxuICogfVxuICpcbiAqIGN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbXktZWxlbWVudCcsIE15RWxlbWVudCk7XG4gKiBgYGBcbiAqXG4gKiBgTGl0RWxlbWVudGAgZXh0ZW5kcyB7QGxpbmtjb2RlIFJlYWN0aXZlRWxlbWVudH0gYW5kIGFkZHMgbGl0LWh0bWxcbiAqIHRlbXBsYXRpbmcuIFRoZSBgUmVhY3RpdmVFbGVtZW50YCBjbGFzcyBpcyBwcm92aWRlZCBmb3IgdXNlcnMgdGhhdCB3YW50IHRvXG4gKiBidWlsZCB0aGVpciBvd24gY3VzdG9tIGVsZW1lbnQgYmFzZSBjbGFzc2VzIHRoYXQgZG9uJ3QgdXNlIGxpdC1odG1sLlxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzLCBSZWFjdGl2ZUVsZW1lbnR9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5pbXBvcnQge3JlbmRlciwgUmVuZGVyT3B0aW9ucywgbm9DaGFuZ2UsIFJvb3RQYXJ0fSBmcm9tICdsaXQtaHRtbCc7XG5leHBvcnQgKiBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuZXhwb3J0ICogZnJvbSAnbGl0LWh0bWwnO1xuXG5pbXBvcnQge0xpdFVuc3RhYmxlfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge1JlYWN0aXZlVW5zdGFibGV9IGZyb20gJ0BsaXQvcmVhY3RpdmUtZWxlbWVudCc7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeVxuICAgICAgfCBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5O1xuICB9XG59XG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSA8UCBleHRlbmRzIFByb3BlcnR5S2V5PihcbiAgcHJvcDogUCxcbiAgX29iajogdW5rbm93blxuKTogUCA9PiBwcm9wO1xuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB0aGF0IG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLCBhbmRcbiAqIHJlbmRlcnMgYSBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBUbyBkZWZpbmUgYSBjb21wb25lbnQsIHN1YmNsYXNzIGBMaXRFbGVtZW50YCBhbmQgaW1wbGVtZW50IGFcbiAqIGByZW5kZXJgIG1ldGhvZCB0byBwcm92aWRlIHRoZSBjb21wb25lbnQncyB0ZW1wbGF0ZS4gRGVmaW5lIHByb3BlcnRpZXNcbiAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnQucHJvcGVydGllcyBwcm9wZXJ0aWVzfSBwcm9wZXJ0eSBvciB0aGVcbiAqIHtAbGlua2NvZGUgcHJvcGVydHl9IGRlY29yYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICBzdGF0aWMgWydfJGxpdEVsZW1lbnQkJ10gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJPcHRpb25zOiBSZW5kZXJPcHRpb25zID0ge2hvc3Q6IHRoaXN9O1xuXG4gIHByaXZhdGUgX19jaGlsZFBhcnQ6IFJvb3RQYXJ0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICBjb25zdCByZW5kZXJSb290ID0gc3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgIC8vIFdoZW4gYWRvcHRlZFN0eWxlU2hlZXRzIGFyZSBzaGltbWVkLCB0aGV5IGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgLy8gYW55IHN0eWxlcyBpbiBMaXQgY29udGVudCByZW5kZXIgYmVmb3JlIGFkb3B0ZWRTdHlsZVNoZWV0cy4gVGhpcyBpc1xuICAgIC8vIGltcG9ydGFudCBzbyB0aGF0IGFkb3B0ZWRTdHlsZVNoZWV0cyBoYXZlIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICB0aGlzLnJlbmRlck9wdGlvbnMucmVuZGVyQmVmb3JlID8/PSByZW5kZXJSb290IS5maXJzdENoaWxkIGFzIENoaWxkTm9kZTtcbiAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgLy8gdXBkYXRlcyBhcmUgYWxsb3dlZCBhZnRlciBzdXBlci51cGRhdGUsIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHJlbmRlcmBcbiAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZCA9IHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgdGhpcy5fX2NoaWxkUGFydCA9IHJlbmRlcih2YWx1ZSwgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAqIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuIFRoZSBtb3N0IGNvbW1vbiBvZiB0aGVzZSBpc1xuICAgKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIHRvIG5vZGVzIGV4dGVybmFsIHRvIHRoZSBlbGVtZW50LCBsaWtlIGEga2V5ZG93blxuICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgKiAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAqICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICogZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQsIGluIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYC5cbiAgICpcbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgb3ZlcnJpZGUgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0aGUgbWFpbiBzaWduYWwgdG8gdGhlIGVsZW1lbnQgdGhhdCBpdCBtYXkgbm8gbG9uZ2VyIGJlXG4gICAqIHVzZWQuIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgZW5zdXJlIHRoYXQgbm90aGluZyBpcyBob2xkaW5nIGFcbiAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgKiB0byB0aGUgZWxlbWVudCksIHNvIHRoYXQgaXQgaXMgZnJlZSB0byBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBbiBlbGVtZW50IG1heSBiZSByZS1jb25uZWN0ZWQgYWZ0ZXIgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZChmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICogYFRlbXBsYXRlUmVzdWx0YC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IHVua25vd24ge1xuICAgIHJldHVybiBub0NoYW5nZTtcbiAgfVxufVxuXG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG4oTGl0RWxlbWVudCBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtcbiAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgTGl0RWxlbWVudClcbl0gPSB0cnVlO1xuXG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbmdsb2JhbC5saXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQ/Lih7TGl0RWxlbWVudH0pO1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExFIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWh0bWwsIHNpbmNlIHRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExFID0ge1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHk6IChcbiAgICBlbDogTGl0RWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgKGVsIGFzIGFueSkuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIF8kY2hhbmdlZFByb3BlcnRpZXM6IChlbDogTGl0RWxlbWVudCkgPT4gKGVsIGFzIGFueSkuXyRjaGFuZ2VkUHJvcGVydGllcyxcbn07XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbihnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zID8/PSBbXSkucHVzaCgnNC4yLjAnKTtcbmlmIChERVZfTU9ERSAmJiBnbG9iYWwubGl0RWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyEoXG4gICAgICAnbXVsdGlwbGUtdmVyc2lvbnMnLFxuICAgICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICAgICk7XG4gIH0pO1xufVxuIiwiaW1wb3J0e2dldENvbXBhdGlibGVTdHlsZSBhcyB0LGFkb3B0U3R5bGVzIGFzIHN9ZnJvbVwiLi9jc3MtdGFnLmpzXCI7ZXhwb3J0e0NTU1Jlc3VsdCxjc3Msc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzLHVuc2FmZUNTU31mcm9tXCIuL2Nzcy10YWcuanNcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL2NvbnN0e2lzOmksZGVmaW5lUHJvcGVydHk6ZSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6aCxnZXRPd25Qcm9wZXJ0eU5hbWVzOnIsZ2V0T3duUHJvcGVydHlTeW1ib2xzOm8sZ2V0UHJvdG90eXBlT2Y6bn09T2JqZWN0LGE9Z2xvYmFsVGhpcyxjPWEudHJ1c3RlZFR5cGVzLGw9Yz9jLmVtcHR5U2NyaXB0OlwiXCIscD1hLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCxkPSh0LHMpPT50LHU9e3RvQXR0cmlidXRlKHQscyl7c3dpdGNoKHMpe2Nhc2UgQm9vbGVhbjp0PXQ/bDpudWxsO2JyZWFrO2Nhc2UgT2JqZWN0OmNhc2UgQXJyYXk6dD1udWxsPT10P3Q6SlNPTi5zdHJpbmdpZnkodCl9cmV0dXJuIHR9LGZyb21BdHRyaWJ1dGUodCxzKXtsZXQgaT10O3N3aXRjaChzKXtjYXNlIEJvb2xlYW46aT1udWxsIT09dDticmVhaztjYXNlIE51bWJlcjppPW51bGw9PT10P251bGw6TnVtYmVyKHQpO2JyZWFrO2Nhc2UgT2JqZWN0OmNhc2UgQXJyYXk6dHJ5e2k9SlNPTi5wYXJzZSh0KX1jYXRjaCh0KXtpPW51bGx9fXJldHVybiBpfX0sZj0odCxzKT0+IWkodCxzKSxiPXthdHRyaWJ1dGU6ITAsdHlwZTpTdHJpbmcsY29udmVydGVyOnUscmVmbGVjdDohMSx1c2VEZWZhdWx0OiExLGhhc0NoYW5nZWQ6Zn07U3ltYm9sLm1ldGFkYXRhPz89U3ltYm9sKFwibWV0YWRhdGFcIiksYS5saXRQcm9wZXJ0eU1ldGFkYXRhPz89bmV3IFdlYWtNYXA7Y2xhc3MgeSBleHRlbmRzIEhUTUxFbGVtZW50e3N0YXRpYyBhZGRJbml0aWFsaXplcih0KXt0aGlzLl8kRWkoKSwodGhpcy5sPz89W10pLnB1c2godCl9c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5maW5hbGl6ZSgpLHRoaXMuXyRFaCYmWy4uLnRoaXMuXyRFaC5rZXlzKCldfXN0YXRpYyBjcmVhdGVQcm9wZXJ0eSh0LHM9Yil7aWYocy5zdGF0ZSYmKHMuYXR0cmlidXRlPSExKSx0aGlzLl8kRWkoKSx0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSh0KSYmKChzPU9iamVjdC5jcmVhdGUocykpLndyYXBwZWQ9ITApLHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHQscyksIXMubm9BY2Nlc3Nvcil7Y29uc3QgaT1TeW1ib2woKSxoPXRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHQsaSxzKTt2b2lkIDAhPT1oJiZlKHRoaXMucHJvdG90eXBlLHQsaCl9fXN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IodCxzLGkpe2NvbnN0e2dldDplLHNldDpyfT1oKHRoaXMucHJvdG90eXBlLHQpPz97Z2V0KCl7cmV0dXJuIHRoaXNbc119LHNldCh0KXt0aGlzW3NdPXR9fTtyZXR1cm57Z2V0OmUsc2V0KHMpe2NvbnN0IGg9ZT8uY2FsbCh0aGlzKTtyPy5jYWxsKHRoaXMscyksdGhpcy5yZXF1ZXN0VXBkYXRlKHQsaCxpKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fXN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnModCl7cmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KHQpPz9ifXN0YXRpYyBfJEVpKCl7aWYodGhpcy5oYXNPd25Qcm9wZXJ0eShkKFwiZWxlbWVudFByb3BlcnRpZXNcIikpKXJldHVybjtjb25zdCB0PW4odGhpcyk7dC5maW5hbGl6ZSgpLHZvaWQgMCE9PXQubCYmKHRoaXMubD1bLi4udC5sXSksdGhpcy5lbGVtZW50UHJvcGVydGllcz1uZXcgTWFwKHQuZWxlbWVudFByb3BlcnRpZXMpfXN0YXRpYyBmaW5hbGl6ZSgpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoZChcImZpbmFsaXplZFwiKSkpcmV0dXJuO2lmKHRoaXMuZmluYWxpemVkPSEwLHRoaXMuXyRFaSgpLHRoaXMuaGFzT3duUHJvcGVydHkoZChcInByb3BlcnRpZXNcIikpKXtjb25zdCB0PXRoaXMucHJvcGVydGllcyxzPVsuLi5yKHQpLC4uLm8odCldO2Zvcihjb25zdCBpIG9mIHMpdGhpcy5jcmVhdGVQcm9wZXJ0eShpLHRbaV0pfWNvbnN0IHQ9dGhpc1tTeW1ib2wubWV0YWRhdGFdO2lmKG51bGwhPT10KXtjb25zdCBzPWxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KHQpO2lmKHZvaWQgMCE9PXMpZm9yKGNvbnN0W3QsaV1vZiBzKXRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHQsaSl9dGhpcy5fJEVoPW5ldyBNYXA7Zm9yKGNvbnN0W3Qsc11vZiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzKXtjb25zdCBpPXRoaXMuXyRFdSh0LHMpO3ZvaWQgMCE9PWkmJnRoaXMuXyRFaC5zZXQoaSx0KX10aGlzLmVsZW1lbnRTdHlsZXM9dGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyl9c3RhdGljIGZpbmFsaXplU3R5bGVzKHMpe2NvbnN0IGk9W107aWYoQXJyYXkuaXNBcnJheShzKSl7Y29uc3QgZT1uZXcgU2V0KHMuZmxhdCgxLzApLnJldmVyc2UoKSk7Zm9yKGNvbnN0IHMgb2YgZSlpLnVuc2hpZnQodChzKSl9ZWxzZSB2b2lkIDAhPT1zJiZpLnB1c2godChzKSk7cmV0dXJuIGl9c3RhdGljIF8kRXUodCxzKXtjb25zdCBpPXMuYXR0cmlidXRlO3JldHVybiExPT09aT92b2lkIDA6XCJzdHJpbmdcIj09dHlwZW9mIGk/aTpcInN0cmluZ1wiPT10eXBlb2YgdD90LnRvTG93ZXJDYXNlKCk6dm9pZCAwfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLl8kRXA9dm9pZCAwLHRoaXMuaXNVcGRhdGVQZW5kaW5nPSExLHRoaXMuaGFzVXBkYXRlZD0hMSx0aGlzLl8kRW09bnVsbCx0aGlzLl8kRXYoKX1fJEV2KCl7dGhpcy5fJEVTPW5ldyBQcm9taXNlKCh0PT50aGlzLmVuYWJsZVVwZGF0aW5nPXQpKSx0aGlzLl8kQUw9bmV3IE1hcCx0aGlzLl8kRV8oKSx0aGlzLnJlcXVlc3RVcGRhdGUoKSx0aGlzLmNvbnN0cnVjdG9yLmw/LmZvckVhY2goKHQ9PnQodGhpcykpKX1hZGRDb250cm9sbGVyKHQpeyh0aGlzLl8kRU8/Pz1uZXcgU2V0KS5hZGQodCksdm9pZCAwIT09dGhpcy5yZW5kZXJSb290JiZ0aGlzLmlzQ29ubmVjdGVkJiZ0Lmhvc3RDb25uZWN0ZWQ/LigpfXJlbW92ZUNvbnRyb2xsZXIodCl7dGhpcy5fJEVPPy5kZWxldGUodCl9XyRFXygpe2NvbnN0IHQ9bmV3IE1hcCxzPXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7Zm9yKGNvbnN0IGkgb2Ygcy5rZXlzKCkpdGhpcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHQuc2V0KGksdGhpc1tpXSksZGVsZXRlIHRoaXNbaV0pO3Quc2l6ZT4wJiYodGhpcy5fJEVwPXQpfWNyZWF0ZVJlbmRlclJvb3QoKXtjb25zdCB0PXRoaXMuc2hhZG93Um9vdD8/dGhpcy5hdHRhY2hTaGFkb3codGhpcy5jb25zdHJ1Y3Rvci5zaGFkb3dSb290T3B0aW9ucyk7cmV0dXJuIHModCx0aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRTdHlsZXMpLHR9Y29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLnJlbmRlclJvb3Q/Pz10aGlzLmNyZWF0ZVJlbmRlclJvb3QoKSx0aGlzLmVuYWJsZVVwZGF0aW5nKCEwKSx0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdENvbm5lY3RlZD8uKCkpKX1lbmFibGVVcGRhdGluZyh0KXt9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdERpc2Nvbm5lY3RlZD8uKCkpKX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxzLGkpe3RoaXMuXyRBSyh0LGkpfV8kRVQodCxzKXtjb25zdCBpPXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXMuZ2V0KHQpLGU9dGhpcy5jb25zdHJ1Y3Rvci5fJEV1KHQsaSk7aWYodm9pZCAwIT09ZSYmITA9PT1pLnJlZmxlY3Qpe2NvbnN0IGg9KHZvaWQgMCE9PWkuY29udmVydGVyPy50b0F0dHJpYnV0ZT9pLmNvbnZlcnRlcjp1KS50b0F0dHJpYnV0ZShzLGkudHlwZSk7dGhpcy5fJEVtPXQsbnVsbD09aD90aGlzLnJlbW92ZUF0dHJpYnV0ZShlKTp0aGlzLnNldEF0dHJpYnV0ZShlLGgpLHRoaXMuXyRFbT1udWxsfX1fJEFLKHQscyl7Y29uc3QgaT10aGlzLmNvbnN0cnVjdG9yLGU9aS5fJEVoLmdldCh0KTtpZih2b2lkIDAhPT1lJiZ0aGlzLl8kRW0hPT1lKXtjb25zdCB0PWkuZ2V0UHJvcGVydHlPcHRpb25zKGUpLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb252ZXJ0ZXI/e2Zyb21BdHRyaWJ1dGU6dC5jb252ZXJ0ZXJ9OnZvaWQgMCE9PXQuY29udmVydGVyPy5mcm9tQXR0cmlidXRlP3QuY29udmVydGVyOnU7dGhpcy5fJEVtPWUsdGhpc1tlXT1oLmZyb21BdHRyaWJ1dGUocyx0LnR5cGUpPz90aGlzLl8kRWo/LmdldChlKT8/bnVsbCx0aGlzLl8kRW09bnVsbH19cmVxdWVzdFVwZGF0ZSh0LHMsaSl7aWYodm9pZCAwIT09dCl7Y29uc3QgZT10aGlzLmNvbnN0cnVjdG9yLGg9dGhpc1t0XTtpZihpPz89ZS5nZXRQcm9wZXJ0eU9wdGlvbnModCksISgoaS5oYXNDaGFuZ2VkPz9mKShoLHMpfHxpLnVzZURlZmF1bHQmJmkucmVmbGVjdCYmaD09PXRoaXMuXyRFaj8uZ2V0KHQpJiYhdGhpcy5oYXNBdHRyaWJ1dGUoZS5fJEV1KHQsaSkpKSlyZXR1cm47dGhpcy5DKHQscyxpKX0hMT09PXRoaXMuaXNVcGRhdGVQZW5kaW5nJiYodGhpcy5fJEVTPXRoaXMuXyRFUCgpKX1DKHQscyx7dXNlRGVmYXVsdDppLHJlZmxlY3Q6ZSx3cmFwcGVkOmh9LHIpe2kmJiEodGhpcy5fJEVqPz89bmV3IE1hcCkuaGFzKHQpJiYodGhpcy5fJEVqLnNldCh0LHI/P3M/P3RoaXNbdF0pLCEwIT09aHx8dm9pZCAwIT09cil8fCh0aGlzLl8kQUwuaGFzKHQpfHwodGhpcy5oYXNVcGRhdGVkfHxpfHwocz12b2lkIDApLHRoaXMuXyRBTC5zZXQodCxzKSksITA9PT1lJiZ0aGlzLl8kRW0hPT10JiYodGhpcy5fJEVxPz89bmV3IFNldCkuYWRkKHQpKX1hc3luYyBfJEVQKCl7dGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITA7dHJ5e2F3YWl0IHRoaXMuXyRFU31jYXRjaCh0KXtQcm9taXNlLnJlamVjdCh0KX1jb25zdCB0PXRoaXMuc2NoZWR1bGVVcGRhdGUoKTtyZXR1cm4gbnVsbCE9dCYmYXdhaXQgdCwhdGhpcy5pc1VwZGF0ZVBlbmRpbmd9c2NoZWR1bGVVcGRhdGUoKXtyZXR1cm4gdGhpcy5wZXJmb3JtVXBkYXRlKCl9cGVyZm9ybVVwZGF0ZSgpe2lmKCF0aGlzLmlzVXBkYXRlUGVuZGluZylyZXR1cm47aWYoIXRoaXMuaGFzVXBkYXRlZCl7aWYodGhpcy5yZW5kZXJSb290Pz89dGhpcy5jcmVhdGVSZW5kZXJSb290KCksdGhpcy5fJEVwKXtmb3IoY29uc3RbdCxzXW9mIHRoaXMuXyRFcCl0aGlzW3RdPXM7dGhpcy5fJEVwPXZvaWQgMH1jb25zdCB0PXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7aWYodC5zaXplPjApZm9yKGNvbnN0W3MsaV1vZiB0KXtjb25zdHt3cmFwcGVkOnR9PWksZT10aGlzW3NdOyEwIT09dHx8dGhpcy5fJEFMLmhhcyhzKXx8dm9pZCAwPT09ZXx8dGhpcy5DKHMsdm9pZCAwLGksZSl9fWxldCB0PSExO2NvbnN0IHM9dGhpcy5fJEFMO3RyeXt0PXRoaXMuc2hvdWxkVXBkYXRlKHMpLHQ/KHRoaXMud2lsbFVwZGF0ZShzKSx0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdFVwZGF0ZT8uKCkpKSx0aGlzLnVwZGF0ZShzKSk6dGhpcy5fJEVNKCl9Y2F0Y2gocyl7dGhyb3cgdD0hMSx0aGlzLl8kRU0oKSxzfXQmJnRoaXMuXyRBRShzKX13aWxsVXBkYXRlKHQpe31fJEFFKHQpe3RoaXMuXyRFTz8uZm9yRWFjaCgodD0+dC5ob3N0VXBkYXRlZD8uKCkpKSx0aGlzLmhhc1VwZGF0ZWR8fCh0aGlzLmhhc1VwZGF0ZWQ9ITAsdGhpcy5maXJzdFVwZGF0ZWQodCkpLHRoaXMudXBkYXRlZCh0KX1fJEVNKCl7dGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITF9Z2V0IHVwZGF0ZUNvbXBsZXRlKCl7cmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKX1nZXRVcGRhdGVDb21wbGV0ZSgpe3JldHVybiB0aGlzLl8kRVN9c2hvdWxkVXBkYXRlKHQpe3JldHVybiEwfXVwZGF0ZSh0KXt0aGlzLl8kRXEmJj10aGlzLl8kRXEuZm9yRWFjaCgodD0+dGhpcy5fJEVUKHQsdGhpc1t0XSkpKSx0aGlzLl8kRU0oKX11cGRhdGVkKHQpe31maXJzdFVwZGF0ZWQodCl7fX15LmVsZW1lbnRTdHlsZXM9W10seS5zaGFkb3dSb290T3B0aW9ucz17bW9kZTpcIm9wZW5cIn0seVtkKFwiZWxlbWVudFByb3BlcnRpZXNcIildPW5ldyBNYXAseVtkKFwiZmluYWxpemVkXCIpXT1uZXcgTWFwLHA/Lih7UmVhY3RpdmVFbGVtZW50Onl9KSwoYS5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucz8/PVtdKS5wdXNoKFwiMi4xLjBcIik7ZXhwb3J0e3kgYXMgUmVhY3RpdmVFbGVtZW50LHMgYXMgYWRvcHRTdHlsZXMsdSBhcyBkZWZhdWx0Q29udmVydGVyLHQgYXMgZ2V0Q29tcGF0aWJsZVN0eWxlLGYgYXMgbm90RXF1YWx9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3RpdmUtZWxlbWVudC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFVzZSB0aGlzIG1vZHVsZSBpZiB5b3Ugd2FudCB0byBjcmVhdGUgeW91ciBvd24gYmFzZSBjbGFzcyBleHRlbmRpbmdcbiAqIHtAbGluayBSZWFjdGl2ZUVsZW1lbnR9LlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cblxuaW1wb3J0IHtcbiAgZ2V0Q29tcGF0aWJsZVN0eWxlLFxuICBhZG9wdFN0eWxlcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIENTU1Jlc3VsdE9yTmF0aXZlLFxufSBmcm9tICcuL2Nzcy10YWcuanMnO1xuaW1wb3J0IHR5cGUge1xuICBSZWFjdGl2ZUNvbnRyb2xsZXIsXG4gIFJlYWN0aXZlQ29udHJvbGxlckhvc3QsXG59IGZyb20gJy4vcmVhY3RpdmUtY29udHJvbGxlci5qcyc7XG5cbi8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGltcG9ydCB3aWxsIGJlIGluamVjdGVkIGJ5IFJvbGx1cDpcbi8vIGltcG9ydCB7SFRNTEVsZW1lbnQsIGN1c3RvbUVsZW1lbnRzfSBmcm9tICdAbGl0LWxhYnMvc3NyLWRvbS1zaGltJztcblxuZXhwb3J0ICogZnJvbSAnLi9jc3MtdGFnLmpzJztcbmV4cG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGByZWFkb25seWAgbW9kaWZpZXIgZnJvbSBwcm9wZXJ0aWVzIGluIHRoZSB1bmlvbiBLLlxuICpcbiAqIFRoaXMgaXMgYSBzYWZlciB3YXkgdG8gY2FzdCBhIHZhbHVlIHRvIGEgdHlwZSB3aXRoIGEgbXV0YWJsZSB2ZXJzaW9uIG9mIGFcbiAqIHJlYWRvbmx5IGZpZWxkLCB0aGFuIGNhc3RpbmcgdG8gYW4gaW50ZXJmYWNlIHdpdGggdGhlIGZpZWxkIHJlLWRlY2xhcmVkXG4gKiBiZWNhdXNlIGl0IHByZXNlcnZlcyB0aGUgdHlwZSBvZiBhbGwgdGhlIGZpZWxkcyBhbmQgd2FybnMgb24gdHlwb3MuXG4gKi9cbnR5cGUgTXV0YWJsZTxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+ICYge1xuICAtcmVhZG9ubHkgW1AgaW4ga2V5b2YgUGljazxULCBLPl06IFAgZXh0ZW5kcyBLID8gVFtQXSA6IG5ldmVyO1xufTtcblxuLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IEFkZCBgaGFzT3duYCBoZXJlIHdoZW4gd2Ugc2hpcCBFUzIwMjJcbmNvbnN0IHtcbiAgaXMsXG4gIGRlZmluZVByb3BlcnR5LFxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIGdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldE93blByb3BlcnR5U3ltYm9scyxcbiAgZ2V0UHJvdG90eXBlT2YsXG59ID0gT2JqZWN0O1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gTGV0cyBhIG1pbmlmaWVyIHJlcGxhY2UgZ2xvYmFsVGhpcyByZWZlcmVuY2VzIHdpdGggYSBtaW5pZmllZCBuYW1lXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG5pZiAoTk9ERV9NT0RFKSB7XG4gIGdsb2JhbC5jdXN0b21FbGVtZW50cyA/Pz0gY3VzdG9tRWxlbWVudHM7XG59XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcblxubGV0IGlzc3VlV2FybmluZzogKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB2b2lkO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMge3RydXN0ZWRUeXBlcz86IHtlbXB0eVNjcmlwdDogJyd9fSlcbiAgLnRydXN0ZWRUeXBlcztcblxuLy8gVGVtcG9yYXJ5IHdvcmthcm91bmQgZm9yIGh0dHBzOi8vY3JidWcuY29tLzk5MzI2OFxuLy8gQ3VycmVudGx5LCBhbnkgYXR0cmlidXRlIHN0YXJ0aW5nIHdpdGggXCJvblwiIGlzIGNvbnNpZGVyZWQgdG8gYmUgYVxuLy8gVHJ1c3RlZFNjcmlwdCBzb3VyY2UuIFN1Y2ggYm9vbGVhbiBhdHRyaWJ1dGVzIG11c3QgYmUgc2V0IHRvIHRoZSBlcXVpdmFsZW50XG4vLyB0cnVzdGVkIGVtcHR5U2NyaXB0IHZhbHVlLlxuY29uc3QgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlID0gdHJ1c3RlZFR5cGVzXG4gID8gKHRydXN0ZWRUeXBlcy5lbXB0eVNjcmlwdCBhcyB1bmtub3duIGFzICcnKVxuICA6ICcnO1xuXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIC8vIEVuc3VyZSB3YXJuaW5ncyBhcmUgaXNzdWVkIG9ubHkgMXgsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0XG4gIC8vIGFyZSBsb2FkZWQuXG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYDtcbiAgICBpZiAoXG4gICAgICAhZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykgJiZcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyhjb2RlKVxuICAgICkge1xuICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xuXG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAnZGV2LW1vZGUnLFxuICAgICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgICApO1xuXG4gICAgLy8gSXNzdWUgcG9seWZpbGwgc3VwcG9ydCB3YXJuaW5nLlxuICAgIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdwb2x5ZmlsbC1zdXBwb3J0LW1pc3NpbmcnLFxuICAgICAgICBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgICAgYHRoZSBcXGBwb2x5ZmlsbC1zdXBwb3J0XFxgIG1vZHVsZSBoYXMgbm90IGJlZW4gbG9hZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBDb250YWlucyB0eXBlcyB0aGF0IGFyZSBwYXJ0IG9mIHRoZSB1bnN0YWJsZSBkZWJ1ZyBBUEkuXG4gKlxuICogRXZlcnl0aGluZyBpbiB0aGlzIEFQSSBpcyBub3Qgc3RhYmxlIGFuZCBtYXkgY2hhbmdlIG9yIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSxcbiAqIGV2ZW4gb24gcGF0Y2ggcmVsZWFzZXMuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5leHBvcnQgbmFtZXNwYWNlIFJlYWN0aXZlVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID0gVXBkYXRlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlIHtcbiAgICAgIGtpbmQ6ICd1cGRhdGUnO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBSZWFjdGl2ZVVuc3RhYmxlLkRlYnVnTG9nLkVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBzaG91bGRFbWl0ID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIERlYnVnTG9nZ2luZ1dpbmRvdylcbiAgICAgICAgLmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cztcbiAgICAgIGlmICghc2hvdWxkRW1pdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbG9iYWwuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50PFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcblxuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gIHByb3A6IFAsXG4gIF9vYmo6IHVua25vd25cbik6IFAgPT4gcHJvcDtcblxuLyoqXG4gKiBDb252ZXJ0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYW5kIGZyb20gYXR0cmlidXRlIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5XG4gICAqIHZhbHVlLlxuICAgKi9cbiAgZnJvbUF0dHJpYnV0ZT8odmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCk6IFR5cGU7XG5cbiAgLyoqXG4gICAqIENhbGxlZCB0byBjb252ZXJ0IGEgcHJvcGVydHkgdmFsdWUgdG8gYW4gYXR0cmlidXRlXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBJdCByZXR1cm5zIHVua25vd24gaW5zdGVhZCBvZiBzdHJpbmcsIHRvIGJlIGNvbXBhdGlibGUgd2l0aFxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vV0lDRy90cnVzdGVkLXR5cGVzIChhbmQgc2ltaWxhciBlZmZvcnRzKS5cbiAgICovXG4gIHRvQXR0cmlidXRlPyh2YWx1ZTogVHlwZSwgdHlwZT86IFR5cGVIaW50KTogdW5rbm93bjtcbn1cblxudHlwZSBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4gPVxuICB8IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZT5cbiAgfCAoKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogVHlwZUhpbnQpID0+IFR5cGUpO1xuXG4vKipcbiAqIERlZmluZXMgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eURlY2xhcmF0aW9uPFR5cGUgPSB1bmtub3duLCBUeXBlSGludCA9IHVua25vd24+IHtcbiAgLyoqXG4gICAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgaW5kaWNhdGVzIHRoZSBwcm9wZXJ0eSBpcyBpbnRlcm5hbCBwcml2YXRlIHN0YXRlLiBUaGVcbiAgICogcHJvcGVydHkgc2hvdWxkIG5vdCBiZSBzZXQgYnkgdXNlcnMuIFdoZW4gdXNpbmcgVHlwZVNjcmlwdCwgdGhpcyBwcm9wZXJ0eVxuICAgKiBzaG91bGQgYmUgbWFya2VkIGFzIGBwcml2YXRlYCBvciBgcHJvdGVjdGVkYCwgYW5kIGl0IGlzIGFsc28gYSBjb21tb25cbiAgICogcHJhY3RpY2UgdG8gdXNlIGEgbGVhZGluZyBgX2AgaW4gdGhlIG5hbWUuIFRoZSBwcm9wZXJ0eSBpcyBub3QgYWRkZWQgdG9cbiAgICogYG9ic2VydmVkQXR0cmlidXRlc2AuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgYW5kIHdoZXRoZXIgdGhlIHByb3BlcnR5IGJlY29tZXMgYW4gb2JzZXJ2ZWQgYXR0cmlidXRlLlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgYGZhbHNlYCwgdGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICogSWYgdHJ1ZSBvciBhYnNlbnQsIHRoZSBsb3dlcmNhc2VkIHByb3BlcnR5IG5hbWUgaXMgb2JzZXJ2ZWQgKGUuZy4gYGZvb0JhcmBcbiAgICogYmVjb21lcyBgZm9vYmFyYCkuIElmIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHZhbHVlIGlzIG9ic2VydmVkIChlLmdcbiAgICogYGF0dHJpYnV0ZTogJ2Zvby1iYXInYCkuXG4gICAqL1xuICByZWFkb25seSBhdHRyaWJ1dGU/OiBib29sZWFuIHwgc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgdGhlIHR5cGUgb2YgdGhlIHByb3BlcnR5LiBUaGlzIGlzIHVzZWQgb25seSBhcyBhIGhpbnQgZm9yIHRoZVxuICAgKiBgY29udmVydGVyYCB0byBkZXRlcm1pbmUgaG93IHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZVxuICAgKiB0by9mcm9tIGEgcHJvcGVydHkuXG4gICAqL1xuICByZWFkb25seSB0eXBlPzogVHlwZUhpbnQ7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHRvL2Zyb20gYSBwcm9wZXJ0eS4gSWYgdGhpcyB2YWx1ZVxuICAgKiBpcyBhIGZ1bmN0aW9uLCBpdCBpcyB1c2VkIHRvIGNvbnZlcnQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBhIHRoZSBwcm9wZXJ0eVxuICAgKiB2YWx1ZS4gSWYgaXQncyBhbiBvYmplY3QsIGl0IGNhbiBoYXZlIGtleXMgZm9yIGBmcm9tQXR0cmlidXRlYCBhbmRcbiAgICogYHRvQXR0cmlidXRlYC4gSWYgbm8gYHRvQXR0cmlidXRlYCBmdW5jdGlvbiBpcyBwcm92aWRlZCBhbmRcbiAgICogYHJlZmxlY3RgIGlzIHNldCB0byBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSB2YWx1ZSBpcyBzZXQgZGlyZWN0bHkgdG8gdGhlXG4gICAqIGF0dHJpYnV0ZS4gQSBkZWZhdWx0IGBjb252ZXJ0ZXJgIGlzIHVzZWQgaWYgbm9uZSBpcyBwcm92aWRlZDsgaXQgc3VwcG9ydHNcbiAgICogYEJvb2xlYW5gLCBgU3RyaW5nYCwgYE51bWJlcmAsIGBPYmplY3RgLCBhbmQgYEFycmF5YC4gTm90ZSxcbiAgICogd2hlbiBhIHByb3BlcnR5IGNoYW5nZXMgYW5kIHRoZSBjb252ZXJ0ZXIgaXMgdXNlZCB0byB1cGRhdGUgdGhlIGF0dHJpYnV0ZSxcbiAgICogdGhlIHByb3BlcnR5IGlzIG5ldmVyIHVwZGF0ZWQgYWdhaW4gYXMgYSByZXN1bHQgb2YgdGhlIGF0dHJpYnV0ZSBjaGFuZ2luZyxcbiAgICogYW5kIHZpY2UgdmVyc2EuXG4gICAqL1xuICByZWFkb25seSBjb252ZXJ0ZXI/OiBBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSwgVHlwZUhpbnQ+O1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHByb3BlcnR5IHNob3VsZCByZWZsZWN0IHRvIGFuIGF0dHJpYnV0ZS5cbiAgICogSWYgYHRydWVgLCB3aGVuIHRoZSBwcm9wZXJ0eSBpcyBzZXQsIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHVzaW5nIHRoZVxuICAgKiBhdHRyaWJ1dGUgbmFtZSBkZXRlcm1pbmVkIGFjY29yZGluZyB0byB0aGUgcnVsZXMgZm9yIHRoZSBgYXR0cmlidXRlYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgcHJvcGVydHkgY29udmVydGVkIHVzaW5nIHRoZSBydWxlc1xuICAgKiBmcm9tIHRoZSBgY29udmVydGVyYCBwcm9wZXJ0eSBvcHRpb24uXG4gICAqL1xuICByZWFkb25seSByZWZsZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogQSBmdW5jdGlvbiB0aGF0IGluZGljYXRlcyBpZiBhIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGNoYW5nZWQgd2hlblxuICAgKiBpdCBpcyBzZXQuIFRoZSBmdW5jdGlvbiBzaG91bGQgdGFrZSB0aGUgYG5ld1ZhbHVlYCBhbmQgYG9sZFZhbHVlYCBhbmRcbiAgICogcmV0dXJuIGB0cnVlYCBpZiBhbiB1cGRhdGUgc2hvdWxkIGJlIHJlcXVlc3RlZC5cbiAgICovXG4gIGhhc0NoYW5nZWQ/KHZhbHVlOiBUeXBlLCBvbGRWYWx1ZTogVHlwZSk6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIGFuIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eS4gQnlcbiAgICogZGVmYXVsdCwgYW4gYWNjZXNzb3Igd2lsbCBiZSBnZW5lcmF0ZWQgZm9yIHRoaXMgcHJvcGVydHkgdGhhdCByZXF1ZXN0cyBhblxuICAgKiB1cGRhdGUgd2hlbiBzZXQuIElmIHRoaXMgZmxhZyBpcyBgdHJ1ZWAsIG5vIGFjY2Vzc29yIHdpbGwgYmUgY3JlYXRlZCwgYW5kXG4gICAqIGl0IHdpbGwgYmUgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsXG4gICAqIGB0aGlzLnJlcXVlc3RVcGRhdGUocHJvcGVydHlOYW1lLCBvbGRWYWx1ZSlgIHRvIHJlcXVlc3QgYW4gdXBkYXRlIHdoZW5cbiAgICogdGhlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAqL1xuICByZWFkb25seSBub0FjY2Vzc29yPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIHByb3BlcnR5IGlzIHdyYXBwaW5nIGFjY2Vzc29ycy4gVGhpcyBpcyBzZXQgYnkgYEBwcm9wZXJ0eWBcbiAgICogdG8gY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgd3JhcHBlZD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZW4gYHRydWVgLCB1c2VzIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBhcyB0aGUgZGVmYXVsdCB2YWx1ZSxcbiAgICogd2hpY2ggY2hhbmdlcyBob3cgYXR0cmlidXRlcyBhcmUgaGFuZGxlZDpcbiAgICogIC0gVGhlIGluaXRpYWwgdmFsdWUgZG9lcyAqbm90KiByZWZsZWN0LCBldmVuIGlmIHRoZSBgcmVmbGVjdGAgb3B0aW9uIGlzIGB0cnVlYC5cbiAgICogICAgU3Vic2VxdWVudCBjaGFuZ2VzIHRvIHRoZSBwcm9wZXJ0eSB3aWxsIHJlZmxlY3QsIGV2ZW4gaWYgdGhleSBhcmUgZXF1YWwgdG8gdGhlXG4gICAqICAgICBkZWZhdWx0IHZhbHVlLlxuICAgKiAgLSBXaGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZCwgdGhlIHByb3BlcnR5IGlzIHNldCB0byB0aGUgZGVmYXVsdCB2YWx1ZVxuICAgKiAgLSBUaGUgaW5pdGlhbCB2YWx1ZSB3aWxsIG5vdCB0cmlnZ2VyIGFuIG9sZCB2YWx1ZSBpbiB0aGUgYGNoYW5nZWRQcm9wZXJ0aWVzYCBtYXBcbiAgICogICAgYXJndW1lbnQgdG8gdXBkYXRlIGxpZmVjeWNsZSBtZXRob2RzLlxuICAgKlxuICAgKiBXaGVuIHNldCwgcHJvcGVydGllcyBtdXN0IGJlIGluaXRpYWxpemVkLCBlaXRoZXIgd2l0aCBhIGZpZWxkIGluaXRpYWxpemVyLCBvciBhblxuICAgKiBhc3NpZ25tZW50IGluIHRoZSBjb25zdHJ1Y3Rvci4gTm90IGluaXRpYWxpemluZyB0aGUgcHJvcGVydHkgbWF5IGxlYWQgdG9cbiAgICogaW1wcm9wZXIgaGFuZGxpbmcgb2Ygc3Vic2VxdWVudCBwcm9wZXJ0eSBhc3NpZ25tZW50cy5cbiAgICpcbiAgICogV2hpbGUgdGhpcyBiZWhhdmlvciBpcyBvcHQtaW4sIG1vc3QgcHJvcGVydGllcyB0aGF0IHJlZmxlY3QgdG8gYXR0cmlidXRlcyBzaG91bGRcbiAgICogdXNlIGB1c2VEZWZhdWx0OiB0cnVlYCBzbyB0aGF0IHRoZWlyIGluaXRpYWwgdmFsdWVzIGRvIG5vdCByZWZsZWN0LlxuICAgKi9cbiAgdXNlRGVmYXVsdD86IGJvb2xlYW47XG59XG5cbi8qKlxuICogTWFwIG9mIHByb3BlcnRpZXMgdG8gUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLiBGb3IgZWFjaCBwcm9wZXJ0eSBhblxuICogYWNjZXNzb3IgaXMgbWFkZSwgYW5kIHRoZSBwcm9wZXJ0eSBpcyBwcm9jZXNzZWQgYWNjb3JkaW5nIHRvIHRoZVxuICogUHJvcGVydHlEZWNsYXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb25zIHtcbiAgcmVhZG9ubHkgW2tleTogc3RyaW5nXTogUHJvcGVydHlEZWNsYXJhdGlvbjtcbn1cblxudHlwZSBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPjtcblxudHlwZSBBdHRyaWJ1dGVNYXAgPSBNYXA8c3RyaW5nLCBQcm9wZXJ0eUtleT47XG5cbi8qKlxuICogQSBNYXAgb2YgcHJvcGVydHkga2V5cyB0byB2YWx1ZXMuXG4gKlxuICogVGFrZXMgYW4gb3B0aW9uYWwgdHlwZSBwYXJhbWV0ZXIgVCwgd2hpY2ggd2hlbiBzcGVjaWZpZWQgYXMgYSBub24tYW55LFxuICogbm9uLXVua25vd24gdHlwZSwgd2lsbCBtYWtlIHRoZSBNYXAgbW9yZSBzdHJvbmdseS10eXBlZCwgYXNzb2NpYXRpbmcgdGhlIG1hcFxuICoga2V5cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmcgdmFsdWUgdHlwZSBvbiBULlxuICpcbiAqIFVzZSBgUHJvcGVydHlWYWx1ZXM8dGhpcz5gIHdoZW4gb3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQudXBkYXRlKCkgYW5kXG4gKiBvdGhlciBsaWZlY3ljbGUgbWV0aG9kcyBpbiBvcmRlciB0byBnZXQgc3Ryb25nZXIgdHlwZS1jaGVja2luZyBvbiBrZXlzXG4gKiBhbmQgdmFsdWVzLlxuICovXG4vLyBUaGlzIHR5cGUgaXMgY29uZGl0aW9uYWwgc28gdGhhdCBpZiB0aGUgcGFyYW1ldGVyIFQgaXMgbm90IHNwZWNpZmllZCwgb3Jcbi8vIGlzIGBhbnlgLCB0aGUgdHlwZSB3aWxsIGluY2x1ZGUgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLiBTaW5jZSBUIGlzIG5vdFxuLy8gZ2l2ZW4gaW4gdGhlIHVzZXMgb2YgUHJvcGVydHlWYWx1ZXMgaW4gdGhpcyBmaWxlLCBhbGwgdXNlcyBoZXJlIGZhbGxiYWNrIHRvXG4vLyBtZWFuaW5nIGBNYXA8UHJvcGVydHlLZXksIHVua25vd24+YCwgYnV0IGlmIGEgZGV2ZWxvcGVyIHVzZXNcbi8vIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgKG9yIGFueSBvdGhlciB2YWx1ZSBmb3IgVCkgdGhleSB3aWxsIGdldCBhXG4vLyBzdHJvbmdseS10eXBlZCBNYXAgdHlwZS5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgdHlwZSBQcm9wZXJ0eVZhbHVlczxUID0gYW55PiA9IFQgZXh0ZW5kcyBvYmplY3RcbiAgPyBQcm9wZXJ0eVZhbHVlTWFwPFQ+XG4gIDogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuLyoqXG4gKiBEbyBub3QgdXNlLCBpbnN0ZWFkIHByZWZlciB7QGxpbmtjb2RlIFByb3BlcnR5VmFsdWVzfS5cbiAqL1xuLy8gVGhpcyB0eXBlIG11c3QgYmUgZXhwb3J0ZWQgc3VjaCB0aGF0IEphdmFTY3JpcHQgZ2VuZXJhdGVkIGJ5IHRoZSBHb29nbGVcbi8vIENsb3N1cmUgQ29tcGlsZXIgY2FuIGltcG9ydCBhIHR5cGUgcmVmZXJlbmNlLlxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVZhbHVlTWFwPFQ+IGV4dGVuZHMgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPiB7XG4gIGdldDxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IFRbS10gfCB1bmRlZmluZWQ7XG4gIHNldDxLIGV4dGVuZHMga2V5b2YgVD4oa2V5OiBLLCB2YWx1ZTogVFtLXSk6IHRoaXM7XG4gIGhhczxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG4gIGRlbGV0ZTxLIGV4dGVuZHMga2V5b2YgVD4oazogSyk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29udmVydGVyOiBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyID0ge1xuICB0b0F0dHJpYnV0ZSh2YWx1ZTogdW5rbm93biwgdHlwZT86IHVua25vd24pOiB1bmtub3duIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA6IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgIHBhc3MgdGhpcyB0aHJvdWdoXG4gICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdmFsdWUgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0sXG5cbiAgZnJvbUF0dHJpYnV0ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IHVua25vd24pIHtcbiAgICBsZXQgZnJvbVZhbHVlOiB1bmtub3duID0gdmFsdWU7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlICE9PSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTnVtYmVyOlxuICAgICAgICBmcm9tVmFsdWUgPSB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBOdW1iZXIodmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgY2FzZSBBcnJheTpcbiAgICAgICAgLy8gRG8gKm5vdCogZ2VuZXJhdGUgZXhjZXB0aW9uIHdoZW4gaW52YWxpZCBKU09OIGlzIHNldCBhcyBlbGVtZW50c1xuICAgICAgICAvLyBkb24ndCBub3JtYWxseSBjb21wbGFpbiBvbiBiZWluZyBtaXMtY29uZmlndXJlZC5cbiAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogRG8gZ2VuZXJhdGUgZXhjZXB0aW9uIGluICpkZXYgbW9kZSouXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXNzZXJ0IHRvIGFkaGVyZSB0byBCYXplbCdzIFwibXVzdCB0eXBlIGFzc2VydCBKU09OIHBhcnNlXCIgcnVsZS5cbiAgICAgICAgICBmcm9tVmFsdWUgPSBKU09OLnBhcnNlKHZhbHVlISkgYXMgdW5rbm93bjtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGZyb21WYWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBmcm9tVmFsdWU7XG4gIH0sXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEhhc0NoYW5nZWQge1xuICAodmFsdWU6IHVua25vd24sIG9sZDogdW5rbm93bik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogQ2hhbmdlIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZGlmZmVyZW50IGZyb20gYG9sZFZhbHVlYC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgYXMgdGhlIGRlZmF1bHQgZm9yIGEgcHJvcGVydHkncyBgaGFzQ2hhbmdlZGAgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBub3RFcXVhbDogSGFzQ2hhbmdlZCA9ICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbiA9PlxuICAhaXModmFsdWUsIG9sZCk7XG5cbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICBhdHRyaWJ1dGU6IHRydWUsXG4gIHR5cGU6IFN0cmluZyxcbiAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICByZWZsZWN0OiBmYWxzZSxcbiAgdXNlRGVmYXVsdDogZmFsc2UsXG4gIGhhc0NoYW5nZWQ6IG5vdEVxdWFsLFxufTtcblxuLyoqXG4gKiBBIHN0cmluZyByZXByZXNlbnRpbmcgb25lIG9mIHRoZSBzdXBwb3J0ZWQgZGV2IG1vZGUgd2FybmluZyBjYXRlZ29yaWVzLlxuICovXG5leHBvcnQgdHlwZSBXYXJuaW5nS2luZCA9XG4gIHwgJ2NoYW5nZS1pbi11cGRhdGUnXG4gIHwgJ21pZ3JhdGlvbidcbiAgfCAnYXN5bmMtcGVyZm9ybS11cGRhdGUnO1xuXG5leHBvcnQgdHlwZSBJbml0aWFsaXplciA9IChlbGVtZW50OiBSZWFjdGl2ZUVsZW1lbnQpID0+IHZvaWQ7XG5cbi8vIFRlbXBvcmFyeSwgdW50aWwgZ29vZ2xlMyBpcyBvbiBUeXBlU2NyaXB0IDUuMlxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgU3ltYm9sQ29uc3RydWN0b3Ige1xuICAgIHJlYWRvbmx5IG1ldGFkYXRhOiB1bmlxdWUgc3ltYm9sO1xuICB9XG59XG5cbi8vIEVuc3VyZSBtZXRhZGF0YSBpcyBlbmFibGVkLiBUeXBlU2NyaXB0IGRvZXMgbm90IHBvbHlmaWxsXG4vLyBTeW1ib2wubWV0YWRhdGEsIHNvIHdlIG11c3QgZW5zdXJlIHRoYXQgaXQgZXhpc3RzLlxuKFN5bWJvbCBhcyB7bWV0YWRhdGE6IHN5bWJvbH0pLm1ldGFkYXRhID8/PSBTeW1ib2woJ21ldGFkYXRhJyk7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gVGhpcyBpcyBwdWJsaWMgZ2xvYmFsIEFQSSwgZG8gbm90IGNoYW5nZSFcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgbGl0UHJvcGVydHlNZXRhZGF0YTogV2Vha01hcDxcbiAgICBvYmplY3QsXG4gICAgTWFwPFByb3BlcnR5S2V5LCBQcm9wZXJ0eURlY2xhcmF0aW9uPlxuICA+O1xufVxuXG4vLyBNYXAgZnJvbSBhIGNsYXNzJ3MgbWV0YWRhdGEgb2JqZWN0IHRvIHByb3BlcnR5IG9wdGlvbnNcbi8vIE5vdGUgdGhhdCB3ZSBtdXN0IHVzZSBudWxsaXNoLWNvYWxlc2NpbmcgYXNzaWdubWVudCBzbyB0aGF0IHdlIG9ubHkgdXNlIG9uZVxuLy8gbWFwIGV2ZW4gaWYgd2UgbG9hZCBtdWx0aXBsZSB2ZXJzaW9uIG9mIHRoaXMgbW9kdWxlLlxuZ2xvYmFsLmxpdFByb3BlcnR5TWV0YWRhdGEgPz89IG5ldyBXZWFrTWFwPFxuICBvYmplY3QsXG4gIE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj5cbj4oKTtcblxuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VzIHRvIHJlbmRlciB1cGRhdGVzIGFzIGRlc2lyZWQuXG4gKiBAbm9Jbmhlcml0RG9jXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZWFjdGl2ZUVsZW1lbnRcbiAgLy8gSW4gdGhlIE5vZGUgYnVpbGQsIHRoaXMgYGV4dGVuZHNgIGNsYXVzZSB3aWxsIGJlIHN1YnN0aXR1dGVkIHdpdGhcbiAgLy8gYChnbG9iYWxUaGlzLkhUTUxFbGVtZW50ID8/IEhUTUxFbGVtZW50KWAuXG4gIC8vXG4gIC8vIFRoaXMgd2F5LCB3ZSB3aWxsIGZpcnN0IHByZWZlciBhbnkgZ2xvYmFsIGBIVE1MRWxlbWVudGAgcG9seWZpbGwgdGhhdCB0aGVcbiAgLy8gdXNlciBoYXMgYXNzaWduZWQsIGFuZCB0aGVuIGZhbGwgYmFjayB0byB0aGUgYEhUTUxFbGVtZW50YCBzaGltIHdoaWNoIGhhc1xuICAvLyBiZWVuIGltcG9ydGVkIChzZWUgbm90ZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZSBhYm91dCBob3cgdGhpcyBpbXBvcnQgaXNcbiAgLy8gZ2VuZXJhdGVkIGJ5IFJvbGx1cCkuIE5vdGUgdGhhdCB0aGUgYEhUTUxFbGVtZW50YCB2YXJpYWJsZSBoYXMgYmVlblxuICAvLyBzaGFkb3dlZCBieSB0aGlzIGltcG9ydCwgc28gaXQgbm8gbG9uZ2VyIHJlZmVycyB0byB0aGUgZ2xvYmFsLlxuICBleHRlbmRzIEhUTUxFbGVtZW50XG4gIGltcGxlbWVudHMgUmVhY3RpdmVDb250cm9sbGVySG9zdFxue1xuICAvLyBOb3RlOiB0aGVzZSBhcmUgcGF0Y2hlZCBpbiBvbmx5IGluIERFVl9NT0RFLlxuICAvKipcbiAgICogUmVhZCBvciBzZXQgYWxsIHRoZSBlbmFibGVkIHdhcm5pbmcgY2F0ZWdvcmllcyBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBvbmx5IHVzZWQgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVkV2FybmluZ3M/OiBXYXJuaW5nS2luZFtdO1xuXG4gIC8qKlxuICAgKiBFbmFibGUgdGhlIGdpdmVuIHdhcm5pbmcgY2F0ZWdvcnkgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG9ubHkgZXhpc3RzIGluIGRldmVsb3BtZW50IGJ1aWxkcywgc28gaXQgc2hvdWxkIGJlIGFjY2Vzc2VkXG4gICAqIHdpdGggYSBndWFyZCBsaWtlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiAvLyBFbmFibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRW5hYmxlIGZvciBvbmx5IE15RWxlbWVudCBhbmQgc3ViY2xhc3Nlc1xuICAgKiBNeUVsZW1lbnQuZW5hYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGVuYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRGlzYWJsZSBmb3IgYWxsIFJlYWN0aXZlRWxlbWVudCBzdWJjbGFzc2VzXG4gICAqIFJlYWN0aXZlRWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICpcbiAgICogLy8gRGlzYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmRpc2FibGVXYXJuaW5nPy4oJ21pZ3JhdGlvbicpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZGlzYWJsZVdhcm5pbmc/OiAod2FybmluZ0tpbmQ6IFdhcm5pbmdLaW5kKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGluaXRpYWxpemVyIGZ1bmN0aW9uIHRvIHRoZSBjbGFzcyB0aGF0IGlzIGNhbGxlZCBkdXJpbmcgaW5zdGFuY2VcbiAgICogY29uc3RydWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY29kZSB0aGF0IHJ1bnMgYWdhaW5zdCBhIGBSZWFjdGl2ZUVsZW1lbnRgXG4gICAqIHN1YmNsYXNzLCBzdWNoIGFzIGEgZGVjb3JhdG9yLCB0aGF0IG5lZWRzIHRvIGRvIHdvcmsgZm9yIGVhY2hcbiAgICogaW5zdGFuY2UsIHN1Y2ggYXMgc2V0dGluZyB1cCBhIGBSZWFjdGl2ZUNvbnRyb2xsZXJgLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjb25zdCBteURlY29yYXRvciA9ICh0YXJnZXQ6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsIGtleTogc3RyaW5nKSA9PiB7XG4gICAqICAgdGFyZ2V0LmFkZEluaXRpYWxpemVyKChpbnN0YW5jZTogUmVhY3RpdmVFbGVtZW50KSA9PiB7XG4gICAqICAgICAvLyBUaGlzIGlzIHJ1biBkdXJpbmcgY29uc3RydWN0aW9uIG9mIHRoZSBlbGVtZW50XG4gICAqICAgICBuZXcgTXlDb250cm9sbGVyKGluc3RhbmNlKTtcbiAgICogICB9KTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogRGVjb3JhdGluZyBhIGZpZWxkIHdpbGwgdGhlbiBjYXVzZSBlYWNoIGluc3RhbmNlIHRvIHJ1biBhbiBpbml0aWFsaXplclxuICAgKiB0aGF0IGFkZHMgYSBjb250cm9sbGVyOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBAbXlEZWNvcmF0b3IgZm9vO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBJbml0aWFsaXplcnMgYXJlIHN0b3JlZCBwZXItY29uc3RydWN0b3IuIEFkZGluZyBhbiBpbml0aWFsaXplciB0byBhXG4gICAqIHN1YmNsYXNzIGRvZXMgbm90IGFkZCBpdCB0byBhIHN1cGVyY2xhc3MuIFNpbmNlIGluaXRpYWxpemVycyBhcmUgcnVuIGluXG4gICAqIGNvbnN0cnVjdG9ycywgaW5pdGlhbGl6ZXJzIHdpbGwgcnVuIGluIG9yZGVyIG9mIHRoZSBjbGFzcyBoaWVyYXJjaHksXG4gICAqIHN0YXJ0aW5nIHdpdGggc3VwZXJjbGFzc2VzIGFuZCBwcm9ncmVzc2luZyB0byB0aGUgaW5zdGFuY2UncyBjbGFzcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHN0YXRpYyBhZGRJbml0aWFsaXplcihpbml0aWFsaXplcjogSW5pdGlhbGl6ZXIpIHtcbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgICh0aGlzLl9pbml0aWFsaXplcnMgPz89IFtdKS5wdXNoKGluaXRpYWxpemVyKTtcbiAgfVxuXG4gIHN0YXRpYyBfaW5pdGlhbGl6ZXJzPzogSW5pdGlhbGl6ZXJbXTtcblxuICAvKlxuICAgKiBEdWUgdG8gY2xvc3VyZSBjb21waWxlciBFUzYgY29tcGlsYXRpb24gYnVncywgQG5vY29sbGFwc2UgaXMgcmVxdWlyZWQgb25cbiAgICogYWxsIHN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIHdpdGggaW5pdGlhbGl6ZXJzLiAgUmVmZXJlbmNlOlxuICAgKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMTc3NlxuICAgKi9cblxuICAvKipcbiAgICogTWFwcyBhdHRyaWJ1dGUgbmFtZXMgdG8gcHJvcGVydGllczsgZm9yIGV4YW1wbGUgYGZvb2JhcmAgYXR0cmlidXRlIHRvXG4gICAqIGBmb29CYXJgIHByb3BlcnR5LiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZVxuICAgKiBjbGFzcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcDogQXR0cmlidXRlTWFwO1xuXG4gIC8qKlxuICAgKiBNYXJrcyBjbGFzcyBhcyBoYXZpbmcgYmVlbiBmaW5hbGl6ZWQsIHdoaWNoIGluY2x1ZGVzIGNyZWF0aW5nIHByb3BlcnRpZXNcbiAgICogZnJvbSBgc3RhdGljIHByb3BlcnRpZXNgLCBidXQgZG9lcyAqbm90KiBpbmNsdWRlIGFsbCBwcm9wZXJ0aWVzIGNyZWF0ZWRcbiAgICogZnJvbSBkZWNvcmF0b3JzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZWQ6IHRydWUgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIE1lbW9pemVkIGxpc3Qgb2YgYWxsIGVsZW1lbnQgcHJvcGVydGllcywgaW5jbHVkaW5nIGFueSBzdXBlcmNsYXNzXG4gICAqIHByb3BlcnRpZXMuIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIGVsZW1lbnRQcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwO1xuXG4gIC8qKlxuICAgKiBVc2VyLXN1cHBsaWVkIG9iamVjdCB0aGF0IG1hcHMgcHJvcGVydHkgbmFtZXMgdG8gYFByb3BlcnR5RGVjbGFyYXRpb25gXG4gICAqIG9iamVjdHMgY29udGFpbmluZyBvcHRpb25zIGZvciBjb25maWd1cmluZyByZWFjdGl2ZSBwcm9wZXJ0aWVzLiBXaGVuXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkgaXMgc2V0IHRoZSBlbGVtZW50IHdpbGwgdXBkYXRlIGFuZCByZW5kZXIuXG4gICAqXG4gICAqIEJ5IGRlZmF1bHQgcHJvcGVydGllcyBhcmUgcHVibGljIGZpZWxkcywgYW5kIGFzIHN1Y2gsIHRoZXkgc2hvdWxkIGJlXG4gICAqIGNvbnNpZGVyZWQgYXMgcHJpbWFyaWx5IHNldHRhYmxlIGJ5IGVsZW1lbnQgdXNlcnMsIGVpdGhlciB2aWEgYXR0cmlidXRlIG9yXG4gICAqIHRoZSBwcm9wZXJ0eSBpdHNlbGYuXG4gICAqXG4gICAqIEdlbmVyYWxseSwgcHJvcGVydGllcyB0aGF0IGFyZSBjaGFuZ2VkIGJ5IHRoZSBlbGVtZW50IHNob3VsZCBiZSBwcml2YXRlIG9yXG4gICAqIHByb3RlY3RlZCBmaWVsZHMgYW5kIHNob3VsZCB1c2UgdGhlIGBzdGF0ZTogdHJ1ZWAgb3B0aW9uLiBQcm9wZXJ0aWVzXG4gICAqIG1hcmtlZCBhcyBgc3RhdGVgIGRvIG5vdCByZWZsZWN0IGZyb20gdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAqXG4gICAqIEhvd2V2ZXIsIHNvbWV0aW1lcyBlbGVtZW50IGNvZGUgZG9lcyBuZWVkIHRvIHNldCBhIHB1YmxpYyBwcm9wZXJ0eS4gVGhpc1xuICAgKiBzaG91bGQgdHlwaWNhbGx5IG9ubHkgYmUgZG9uZSBpbiByZXNwb25zZSB0byB1c2VyIGludGVyYWN0aW9uLCBhbmQgYW4gZXZlbnRcbiAgICogc2hvdWxkIGJlIGZpcmVkIGluZm9ybWluZyB0aGUgdXNlcjsgZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggc2V0cyBpdHNcbiAgICogYGNoZWNrZWRgIHByb3BlcnR5IHdoZW4gY2xpY2tlZCBhbmQgZmlyZXMgYSBgY2hhbmdlZGAgZXZlbnQuIE11dGF0aW5nXG4gICAqIHB1YmxpYyBwcm9wZXJ0aWVzIHNob3VsZCB0eXBpY2FsbHkgbm90IGJlIGRvbmUgZm9yIG5vbi1wcmltaXRpdmUgKG9iamVjdCBvclxuICAgKiBhcnJheSkgcHJvcGVydGllcy4gSW4gb3RoZXIgY2FzZXMgd2hlbiBhbiBlbGVtZW50IG5lZWRzIHRvIG1hbmFnZSBzdGF0ZSwgYVxuICAgKiBwcml2YXRlIHByb3BlcnR5IHNldCB3aXRoIHRoZSBgc3RhdGU6IHRydWVgIG9wdGlvbiBzaG91bGQgYmUgdXNlZC4gV2hlblxuICAgKiBuZWVkZWQsIHN0YXRlIHByb3BlcnRpZXMgY2FuIGJlIGluaXRpYWxpemVkIHZpYSBwdWJsaWMgcHJvcGVydGllcyB0b1xuICAgKiBmYWNpbGl0YXRlIGNvbXBsZXggaW50ZXJhY3Rpb25zLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIHByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25zO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHN0eWxlcy5cbiAgICogQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGUgY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHN0YXRpYyBlbGVtZW50U3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT4gPSBbXTtcblxuICAvKipcbiAgICogQXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LiBUaGUgc3R5bGVzIHNob3VsZCBiZSBkZWZpbmVkXG4gICAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIGNzc30gdGFnIGZ1bmN0aW9uLCB2aWEgY29uc3RydWN0aWJsZSBzdHlsZXNoZWV0cywgb3JcbiAgICogaW1wb3J0ZWQgZnJvbSBuYXRpdmUgQ1NTIG1vZHVsZSBzY3JpcHRzLlxuICAgKlxuICAgKiBOb3RlIG9uIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5OlxuICAgKlxuICAgKiBFbGVtZW50IHN0eWxlcyBhcmUgaW1wbGVtZW50ZWQgd2l0aCBgPHN0eWxlPmAgdGFncyB3aGVuIHRoZSBicm93c2VyIGRvZXNuJ3RcbiAgICogc3VwcG9ydCBhZG9wdGVkIFN0eWxlU2hlZXRzLiBUbyB1c2Ugc3VjaCBgPHN0eWxlPmAgdGFncyB3aXRoIHRoZSBzdHlsZS1zcmNcbiAgICogQ1NQIGRpcmVjdGl2ZSwgdGhlIHN0eWxlLXNyYyB2YWx1ZSBtdXN0IGVpdGhlciBpbmNsdWRlICd1bnNhZmUtaW5saW5lJyBvclxuICAgKiBgbm9uY2UtPGJhc2U2NC12YWx1ZT5gIHdpdGggYDxiYXNlNjQtdmFsdWU+YCByZXBsYWNlZCBiZSBhIHNlcnZlci1nZW5lcmF0ZWRcbiAgICogbm9uY2UuXG4gICAqXG4gICAqIFRvIHByb3ZpZGUgYSBub25jZSB0byB1c2Ugb24gZ2VuZXJhdGVkIGA8c3R5bGU+YCBlbGVtZW50cywgc2V0XG4gICAqIGB3aW5kb3cubGl0Tm9uY2VgIHRvIGEgc2VydmVyLWdlbmVyYXRlZCBub25jZSBpbiB5b3VyIHBhZ2UncyBIVE1MLCBiZWZvcmVcbiAgICogbG9hZGluZyBhcHBsaWNhdGlvbiBjb2RlOlxuICAgKlxuICAgKiBgYGBodG1sXG4gICAqIDxzY3JpcHQ+XG4gICAqICAgLy8gR2VuZXJhdGVkIGFuZCB1bmlxdWUgcGVyIHJlcXVlc3Q6XG4gICAqICAgd2luZG93LmxpdE5vbmNlID0gJ2ExYjJjM2Q0JztcbiAgICogPC9zY3JpcHQ+XG4gICAqIGBgYFxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXA7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGF0dHJpYnV0ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgLy8gRW5zdXJlIHdlJ3ZlIGNyZWF0ZWQgYWxsIHByb3BlcnRpZXNcbiAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgLy8gdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgaXMgb25seSB1bmRlZmluZWQgYWZ0ZXIgZmluYWxpemUoKSBpblxuICAgIC8vIFJlYWN0aXZlRWxlbWVudCBpdHNlbGYuIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgaXMgb25seVxuICAgIC8vIGFjY2Vzc2VkIHdpdGggUmVhY3RpdmVFbGVtZW50IGFzIHRoZSByZWNlaXZlciB3aGVuIGEgc3ViY2xhc3Mgb3IgbWl4aW5cbiAgICAvLyBjYWxscyBzdXBlci5vYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgJiYgWy4uLnRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmtleXMoKV1cbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfX2luc3RhbmNlUHJvcGVydGllcz86IFByb3BlcnR5VmFsdWVzID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgcHJvcGVydHkgYWNjZXNzb3Igb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlIGlmIG9uZSBkb2VzIG5vdCBleGlzdFxuICAgKiBhbmQgc3RvcmVzIGEge0BsaW5rY29kZSBQcm9wZXJ0eURlY2xhcmF0aW9ufSBmb3IgdGhlIHByb3BlcnR5IHdpdGggdGhlXG4gICAqIGdpdmVuIG9wdGlvbnMuIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgXG4gICAqIHByb3BlcnR5IG9wdGlvbiBvciB1c2VzIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrIHRvIGRldGVybWluZSB3aGV0aGVyIG9yIG5vdFxuICAgKiB0byByZXF1ZXN0IGFuIHVwZGF0ZS5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgbWF5IGJlIG92ZXJyaWRkZW4gdG8gY3VzdG9taXplIHByb3BlcnRpZXM7IGhvd2V2ZXIsXG4gICAqIHdoZW4gZG9pbmcgc28sIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHN1cGVyLmNyZWF0ZVByb3BlcnR5YCB0byBlbnN1cmVcbiAgICogdGhlIHByb3BlcnR5IGlzIHNldHVwIGNvcnJlY3RseS4gVGhpcyBtZXRob2QgY2FsbHNcbiAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAgaW50ZXJuYWxseSB0byBnZXQgYSBkZXNjcmlwdG9yIHRvIGluc3RhbGwuXG4gICAqIFRvIGN1c3RvbWl6ZSB3aGF0IHByb3BlcnRpZXMgZG8gd2hlbiB0aGV5IGFyZSBnZXQgb3Igc2V0LCBvdmVycmlkZVxuICAgKiBgZ2V0UHJvcGVydHlEZXNjcmlwdG9yYC4gVG8gY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIHByb3BlcnR5LFxuICAgKiBpbXBsZW1lbnQgYGNyZWF0ZVByb3BlcnR5YCBsaWtlIHRoaXM6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAqICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24ob3B0aW9ucywge215T3B0aW9uOiB0cnVlfSk7XG4gICAqICAgc3VwZXIuY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgY3JlYXRlUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvbiA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICkge1xuICAgIC8vIElmIHRoaXMgaXMgYSBzdGF0ZSBwcm9wZXJ0eSwgZm9yY2UgdGhlIGF0dHJpYnV0ZSB0byBmYWxzZS5cbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xuICAgICAgKG9wdGlvbnMgYXMgTXV0YWJsZTxQcm9wZXJ0eURlY2xhcmF0aW9uLCAnYXR0cmlidXRlJz4pLmF0dHJpYnV0ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl9fcHJlcGFyZSgpO1xuICAgIC8vIFdoZXRoZXIgdGhpcyBwcm9wZXJ0eSBpcyB3cmFwcGluZyBhY2Nlc3NvcnMuXG4gICAgLy8gSGVscHMgY29udHJvbCB0aGUgaW5pdGlhbCB2YWx1ZSBjaGFuZ2UgYW5kIHJlZmxlY3Rpb24gbG9naWMuXG4gICAgaWYgKHRoaXMucHJvdG90eXBlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvcHRpb25zID0gT2JqZWN0LmNyZWF0ZShvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMud3JhcHBlZCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5ub0FjY2Vzc29yKSB7XG4gICAgICBjb25zdCBrZXkgPSBERVZfTU9ERVxuICAgICAgICA/IC8vIFVzZSBTeW1ib2wuZm9yIGluIGRldiBtb2RlIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIHN0YXRlXG4gICAgICAgICAgLy8gd2hlbiBkb2luZyBITVIuXG4gICAgICAgICAgU3ltYm9sLmZvcihgJHtTdHJpbmcobmFtZSl9IChAcHJvcGVydHkoKSBjYWNoZSlgKVxuICAgICAgICA6IFN5bWJvbCgpO1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHRoaXMuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucyk7XG4gICAgICBpZiAoZGVzY3JpcHRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb3BlcnR5IGRlc2NyaXB0b3IgdG8gYmUgZGVmaW5lZCBvbiB0aGUgZ2l2ZW4gbmFtZWQgcHJvcGVydHkuXG4gICAqIElmIG5vIGRlc2NyaXB0b3IgaXMgcmV0dXJuZWQsIHRoZSBwcm9wZXJ0eSB3aWxsIG5vdCBiZWNvbWUgYW4gYWNjZXNzb3IuXG4gICAqIEZvciBleGFtcGxlLFxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBzdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKG5hbWUsIGtleSwgb3B0aW9ucykge1xuICAgKiAgICAgY29uc3QgZGVmYXVsdERlc2NyaXB0b3IgPVxuICAgKiAgICAgICAgIHN1cGVyLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgKiAgICAgY29uc3Qgc2V0dGVyID0gZGVmYXVsdERlc2NyaXB0b3Iuc2V0O1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgZ2V0OiBkZWZhdWx0RGVzY3JpcHRvci5nZXQsXG4gICAqICAgICAgIHNldCh2YWx1ZSkge1xuICAgKiAgICAgICAgIHNldHRlci5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICogICAgICAgICAvLyBjdXN0b20gYWN0aW9uLlxuICAgKiAgICAgICB9LFxuICAgKiAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAqICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICogICAgIH1cbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBrZXk6IHN0cmluZyB8IHN5bWJvbCxcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICk6IFByb3BlcnR5RGVzY3JpcHRvciB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qge2dldCwgc2V0fSA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge1xuICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpc1trZXkgYXMga2V5b2YgdHlwZW9mIHRoaXNdO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHY6IHVua25vd24pIHtcbiAgICAgICAgKHRoaXMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCB1bmtub3duPilba2V5XSA9IHY7XG4gICAgICB9LFxuICAgIH07XG4gICAgaWYgKERFVl9NT0RFICYmIGdldCA9PSBudWxsKSB7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiAoZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRoaXMucHJvdG90eXBlLCBuYW1lKSA/PyB7fSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgICAgYCR7dGhpcy5uYW1lfSB3YXMgZGVjbGFyZWQgYXMgYSByZWFjdGl2ZSBwcm9wZXJ0eSBgICtcbiAgICAgICAgICAgIGBidXQgaXQncyBhY3R1YWxseSBkZWNsYXJlZCBhcyBhIHZhbHVlIG9uIHRoZSBwcm90b3R5cGUuIGAgK1xuICAgICAgICAgICAgYFVzdWFsbHkgdGhpcyBpcyBkdWUgdG8gdXNpbmcgQHByb3BlcnR5IG9yIEBzdGF0ZSBvbiBhIG1ldGhvZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdyZWFjdGl2ZS1wcm9wZXJ0eS13aXRob3V0LWdldHRlcicsXG4gICAgICAgIGBGaWVsZCAke0pTT04uc3RyaW5naWZ5KFN0cmluZyhuYW1lKSl9IG9uIGAgK1xuICAgICAgICAgIGAke3RoaXMubmFtZX0gd2FzIGRlY2xhcmVkIGFzIGEgcmVhY3RpdmUgcHJvcGVydHkgYCArXG4gICAgICAgICAgYGJ1dCBpdCBkb2VzIG5vdCBoYXZlIGEgZ2V0dGVyLiBUaGlzIHdpbGwgYmUgYW4gZXJyb3IgaW4gYSBgICtcbiAgICAgICAgICBgZnV0dXJlIHZlcnNpb24gb2YgTGl0LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBnZXQsXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2YWx1ZTogdW5rbm93bikge1xuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldD8uY2FsbCh0aGlzKTtcbiAgICAgICAgc2V0Py5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgKiBUaGVzZSBvcHRpb25zIGFyZSBkZWZpbmVkIHdpdGggYSBgUHJvcGVydHlEZWNsYXJhdGlvbmAgdmlhIHRoZSBgcHJvcGVydGllc2BcbiAgICogb2JqZWN0IG9yIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgYW5kIGFyZSByZWdpc3RlcmVkIGluXG4gICAqIGBjcmVhdGVQcm9wZXJ0eSguLi4pYC5cbiAgICpcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgXCJmaW5hbFwiIGFuZCBub3Qgb3ZlcnJpZGRlbi4gVG9cbiAgICogY3VzdG9taXplIHRoZSBvcHRpb25zIGZvciBhIGdpdmVuIHByb3BlcnR5LCBvdmVycmlkZVxuICAgKiB7QGxpbmtjb2RlIGNyZWF0ZVByb3BlcnR5fS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGZpbmFsXG4gICAqIEBjYXRlZ29yeSBwcm9wZXJ0aWVzXG4gICAqL1xuICBzdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKG5hbWU6IFByb3BlcnR5S2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuZ2V0KG5hbWUpID8/IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uO1xuICB9XG5cbiAgLy8gVGVtcG9yYXJ5LCB1bnRpbCBnb29nbGUzIGlzIG9uIFR5cGVTY3JpcHQgNS4yXG4gIGRlY2xhcmUgc3RhdGljIFtTeW1ib2wubWV0YWRhdGFdOiBvYmplY3QgJiBSZWNvcmQ8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBzdGF0aWMgb3duIHByb3BlcnRpZXMgb2YgdGhlIGNsYXNzIHVzZWQgaW4gYm9va2tlZXBpbmdcbiAgICogZm9yIGVsZW1lbnQgcHJvcGVydGllcywgaW5pdGlhbGl6ZXJzLCBldGMuXG4gICAqXG4gICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgYnkgY29kZSB0aGF0IG5lZWRzIHRvIGVuc3VyZSB0aGVzZVxuICAgKiBwcm9wZXJ0aWVzIGV4aXN0IGJlZm9yZSB1c2luZyB0aGVtLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBzdXBlcmNsYXNzIGlzIGZpbmFsaXplZCBzbyB0aGF0IGluaGVyaXRlZFxuICAgKiBwcm9wZXJ0eSBtZXRhZGF0YSBjYW4gYmUgY29waWVkIGRvd24uXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX3ByZXBhcmUoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIHRoaXMpKVxuICAgICkge1xuICAgICAgLy8gQWxyZWFkeSBwcmVwYXJlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBGaW5hbGl6ZSBhbnkgc3VwZXJjbGFzc2VzXG4gICAgY29uc3Qgc3VwZXJDdG9yID0gZ2V0UHJvdG90eXBlT2YodGhpcykgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudDtcbiAgICBzdXBlckN0b3IuZmluYWxpemUoKTtcblxuICAgIC8vIENyZWF0ZSBvd24gc2V0IG9mIGluaXRpYWxpemVycyBmb3IgdGhpcyBjbGFzcyBpZiBhbnkgZXhpc3Qgb24gdGhlXG4gICAgLy8gc3VwZXJjbGFzcyBhbmQgY29weSB0aGVtIGRvd24uIE5vdGUsIGZvciBhIHNtYWxsIHBlcmYgYm9vc3QsIGF2b2lkXG4gICAgLy8gY3JlYXRpbmcgaW5pdGlhbGl6ZXJzIHVubGVzcyBuZWVkZWQuXG4gICAgaWYgKHN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVycyA9IFsuLi5zdXBlckN0b3IuX2luaXRpYWxpemVyc107XG4gICAgfVxuICAgIC8vIEluaXRpYWxpemUgZWxlbWVudFByb3BlcnRpZXMgZnJvbSB0aGUgc3VwZXJjbGFzc1xuICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMgPSBuZXcgTWFwKHN1cGVyQ3Rvci5lbGVtZW50UHJvcGVydGllcyk7XG4gIH1cblxuICAvKipcbiAgICogRmluaXNoZXMgc2V0dGluZyB1cCB0aGUgY2xhc3Mgc28gdGhhdCBpdCdzIHJlYWR5IHRvIGJlIHJlZ2lzdGVyZWRcbiAgICogYXMgYSBjdXN0b20gZWxlbWVudCBhbmQgaW5zdGFudGlhdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgdGhlIFJlYWN0aXZlRWxlbWVudC5vYnNlcnZlZEF0dHJpYnV0ZXMgZ2V0dGVyLlxuICAgKiBJZiB5b3Ugb3ZlcnJpZGUgdGhlIG9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIsIHlvdSBtdXN0IGVpdGhlciBjYWxsXG4gICAqIHN1cGVyLm9ic2VydmVkQXR0cmlidXRlcyB0byB0cmlnZ2VyIGZpbmFsaXphdGlvbiwgb3IgY2FsbCBmaW5hbGl6ZSgpXG4gICAqIHlvdXJzZWxmLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBmaW5hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICAgIHRoaXMuX19wcmVwYXJlKCk7XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHRoZSBzdGF0aWMgcHJvcGVydGllcyBibG9jazpcbiAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdwcm9wZXJ0aWVzJywgdGhpcykpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IHRoaXMucHJvcGVydGllcztcbiAgICAgIGNvbnN0IHByb3BLZXlzID0gW1xuICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKSxcbiAgICAgICAgLi4uZ2V0T3duUHJvcGVydHlTeW1ib2xzKHByb3BzKSxcbiAgICAgIF0gYXMgQXJyYXk8a2V5b2YgdHlwZW9mIHByb3BzPjtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBwcm9wS2V5cykge1xuICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnR5KHAsIHByb3BzW3BdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcHJvcGVydGllcyBmcm9tIHN0YW5kYXJkIGRlY29yYXRvciBtZXRhZGF0YTpcbiAgICBjb25zdCBtZXRhZGF0YSA9IHRoaXNbU3ltYm9sLm1ldGFkYXRhXTtcbiAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBsaXRQcm9wZXJ0eU1ldGFkYXRhLmdldChtZXRhZGF0YSk7XG4gICAgICBpZiAocHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChwLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgYXR0cmlidXRlLXRvLXByb3BlcnR5IG1hcFxuICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgW3AsIG9wdGlvbnNdIG9mIHRoaXMuZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSB0aGlzLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHAsIG9wdGlvbnMpO1xuICAgICAgaWYgKGF0dHIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5zZXQoYXR0ciwgcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50U3R5bGVzID0gdGhpcy5maW5hbGl6ZVN0eWxlcyh0aGlzLnN0eWxlcyk7XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdjcmVhdGVQcm9wZXJ0eScpKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnbm8tb3ZlcnJpZGUtY3JlYXRlLXByb3BlcnR5JyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuY3JlYXRlUHJvcGVydHkoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KCdnZXRQcm9wZXJ0eURlc2NyaXB0b3InKSkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ25vLW92ZXJyaWRlLWdldC1wcm9wZXJ0eS1kZXNjcmlwdG9yJyxcbiAgICAgICAgICAnT3ZlcnJpZGluZyBSZWFjdGl2ZUVsZW1lbnQuZ2V0UHJvcGVydHlEZXNjcmlwdG9yKCkgaXMgZGVwcmVjYXRlZC4gJyArXG4gICAgICAgICAgICAnVGhlIG92ZXJyaWRlIHdpbGwgbm90IGJlIGNhbGxlZCB3aXRoIHN0YW5kYXJkIGRlY29yYXRvcnMnXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgdXNlZCB3aGVuIGNhbGxpbmcgYGF0dGFjaFNoYWRvd2AuIFNldCB0aGlzIHByb3BlcnR5IHRvIGN1c3RvbWl6ZVxuICAgKiB0aGUgb3B0aW9ucyBmb3IgdGhlIHNoYWRvd1Jvb3Q7IGZvciBleGFtcGxlLCB0byBjcmVhdGUgYSBjbG9zZWRcbiAgICogc2hhZG93Um9vdDogYHttb2RlOiAnY2xvc2VkJ31gLlxuICAgKlxuICAgKiBOb3RlLCB0aGVzZSBvcHRpb25zIGFyZSB1c2VkIGluIGBjcmVhdGVSZW5kZXJSb290YC4gSWYgdGhpcyBtZXRob2RcbiAgICogaXMgY3VzdG9taXplZCwgb3B0aW9ucyBzaG91bGQgYmUgcmVzcGVjdGVkIGlmIHBvc3NpYmxlLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBzdGF0aWMgc2hhZG93Um9vdE9wdGlvbnM6IFNoYWRvd1Jvb3RJbml0ID0ge21vZGU6ICdvcGVuJ307XG5cbiAgLyoqXG4gICAqIFRha2VzIHRoZSBzdHlsZXMgdGhlIHVzZXIgc3VwcGxpZWQgdmlhIHRoZSBgc3RhdGljIHN0eWxlc2AgcHJvcGVydHkgYW5kXG4gICAqIHJldHVybnMgdGhlIGFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC5cbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gaW50ZWdyYXRlIGludG8gYSBzdHlsZSBtYW5hZ2VtZW50IHN5c3RlbS5cbiAgICpcbiAgICogU3R5bGVzIGFyZSBkZWR1cGxpY2F0ZWQgcHJlc2VydmluZyB0aGUgX2xhc3RfIGluc3RhbmNlIGluIHRoZSBsaXN0LiBUaGlzXG4gICAqIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIHRvIGF2b2lkIGR1cGxpY2F0ZWQgc3R5bGVzIHRoYXQgY2FuIG9jY3VyXG4gICAqIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLiBUaGUgbGFzdCBpdGVtIGlzIGtlcHQgdG8gdHJ5XG4gICAqIHRvIHByZXNlcnZlIHRoZSBjYXNjYWRlIG9yZGVyIHdpdGggdGhlIGFzc3VtcHRpb24gdGhhdCBpdCdzIG1vc3QgaW1wb3J0YW50XG4gICAqIHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplU3R5bGVzKFxuICAgIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwXG4gICk6IEFycmF5PENTU1Jlc3VsdE9yTmF0aXZlPiB7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlcyA9IFtdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0eWxlcykpIHtcbiAgICAgIC8vIERlZHVwZSB0aGUgZmxhdHRlbmVkIGFycmF5IGluIHJldmVyc2Ugb3JkZXIgdG8gcHJlc2VydmUgdGhlIGxhc3QgaXRlbXMuXG4gICAgICAvLyBDYXN0aW5nIHRvIEFycmF5PHVua25vd24+IHdvcmtzIGFyb3VuZCBUUyBlcnJvciB0aGF0XG4gICAgICAvLyBhcHBlYXJzIHRvIGNvbWUgZnJvbSB0cnlpbmcgdG8gZmxhdHRlbiBhIHR5cGUgQ1NTUmVzdWx0QXJyYXkuXG4gICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KChzdHlsZXMgYXMgQXJyYXk8dW5rbm93bj4pLmZsYXQoSW5maW5pdHkpLnJldmVyc2UoKSk7XG4gICAgICAvLyBUaGVuIHByZXNlcnZlIG9yaWdpbmFsIG9yZGVyIGJ5IGFkZGluZyB0aGUgc2V0IGl0ZW1zIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICBmb3IgKGNvbnN0IHMgb2Ygc2V0KSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZXMudW5zaGlmdChnZXRDb21wYXRpYmxlU3R5bGUocyBhcyBDU1NSZXN1bHRPck5hdGl2ZSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3R5bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVsZW1lbnRTdHlsZXMucHVzaChnZXRDb21wYXRpYmxlU3R5bGUoc3R5bGVzKSk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50U3R5bGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vZGUgb3IgU2hhZG93Um9vdCBpbnRvIHdoaWNoIGVsZW1lbnQgRE9NIHNob3VsZCBiZSByZW5kZXJlZC4gRGVmYXVsdHNcbiAgICogdG8gYW4gb3BlbiBzaGFkb3dSb290LlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJSb290ITogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGBuYW1lYC5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb25cbiAgKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gb3B0aW9ucy5hdHRyaWJ1dGU7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZSA9PT0gZmFsc2VcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gYXR0cmlidXRlXG4gICAgICAgIDogdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgdG8gYW4gdW5yZXNvbHZlZCBQcm9taXNlIHNvIHdlIGNhbiBtYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzXG4gIC8vIGNvbm5lY3RlZCBiZWZvcmUgZmlyc3QgdXBkYXRlLlxuICBwcml2YXRlIF9fdXBkYXRlUHJvbWlzZSE6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIHVwZGF0ZSBhcyBhIHJlc3VsdCBvZiBjYWxsaW5nIGByZXF1ZXN0VXBkYXRlKClgLlxuICAgKiBTaG91bGQgb25seSBiZSByZWFkLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIElzIHNldCB0byBgdHJ1ZWAgYWZ0ZXIgdGhlIGZpcnN0IHVwZGF0ZS4gVGhlIGVsZW1lbnQgY29kZSBjYW5ub3QgYXNzdW1lXG4gICAqIHRoYXQgYHJlbmRlclJvb3RgIGV4aXN0cyBiZWZvcmUgdGhlIGVsZW1lbnQgYGhhc1VwZGF0ZWRgLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgaGFzVXBkYXRlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBNYXAgd2l0aCBrZXlzIGZvciBhbnkgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgKiB1cGRhdGUgY3ljbGUgd2l0aCBwcmV2aW91cyB2YWx1ZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjaGFuZ2VkUHJvcGVydGllcyE6IFByb3BlcnR5VmFsdWVzO1xuXG4gIC8qKlxuICAgKiBSZWNvcmRzIHByb3BlcnR5IGRlZmF1bHQgdmFsdWVzIHdoZW4gdGhlXG4gICAqIGB1c2VEZWZhdWx0YCBvcHRpb24gaXMgdXNlZC5cbiAgICovXG4gIHByaXZhdGUgX19kZWZhdWx0VmFsdWVzPzogTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcblxuICAvKipcbiAgICogUHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSByZWZsZWN0ZWQgd2hlbiB1cGRhdGVkLlxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzPzogU2V0PFByb3BlcnR5S2V5PjtcblxuICAvKipcbiAgICogTmFtZSBvZiBjdXJyZW50bHkgcmVmbGVjdGluZyBwcm9wZXJ0eVxuICAgKi9cbiAgcHJpdmF0ZSBfX3JlZmxlY3RpbmdQcm9wZXJ0eTogUHJvcGVydHlLZXkgfCBudWxsID0gbnVsbDtcblxuICAvKipcbiAgICogU2V0IG9mIGNvbnRyb2xsZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSBfX2NvbnRyb2xsZXJzPzogU2V0PFJlYWN0aXZlQ29udHJvbGxlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9faW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVybmFsIG9ubHkgb3ZlcnJpZGUgcG9pbnQgZm9yIGN1c3RvbWl6aW5nIHdvcmsgZG9uZSB3aGVuIGVsZW1lbnRzXG4gICAqIGFyZSBjb25zdHJ1Y3RlZC5cbiAgICovXG4gIHByaXZhdGUgX19pbml0aWFsaXplKCkge1xuICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oXG4gICAgICAocmVzKSA9PiAodGhpcy5lbmFibGVVcGRhdGluZyA9IHJlcylcbiAgICApO1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAvLyBUaGlzIGVucXVldWVzIGEgbWljcm90YXNrIHRoYXQgbXVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gbmV3IFNldCgpKS5hZGQoY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5kZWxldGUoY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy5cbiAgICovXG4gIHByaXZhdGUgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+KCk7XG4gICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkgYXMgSXRlcmFibGVJdGVyYXRvcjxrZXlvZiB0aGlzPikge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKlxuICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGNvbnRyb2xsZXJzIGBob3N0Q29ubmVjdGVkYFxuICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFtyZXNwb25kaW5nIHRvIGF0dHJpYnV0ZSBjaGFuZ2VzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViX2NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3Jlc3BvbmRpbmdfdG9fYXR0cmlidXRlX2NoYW5nZXMpXG4gICAqIG9uIE1ETiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuXG4gICAqIEBjYXRlZ29yeSBhdHRyaWJ1dGVzXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIF9vbGQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSB7XG4gICAgdGhpcy5fJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBfX3Byb3BlcnR5VG9BdHRyaWJ1dGUobmFtZTogUHJvcGVydHlLZXksIHZhbHVlOiB1bmtub3duKSB7XG4gICAgY29uc3QgZWxlbVByb3BlcnRpZXM6IFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBlbGVtUHJvcGVydGllcy5nZXQobmFtZSkhO1xuICAgIGNvbnN0IGF0dHIgPSAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnRcbiAgICApLl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPVxuICAgICAgICAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcik/LnRvQXR0cmlidXRlICE9PVxuICAgICAgICB1bmRlZmluZWRcbiAgICAgICAgICA/IChvcHRpb25zLmNvbnZlcnRlciBhcyBDb21wbGV4QXR0cmlidXRlQ29udmVydGVyKVxuICAgICAgICAgIDogZGVmYXVsdENvbnZlcnRlcjtcbiAgICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGNvbnZlcnRlci50b0F0dHJpYnV0ZSEodmFsdWUsIG9wdGlvbnMudHlwZSk7XG4gICAgICBpZiAoXG4gICAgICAgIERFVl9NT0RFICYmXG4gICAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICAgJ21pZ3JhdGlvbidcbiAgICAgICAgKSAmJlxuICAgICAgICBhdHRyVmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAndW5kZWZpbmVkLWF0dHJpYnV0ZS12YWx1ZScsXG4gICAgICAgICAgYFRoZSBhdHRyaWJ1dGUgdmFsdWUgZm9yIHRoZSAke25hbWUgYXMgc3RyaW5nfSBwcm9wZXJ0eSBpcyBgICtcbiAgICAgICAgICAgIGB1bmRlZmluZWQgb24gZWxlbWVudCAke3RoaXMubG9jYWxOYW1lfS4gVGhlIGF0dHJpYnV0ZSB3aWxsIGJlIGAgK1xuICAgICAgICAgICAgYHJlbW92ZWQsIGJ1dCBpbiB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiBcXGBSZWFjdGl2ZUVsZW1lbnRcXGAsIGAgK1xuICAgICAgICAgICAgYHRoZSBhdHRyaWJ1dGUgd291bGQgbm90IGhhdmUgY2hhbmdlZC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBUcmFjayBpZiB0aGUgcHJvcGVydHkgaXMgYmVpbmcgcmVmbGVjdGVkIHRvIGF2b2lkXG4gICAgICAvLyBzZXR0aW5nIHRoZSBwcm9wZXJ0eSBhZ2FpbiB2aWEgYGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja2AuIE5vdGU6XG4gICAgICAvLyAxLiB0aGlzIHRha2VzIGFkdmFudGFnZSBvZiB0aGUgZmFjdCB0aGF0IHRoZSBjYWxsYmFjayBpcyBzeW5jaHJvbm91cy5cbiAgICAgIC8vIDIuIHdpbGwgYmVoYXZlIGluY29ycmVjdGx5IGlmIG11bHRpcGxlIGF0dHJpYnV0ZXMgYXJlIGluIHRoZSByZWFjdGlvblxuICAgICAgLy8gc3RhY2sgYXQgdGltZSBvZiBjYWxsaW5nLiBIb3dldmVyLCBzaW5jZSB3ZSBwcm9jZXNzIGF0dHJpYnV0ZXNcbiAgICAgIC8vIGluIGB1cGRhdGVgIHRoaXMgc2hvdWxkIG5vdCBiZSBwb3NzaWJsZSAob3IgYW4gZXh0cmVtZSBjb3JuZXIgY2FzZVxuICAgICAgLy8gdGhhdCB3ZSdkIGxpa2UgdG8gZGlzY292ZXIpLlxuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbmFtZTtcbiAgICAgIGlmIChhdHRyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJWYWx1ZSBhcyBzdHJpbmcpO1xuICAgICAgfVxuICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQ7XG4gICAgLy8gTm90ZSwgaGludCB0aGlzIGFzIGFuIGBBdHRyaWJ1dGVNYXBgIHNvIGNsb3N1cmUgY2xlYXJseSB1bmRlcnN0YW5kc1xuICAgIC8vIHRoZSB0eXBlOyBpdCBoYXMgaXNzdWVzIHdpdGggdHJhY2tpbmcgdHlwZXMgdGhyb3VnaCBzdGF0aWNzXG4gICAgY29uc3QgcHJvcE5hbWUgPSAoY3Rvci5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgYXMgQXR0cmlidXRlTWFwKS5nZXQobmFtZSk7XG4gICAgLy8gVXNlIHRyYWNraW5nIGluZm8gdG8gYXZvaWQgcmVmbGVjdGluZyBhIHByb3BlcnR5IHZhbHVlIHRvIGFuIGF0dHJpYnV0ZVxuICAgIC8vIGlmIGl0IHdhcyBqdXN0IHNldCBiZWNhdXNlIHRoZSBhdHRyaWJ1dGUgY2hhbmdlZC5cbiAgICBpZiAocHJvcE5hbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ICE9PSBwcm9wTmFtZSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHByb3BOYW1lKTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlciA9XG4gICAgICAgIHR5cGVvZiBvcHRpb25zLmNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8ge2Zyb21BdHRyaWJ1dGU6IG9wdGlvbnMuY29udmVydGVyfVxuICAgICAgICAgIDogb3B0aW9ucy5jb252ZXJ0ZXI/LmZyb21BdHRyaWJ1dGUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLmNvbnZlcnRlclxuICAgICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID1cbiAgICAgICAgY29udmVydGVyLmZyb21BdHRyaWJ1dGUhKHZhbHVlLCBvcHRpb25zLnR5cGUpID8/XG4gICAgICAgIHRoaXMuX19kZWZhdWx0VmFsdWVzPy5nZXQocHJvcE5hbWUpID8/XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIChudWxsIGFzIGFueSk7XG4gICAgICAvLyBtYXJrIHN0YXRlIG5vdCByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdHMgYW4gdXBkYXRlIHdoaWNoIGlzIHByb2Nlc3NlZCBhc3luY2hyb25vdXNseS4gVGhpcyBzaG91bGQgYmUgY2FsbGVkXG4gICAqIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZCBieSBzZXR0aW5nXG4gICAqIGEgcmVhY3RpdmUgcHJvcGVydHkuIEluIHRoaXMgY2FzZSwgcGFzcyBubyBhcmd1bWVudHMuIEl0IHNob3VsZCBhbHNvIGJlXG4gICAqIGNhbGxlZCB3aGVuIG1hbnVhbGx5IGltcGxlbWVudGluZyBhIHByb3BlcnR5IHNldHRlci4gSW4gdGhpcyBjYXNlLCBwYXNzIHRoZVxuICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICogb3B0aW9ucyBhcmUgaG9ub3JlZC5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgbmFtZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvbGRWYWx1ZSBvbGQgdmFsdWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gb3B0aW9ucyBwcm9wZXJ0eSBvcHRpb25zIHRvIHVzZSBpbnN0ZWFkIG9mIHRoZSBwcmV2aW91c2x5XG4gICAqICAgICBjb25maWd1cmVkIG9wdGlvbnNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHJlcXVlc3RVcGRhdGUoXG4gICAgbmFtZT86IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlPzogdW5rbm93bixcbiAgICBvcHRpb25zPzogUHJvcGVydHlEZWNsYXJhdGlvblxuICApOiB2b2lkIHtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgcHJvcGVydHkga2V5LCBwZXJmb3JtIHByb3BlcnR5IHVwZGF0ZSBzdGVwcy5cbiAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoREVWX01PREUgJiYgKG5hbWUgYXMgdW5rbm93bikgaW5zdGFuY2VvZiBFdmVudCkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgYGAsXG4gICAgICAgICAgYFRoZSByZXF1ZXN0VXBkYXRlKCkgbWV0aG9kIHdhcyBjYWxsZWQgd2l0aCBhbiBFdmVudCBhcyB0aGUgcHJvcGVydHkgbmFtZS4gVGhpcyBpcyBwcm9iYWJseSBhIG1pc3Rha2UgY2F1c2VkIGJ5IGJpbmRpbmcgdGhpcy5yZXF1ZXN0VXBkYXRlIGFzIGFuIGV2ZW50IGxpc3RlbmVyLiBJbnN0ZWFkIGJpbmQgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2FsbCBpdCB3aXRoIG5vIGFyZ3VtZW50czogKCkgPT4gdGhpcy5yZXF1ZXN0VXBkYXRlKClgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSB0aGlzW25hbWUgYXMga2V5b2YgdGhpc107XG4gICAgICBvcHRpb25zID8/PSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGNoYW5nZWQgPVxuICAgICAgICAob3B0aW9ucy5oYXNDaGFuZ2VkID8/IG5vdEVxdWFsKShuZXdWYWx1ZSwgb2xkVmFsdWUpIHx8XG4gICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gY2hhbmdlLCBjaGVjayBhIGNvcm5lciBjYXNlIHRoYXQgY2FuIG9jY3VyIHdoZW5cbiAgICAgICAgLy8gMS4gdGhlcmUncyBhIGluaXRpYWwgdmFsdWUgd2hpY2ggd2FzIG5vdCByZWZsZWN0ZWRcbiAgICAgICAgLy8gMi4gdGhlIHByb3BlcnR5IGlzIHN1YnNlcXVlbnRseSBzZXQgdG8gdGhpcyB2YWx1ZS5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGBwcm9wOiB7dXNlRGVmYXVsdDogdHJ1ZSwgcmVmbGVjdDogdHJ1ZX1gXG4gICAgICAgIC8vIGFuZCBlbC5wcm9wID0gJ2ZvbycuIFRoaXMgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBjaGFuZ2UgaWYgdGhlXG4gICAgICAgIC8vIGF0dHJpYnV0ZSBpcyBub3Qgc2V0IGJlY2F1c2Ugd2Ugd2lsbCBub3cgcmVmbGVjdCB0aGUgcHJvcGVydHkgdG8gdGhlIGF0dHJpYnV0ZS5cbiAgICAgICAgKG9wdGlvbnMudXNlRGVmYXVsdCAmJlxuICAgICAgICAgIG9wdGlvbnMucmVmbGVjdCAmJlxuICAgICAgICAgIG5ld1ZhbHVlID09PSB0aGlzLl9fZGVmYXVsdFZhbHVlcz8uZ2V0KG5hbWUpICYmXG4gICAgICAgICAgIXRoaXMuaGFzQXR0cmlidXRlKGN0b3IuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkobmFtZSwgb3B0aW9ucykhKSk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWJvcnQgdGhlIHJlcXVlc3QgaWYgdGhlIHByb3BlcnR5IHNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBjaGFuZ2VkLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmlzVXBkYXRlUGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuX191cGRhdGVQcm9taXNlID0gdGhpcy5fX2VucXVldWVVcGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNoYW5nZVByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9sZFZhbHVlOiB1bmtub3duLFxuICAgIHt1c2VEZWZhdWx0LCByZWZsZWN0LCB3cmFwcGVkfTogUHJvcGVydHlEZWNsYXJhdGlvbixcbiAgICBpbml0aWFsaXplVmFsdWU/OiB1bmtub3duXG4gICkge1xuICAgIC8vIFJlY29yZCBkZWZhdWx0IHZhbHVlIHdoZW4gdXNlRGVmYXVsdCBpcyB1c2VkLiBUaGlzIGFsbG93cyB1cyB0b1xuICAgIC8vIHJlc3RvcmUgdGhpcyB2YWx1ZSB3aGVuIHRoZSBhdHRyaWJ1dGUgaXMgcmVtb3ZlZC5cbiAgICBpZiAodXNlRGVmYXVsdCAmJiAhKHRoaXMuX19kZWZhdWx0VmFsdWVzID8/PSBuZXcgTWFwKCkpLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5fX2RlZmF1bHRWYWx1ZXMuc2V0KFxuICAgICAgICBuYW1lLFxuICAgICAgICBpbml0aWFsaXplVmFsdWUgPz8gb2xkVmFsdWUgPz8gdGhpc1tuYW1lIGFzIGtleW9mIHRoaXNdXG4gICAgICApO1xuICAgICAgLy8gaWYgdGhpcyBpcyBub3Qgd3JhcHBpbmcgYW4gYWNjZXNzb3IsIGl0IG11c3QgYmUgYW4gaW5pdGlhbCBzZXR0aW5nXG4gICAgICAvLyBhbmQgaW4gdGhpcyBjYXNlIHdlIGRvIG5vdCB3YW50IHRvIHJlY29yZCB0aGUgY2hhbmdlIG9yIHJlZmxlY3QuXG4gICAgICBpZiAod3JhcHBlZCAhPT0gdHJ1ZSB8fCBpbml0aWFsaXplVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgIGlmICghdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgLy8gT24gdGhlIGluaXRpYWwgY2hhbmdlLCB0aGUgb2xkIHZhbHVlIHNob3VsZCBiZSBgdW5kZWZpbmVkYCwgZXhjZXB0XG4gICAgICAvLyB3aXRoIGB1c2VEZWZhdWx0YFxuICAgICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQgJiYgIXVzZURlZmF1bHQpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgLy8gQWRkIHRvIHJlZmxlY3RpbmcgcHJvcGVydGllcyBzZXQuXG4gICAgLy8gTm90ZSwgaXQncyBpbXBvcnRhbnQgdGhhdCBldmVyeSBjaGFuZ2UgaGFzIGEgY2hhbmNlIHRvIGFkZCB0aGVcbiAgICAvLyBwcm9wZXJ0eSB0byBgX19yZWZsZWN0aW5nUHJvcGVydGllc2AuIFRoaXMgZW5zdXJlcyBzZXR0aW5nXG4gICAgLy8gYXR0cmlidXRlICsgcHJvcGVydHkgcmVmbGVjdHMgY29ycmVjdGx5LlxuICAgIGlmIChyZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQ8UHJvcGVydHlLZXk+KCkpLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgaWYgKFxuICAgICAgREVWX01PREUgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZSdcbiAgICAgICkgJiZcbiAgICAgIHR5cGVvZiAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPiB8IHVuZGVmaW5lZCk/LnRoZW4gPT09XG4gICAgICAgICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe2tpbmQ6ICd1cGRhdGUnfSk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAvLyBzaGFkb3dlZCBieSBjbGFzcyBmaWVsZHMuIEluc3RhbmNlIGZpZWxkcyBzZXQgYmVmb3JlIHVwZ3JhZGUgYXJlXG4gICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBzaGFkb3dlZFByb3BlcnRpZXMgPSBbLi4uY3Rvci5lbGVtZW50UHJvcGVydGllcy5rZXlzKCldLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBwIGluIGdldFByb3RvdHlwZU9mKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHdpbGwgbm90IGAgK1xuICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgIGBOYXRpdmUgY2xhc3MgZmllbGRzIGFuZCBzb21lIGNvbXBpbGVkIG91dHB1dCB3aWxsIG92ZXJ3cml0ZSBgICtcbiAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgIGBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgLy8gaGF2ZSBiZWVuIHNldCBzaW5jZSB3ZSBzdG9yZWQgdGhlIG93biBwcm9wZXJ0eSB2YWx1ZT9cbiAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzW3AgYXMga2V5b2YgdGhpc10gPSB2YWx1ZSBhcyB0aGlzW2tleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUcmlnZ2VyIGluaXRpYWwgdmFsdWUgcmVmbGVjdGlvbiBhbmQgcG9wdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgIC8vIGBjaGFuZ2VkUHJvcGVydGllc2AgbWFwLCBidXQgb25seSBmb3IgdGhlIGNhc2Ugb2YgcHJvcGVydGllcyBjcmVhdGVkXG4gICAgICAvLyB2aWEgYGNyZWF0ZVByb3BlcnR5YCBvbiBhY2Nlc3NvcnMsIHdoaWNoIHdpbGwgbm90IGhhdmUgYWxyZWFkeVxuICAgICAgLy8gcG9wdWxhdGVkIHRoZSBgY2hhbmdlZFByb3BlcnRpZXNgIG1hcCBzaW5jZSB0aGV5IGFyZSBub3Qgc2V0LlxuICAgICAgLy8gV2UgY2FuJ3Qga25vdyBpZiB0aGVzZSBhY2Nlc3NvcnMgaGFkIGluaXRpYWxpemVycywgc28gd2UganVzdCBzZXRcbiAgICAgIC8vIHRoZW0gYW55d2F5IC0gYSBkaWZmZXJlbmNlIGZyb20gZXhwZXJpbWVudGFsIGRlY29yYXRvcnMgb24gZmllbGRzIGFuZFxuICAgICAgLy8gc3RhbmRhcmQgZGVjb3JhdG9ycyBvbiBhdXRvLWFjY2Vzc29ycy5cbiAgICAgIC8vIEZvciBjb250ZXh0IHNlZTpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L3B1bGwvNDE4MyNpc3N1ZWNvbW1lbnQtMTcxMTk1OTYzNVxuICAgICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgICAuZWxlbWVudFByb3BlcnRpZXM7XG4gICAgICBpZiAoZWxlbWVudFByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgZWxlbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICBjb25zdCB7d3JhcHBlZH0gPSBvcHRpb25zO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twIGFzIGtleW9mIHRoaXNdO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdyYXBwZWQgPT09IHRydWUgJiZcbiAgICAgICAgICAgICF0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMuaGFzKHApICYmXG4gICAgICAgICAgICB2YWx1ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdW5kZWZpbmVkLCBvcHRpb25zLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzaG91bGRVcGRhdGUgPSBmYWxzZTtcbiAgICBjb25zdCBjaGFuZ2VkUHJvcGVydGllcyA9IHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcztcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVXBkYXRlID0gdGhpcy5zaG91bGRVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICB0aGlzLndpbGxVcGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZT8uKCkpO1xuICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBQcmV2ZW50IGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgZnJvbSBydW5uaW5nIHdoZW4gdGhlcmUncyBhblxuICAgICAgLy8gdXBkYXRlIGV4Y2VwdGlvbi5cbiAgICAgIHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgICAgLy8gRW5zdXJlIGVsZW1lbnQgY2FuIGFjY2VwdCBhZGRpdGlvbmFsIHVwZGF0ZXMgYWZ0ZXIgYW4gZXhjZXB0aW9uLlxuICAgICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICAvLyBUaGUgdXBkYXRlIGlzIG5vIGxvbmdlciBjb25zaWRlcmVkIHBlbmRpbmcgYW5kIGZ1cnRoZXIgdXBkYXRlcyBhcmUgbm93IGFsbG93ZWQuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgdGhpcy5fJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgYmVmb3JlIGB1cGRhdGUoKWAgdG8gY29tcHV0ZSB2YWx1ZXMgbmVlZGVkIGR1cmluZyB0aGUgdXBkYXRlLlxuICAgKlxuICAgKiBJbXBsZW1lbnQgYHdpbGxVcGRhdGVgIHRvIGNvbXB1dGUgcHJvcGVydHkgdmFsdWVzIHRoYXQgZGVwZW5kIG9uIG90aGVyXG4gICAqIHByb3BlcnRpZXMgYW5kIGFyZSB1c2VkIGluIHRoZSByZXN0IG9mIHRoZSB1cGRhdGUgcHJvY2Vzcy5cbiAgICpcbiAgICogYGBgdHNcbiAgICogd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcykge1xuICAgKiAgIC8vIG9ubHkgbmVlZCB0byBjaGVjayBjaGFuZ2VkIHByb3BlcnRpZXMgZm9yIGFuIGV4cGVuc2l2ZSBjb21wdXRhdGlvbi5cbiAgICogICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdmaXJzdE5hbWUnKSB8fCBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2xhc3ROYW1lJykpIHtcbiAgICogICAgIHRoaXMuc2hhID0gY29tcHV0ZVNIQShgJHt0aGlzLmZpcnN0TmFtZX0gJHt0aGlzLmxhc3ROYW1lfWApO1xuICAgKiAgIH1cbiAgICogfVxuICAgKlxuICAgKiByZW5kZXIoKSB7XG4gICAqICAgcmV0dXJuIGh0bWxgU0hBOiAke3RoaXMuc2hhfWA7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgd2lsbFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7fVxuXG4gIC8vIE5vdGUsIHRoaXMgaXMgYW4gb3ZlcnJpZGUgcG9pbnQgZm9yIHBvbHlmaWxsLXN1cHBvcnQuXG4gIC8vIEBpbnRlcm5hbFxuICBfJGRpZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICB0aGlzLl9fY29udHJvbGxlcnM/LmZvckVhY2goKGMpID0+IGMuaG9zdFVwZGF0ZWQ/LigpKTtcbiAgICBpZiAoIXRoaXMuaGFzVXBkYXRlZCkge1xuICAgICAgdGhpcy5oYXNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICBpZiAoXG4gICAgICBERVZfTU9ERSAmJlxuICAgICAgdGhpcy5pc1VwZGF0ZVBlbmRpbmcgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdjaGFuZ2UtaW4tdXBkYXRlJ1xuICAgICAgKVxuICAgICkge1xuICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgICAgIGBFbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHNjaGVkdWxlZCBhbiB1cGRhdGUgYCArXG4gICAgICAgICAgYChnZW5lcmFsbHkgYmVjYXVzZSBhIHByb3BlcnR5IHdhcyBzZXQpIGAgK1xuICAgICAgICAgIGBhZnRlciBhbiB1cGRhdGUgY29tcGxldGVkLCBjYXVzaW5nIGEgbmV3IHVwZGF0ZSB0byBiZSBzY2hlZHVsZWQuIGAgK1xuICAgICAgICAgIGBUaGlzIGlzIGluZWZmaWNpZW50IGFuZCBzaG91bGQgYmUgYXZvaWRlZCB1bmxlc3MgdGhlIG5leHQgdXBkYXRlIGAgK1xuICAgICAgICAgIGBjYW4gb25seSBiZSBzY2hlZHVsZWQgYXMgYSBzaWRlIGVmZmVjdCBvZiB0aGUgcHJldmlvdXMgdXBkYXRlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfX21hcmtVcGRhdGVkKCkge1xuICAgIHRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgZWxlbWVudCBoYXMgY29tcGxldGVkIHVwZGF0aW5nLlxuICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgKiB1cGRhdGUgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLiBUaGUgUHJvbWlzZSByZXN1bHQgaXMgYGZhbHNlYCBpZlxuICAgKiBhIHByb3BlcnR5IHdhcyBzZXQgaW5zaWRlIGB1cGRhdGVkKClgLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5cbiAgICogZXhjZXB0aW9uIHdhcyB0aHJvd24gZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAqXG4gICAqIFRvIGF3YWl0IGFkZGl0aW9uYWwgYXN5bmNocm9ub3VzIHdvcmssIG92ZXJyaWRlIHRoZSBgZ2V0VXBkYXRlQ29tcGxldGVgXG4gICAqIG1ldGhvZC4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYSByZW5kZXJlZCBlbGVtZW50XG4gICAqIGJlZm9yZSBmdWxmaWxsaW5nIHRoaXMgUHJvbWlzZS4gVG8gZG8gdGhpcywgZmlyc3QgYXdhaXRcbiAgICogYHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKClgLCB0aGVuIGFueSBzdWJzZXF1ZW50IHN0YXRlLlxuICAgKlxuICAgKiBAcmV0dXJuIEEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSB1cGRhdGUgY29tcGxldGVkXG4gICAqICAgICB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBnZXQgdXBkYXRlQ29tcGxldGUoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBwb2ludCBmb3IgdGhlIGB1cGRhdGVDb21wbGV0ZWAgcHJvbWlzZS5cbiAgICpcbiAgICogSXQgaXMgbm90IHNhZmUgdG8gb3ZlcnJpZGUgdGhlIGB1cGRhdGVDb21wbGV0ZWAgZ2V0dGVyIGRpcmVjdGx5IGR1ZSB0byBhXG4gICAqIGxpbWl0YXRpb24gaW4gVHlwZVNjcmlwdCB3aGljaCBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gY2FsbCBhXG4gICAqIHN1cGVyY2xhc3MgZ2V0dGVyIChlLmcuIGBzdXBlci51cGRhdGVDb21wbGV0ZS50aGVuKC4uLilgKSB3aGVuIHRoZSB0YXJnZXRcbiAgICogbGFuZ3VhZ2UgaXMgRVM1IChodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOCkuXG4gICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBvdmVycmlkZGVuIGluc3RlYWQuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBjbGFzcyBNeUVsZW1lbnQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgICogICBvdmVycmlkZSBhc3luYyBnZXRVcGRhdGVDb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1cGVyLmdldFVwZGF0ZUNvbXBsZXRlKCk7XG4gICAqICAgICBhd2FpdCB0aGlzLl9teUNoaWxkLnVwZGF0ZUNvbXBsZXRlO1xuICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICogICB9XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBnZXRVcGRhdGVDb21wbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5fX3VwZGF0ZVByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogQ29udHJvbHMgd2hldGhlciBvciBub3QgYHVwZGF0ZSgpYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICogYW4gdXBkYXRlLiBCeSBkZWZhdWx0LCB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAsIGJ1dCB0aGlzIGNhbiBiZVxuICAgKiBjdXN0b21pemVkIHRvIGNvbnRyb2wgd2hlbiB0byB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzaG91bGRVcGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGVsZW1lbnQuIFRoaXMgbWV0aG9kIHJlZmxlY3RzIHByb3BlcnR5IHZhbHVlcyB0byBhdHRyaWJ1dGVzLlxuICAgKiBJdCBjYW4gYmUgb3ZlcnJpZGRlbiB0byByZW5kZXIgYW5kIGtlZXAgdXBkYXRlZCBlbGVtZW50IERPTS5cbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogYW5vdGhlciB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGUoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIC8vIFRoZSBmb3JFYWNoKCkgZXhwcmVzc2lvbiB3aWxsIG9ubHkgcnVuIHdoZW4gX19yZWZsZWN0aW5nUHJvcGVydGllcyBpc1xuICAgIC8vIGRlZmluZWQsIGFuZCBpdCByZXR1cm5zIHVuZGVmaW5lZCwgc2V0dGluZyBfX3JlZmxlY3RpbmdQcm9wZXJ0aWVzIHRvXG4gICAgLy8gdW5kZWZpbmVkXG4gICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICYmPSB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMuZm9yRWFjaCgocCkgPT5cbiAgICAgIHRoaXMuX19wcm9wZXJ0eVRvQXR0cmlidXRlKHAsIHRoaXNbcCBhcyBrZXlvZiB0aGlzXSlcbiAgICApIGFzIHVuZGVmaW5lZDtcbiAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAqIHBvc3QtdXBkYXRpbmcgdGFza3MgdmlhIERPTSBBUElzLCBmb3IgZXhhbXBsZSwgZm9jdXNpbmcgYW4gZWxlbWVudC5cbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZWQoX2NoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge31cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBlbGVtZW50IGlzIGZpcnN0IHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtIG9uZSB0aW1lXG4gICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBmaXJzdFVwZGF0ZWQoKSB7XG4gICAqICAgdGhpcy5yZW5kZXJSb290LmdldEVsZW1lbnRCeUlkKCdteS10ZXh0LWFyZWEnKS5mb2N1cygpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgdHJpZ2dlciB0aGUgZWxlbWVudCB0byB1cGRhdGVcbiAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgKlxuICAgKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHt9XG59XG4vLyBBc3NpZ25lZCBoZXJlIHRvIHdvcmsgYXJvdW5kIGEganNjb21waWxlciBidWcgd2l0aCBzdGF0aWMgZmllbGRzXG4vLyB3aGVuIGNvbXBpbGluZyB0byBFUzUuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMxNzdcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgUmVhY3RpdmVFbGVtZW50KVxuXSA9IG5ldyBNYXAoKTtcbihSZWFjdGl2ZUVsZW1lbnQgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilbXG4gIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIFJlYWN0aXZlRWxlbWVudClcbl0gPSBuZXcgTWFwKCk7XG5cbi8vIEFwcGx5IHBvbHlmaWxscyBpZiBhdmFpbGFibGVcbnBvbHlmaWxsU3VwcG9ydD8uKHtSZWFjdGl2ZUVsZW1lbnR9KTtcblxuLy8gRGV2IG1vZGUgd2FybmluZ3MuLi5cbmlmIChERVZfTU9ERSkge1xuICAvLyBEZWZhdWx0IHdhcm5pbmcgc2V0LlxuICBSZWFjdGl2ZUVsZW1lbnQuZW5hYmxlZFdhcm5pbmdzID0gW1xuICAgICdjaGFuZ2UtaW4tdXBkYXRlJyxcbiAgICAnYXN5bmMtcGVyZm9ybS11cGRhdGUnLFxuICBdO1xuICBjb25zdCBlbnN1cmVPd25XYXJuaW5ncyA9IGZ1bmN0aW9uIChjdG9yOiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KSB7XG4gICAgaWYgKFxuICAgICAgIWN0b3IuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZW5hYmxlZFdhcm5pbmdzJywgY3RvcikpXG4gICAgKSB7XG4gICAgICBjdG9yLmVuYWJsZWRXYXJuaW5ncyA9IGN0b3IuZW5hYmxlZFdhcm5pbmdzIS5zbGljZSgpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBpZiAoIXRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmNsdWRlcyh3YXJuaW5nKSkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnB1c2god2FybmluZyk7XG4gICAgfVxuICB9O1xuICBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgdGhpczogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCxcbiAgICB3YXJuaW5nOiBXYXJuaW5nS2luZFxuICApIHtcbiAgICBlbnN1cmVPd25XYXJuaW5ncyh0aGlzKTtcbiAgICBjb25zdCBpID0gdGhpcy5lbmFibGVkV2FybmluZ3MhLmluZGV4T2Yod2FybmluZyk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5lbmFibGVkV2FybmluZ3MhLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgUmVhY3RpdmVFbGVtZW50IHVzYWdlLlxuKGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzIuMS4wJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLnJlYWN0aXZlRWxlbWVudFZlcnNpb25zLmxlbmd0aCA+IDEpIHtcbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyEoXG4gICAgICAnbXVsdGlwbGUtdmVyc2lvbnMnLFxuICAgICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICAgICk7XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PWdsb2JhbFRoaXMsZT10LlNoYWRvd1Jvb3QmJih2b2lkIDA9PT10LlNoYWR5Q1NTfHx0LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykmJlwiYWRvcHRlZFN0eWxlU2hlZXRzXCJpbiBEb2N1bWVudC5wcm90b3R5cGUmJlwicmVwbGFjZVwiaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUscz1TeW1ib2woKSxvPW5ldyBXZWFrTWFwO2NsYXNzIG57Y29uc3RydWN0b3IodCxlLG8pe2lmKHRoaXMuXyRjc3NSZXN1bHQkPSEwLG8hPT1zKXRocm93IEVycm9yKFwiQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC5cIik7dGhpcy5jc3NUZXh0PXQsdGhpcy50PWV9Z2V0IHN0eWxlU2hlZXQoKXtsZXQgdD10aGlzLm87Y29uc3Qgcz10aGlzLnQ7aWYoZSYmdm9pZCAwPT09dCl7Y29uc3QgZT12b2lkIDAhPT1zJiYxPT09cy5sZW5ndGg7ZSYmKHQ9by5nZXQocykpLHZvaWQgMD09PXQmJigodGhpcy5vPXQ9bmV3IENTU1N0eWxlU2hlZXQpLnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCksZSYmby5zZXQocyx0KSl9cmV0dXJuIHR9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5jc3NUZXh0fX1jb25zdCByPXQ9Pm5ldyBuKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dCtcIlwiLHZvaWQgMCxzKSxpPSh0LC4uLmUpPT57Y29uc3Qgbz0xPT09dC5sZW5ndGg/dFswXTplLnJlZHVjZSgoKGUscyxvKT0+ZSsodD0+e2lmKCEwPT09dC5fJGNzc1Jlc3VsdCQpcmV0dXJuIHQuY3NzVGV4dDtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDt0aHJvdyBFcnJvcihcIlZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiBcIit0K1wiLiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuXCIpfSkocykrdFtvKzFdKSx0WzBdKTtyZXR1cm4gbmV3IG4obyx0LHMpfSxTPShzLG8pPT57aWYoZSlzLmFkb3B0ZWRTdHlsZVNoZWV0cz1vLm1hcCgodD0+dCBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQ/dDp0LnN0eWxlU2hlZXQpKTtlbHNlIGZvcihjb25zdCBlIG9mIG8pe2NvbnN0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLG49dC5saXROb25jZTt2b2lkIDAhPT1uJiZvLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsbiksby50ZXh0Q29udGVudD1lLmNzc1RleHQscy5hcHBlbmRDaGlsZChvKX19LGM9ZT90PT50OnQ9PnQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0Pyh0PT57bGV0IGU9XCJcIjtmb3IoY29uc3QgcyBvZiB0LmNzc1J1bGVzKWUrPXMuY3NzVGV4dDtyZXR1cm4gcihlKX0pKHQpOnQ7ZXhwb3J0e24gYXMgQ1NTUmVzdWx0LFMgYXMgYWRvcHRTdHlsZXMsaSBhcyBjc3MsYyBhcyBnZXRDb21wYXRpYmxlU3R5bGUsZSBhcyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsciBhcyB1bnNhZmVDU1N9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0czogYm9vbGVhbiA9XG4gIGdsb2JhbC5TaGFkb3dSb290ICYmXG4gIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHRoZSBuYXRpdmUgZmVhdHVyZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1NoYWRvd1Jvb3QvYWRvcHRlZFN0eWxlU2hlZXRzKS5cbiAqIE5vdGUsIHdoZW4gc2hpbW1pbmcgaXMgdXNlZCwgYW55IHN0eWxlcyB0aGF0IGFyZSBzdWJzZXF1ZW50bHkgcGxhY2VkIGludG9cbiAqIHRoZSBzaGFkb3dSb290IHNob3VsZCBiZSBwbGFjZWQgKmJlZm9yZSogYW55IHNoaW1tZWQgYWRvcHRlZCBzdHlsZXMuIFRoaXNcbiAqIHdpbGwgbWF0Y2ggc3BlYyBiZWhhdmlvciB0aGF0IGdpdmVzIGFkb3B0ZWQgc2hlZXRzIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAqIHNoYWRvd1Jvb3QuXG4gKi9cbmV4cG9ydCBjb25zdCBhZG9wdFN0eWxlcyA9IChcbiAgcmVuZGVyUm9vdDogU2hhZG93Um9vdCxcbiAgc3R5bGVzOiBBcnJheTxDU1NSZXN1bHRPck5hdGl2ZT5cbikgPT4ge1xuICBpZiAoc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzKSB7XG4gICAgKHJlbmRlclJvb3QgYXMgU2hhZG93Um9vdCkuYWRvcHRlZFN0eWxlU2hlZXRzID0gc3R5bGVzLm1hcCgocykgPT5cbiAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gcyA6IHMuc3R5bGVTaGVldCFcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGZvciAoY29uc3QgcyBvZiBzdHlsZXMpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICBjb25zdCBub25jZSA9IChnbG9iYWwgYXMgYW55KVsnbGl0Tm9uY2UnXTtcbiAgICAgIGlmIChub25jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgICB9XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IChzIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgICAgIHJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQgPSAoc2hlZXQ6IENTU1N0eWxlU2hlZXQpID0+IHtcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgZm9yIChjb25zdCBydWxlIG9mIHNoZWV0LmNzc1J1bGVzKSB7XG4gICAgY3NzVGV4dCArPSBydWxlLmNzc1RleHQ7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZUNTUyhjc3NUZXh0KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wYXRpYmxlU3R5bGUgPVxuICBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgfHxcbiAgKE5PREVfTU9ERSAmJiBnbG9iYWwuQ1NTU3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKVxuICAgID8gKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PiBzXG4gICAgOiAoczogQ1NTUmVzdWx0T3JOYXRpdmUpID0+XG4gICAgICAgIHMgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0ID8gY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQocykgOiBzO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PWdsb2JhbFRoaXMsaT10LnRydXN0ZWRUeXBlcyxzPWk/aS5jcmVhdGVQb2xpY3koXCJsaXQtaHRtbFwiLHtjcmVhdGVIVE1MOnQ9PnR9KTp2b2lkIDAsZT1cIiRsaXQkXCIsaD1gbGl0JCR7TWF0aC5yYW5kb20oKS50b0ZpeGVkKDkpLnNsaWNlKDIpfSRgLG89XCI/XCIraCxuPWA8JHtvfT5gLHI9ZG9jdW1lbnQsbD0oKT0+ci5jcmVhdGVDb21tZW50KFwiXCIpLGM9dD0+bnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LGE9QXJyYXkuaXNBcnJheSx1PXQ9PmEodCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/LltTeW1ib2wuaXRlcmF0b3JdLGQ9XCJbIFxcdFxcblxcZlxccl1cIixmPS88KD86KCEtLXxcXC9bXmEtekEtWl0pfChcXC8/W2EtekEtWl1bXj5cXHNdKil8KFxcLz8kKSkvZyx2PS8tLT4vZyxfPS8+L2csbT1SZWdFeHAoYD58JHtkfSg/OihbXlxcXFxzXCInPj0vXSspKCR7ZH0qPSR7ZH0qKD86W14gXFx0XFxuXFxmXFxyXCInXFxgPD49XXwoXCJ8Jyl8KSl8JClgLFwiZ1wiKSxwPS8nL2csZz0vXCIvZywkPS9eKD86c2NyaXB0fHN0eWxlfHRleHRhcmVhfHRpdGxlKSQvaSx5PXQ9PihpLC4uLnMpPT4oe18kbGl0VHlwZSQ6dCxzdHJpbmdzOmksdmFsdWVzOnN9KSx4PXkoMSksYj15KDIpLHc9eSgzKSxUPVN5bWJvbC5mb3IoXCJsaXQtbm9DaGFuZ2VcIiksRT1TeW1ib2wuZm9yKFwibGl0LW5vdGhpbmdcIiksQT1uZXcgV2Vha01hcCxDPXIuY3JlYXRlVHJlZVdhbGtlcihyLDEyOSk7ZnVuY3Rpb24gUCh0LGkpe2lmKCFhKHQpfHwhdC5oYXNPd25Qcm9wZXJ0eShcInJhd1wiKSl0aHJvdyBFcnJvcihcImludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheVwiKTtyZXR1cm4gdm9pZCAwIT09cz9zLmNyZWF0ZUhUTUwoaSk6aX1jb25zdCBWPSh0LGkpPT57Y29uc3Qgcz10Lmxlbmd0aC0xLG89W107bGV0IHIsbD0yPT09aT9cIjxzdmc+XCI6Mz09PWk/XCI8bWF0aD5cIjpcIlwiLGM9Zjtmb3IobGV0IGk9MDtpPHM7aSsrKXtjb25zdCBzPXRbaV07bGV0IGEsdSxkPS0xLHk9MDtmb3IoO3k8cy5sZW5ndGgmJihjLmxhc3RJbmRleD15LHU9Yy5leGVjKHMpLG51bGwhPT11KTspeT1jLmxhc3RJbmRleCxjPT09Zj9cIiEtLVwiPT09dVsxXT9jPXY6dm9pZCAwIT09dVsxXT9jPV86dm9pZCAwIT09dVsyXT8oJC50ZXN0KHVbMl0pJiYocj1SZWdFeHAoXCI8L1wiK3VbMl0sXCJnXCIpKSxjPW0pOnZvaWQgMCE9PXVbM10mJihjPW0pOmM9PT1tP1wiPlwiPT09dVswXT8oYz1yPz9mLGQ9LTEpOnZvaWQgMD09PXVbMV0/ZD0tMjooZD1jLmxhc3RJbmRleC11WzJdLmxlbmd0aCxhPXVbMV0sYz12b2lkIDA9PT11WzNdP206J1wiJz09PXVbM10/ZzpwKTpjPT09Z3x8Yz09PXA/Yz1tOmM9PT12fHxjPT09Xz9jPWY6KGM9bSxyPXZvaWQgMCk7Y29uc3QgeD1jPT09bSYmdFtpKzFdLnN0YXJ0c1dpdGgoXCIvPlwiKT9cIiBcIjpcIlwiO2wrPWM9PT1mP3MrbjpkPj0wPyhvLnB1c2goYSkscy5zbGljZSgwLGQpK2Urcy5zbGljZShkKStoK3gpOnMraCsoLTI9PT1kP2k6eCl9cmV0dXJuW1AodCxsKyh0W3NdfHxcIjw/PlwiKSsoMj09PWk/XCI8L3N2Zz5cIjozPT09aT9cIjwvbWF0aD5cIjpcIlwiKSksb119O2NsYXNzIE57Y29uc3RydWN0b3Ioe3N0cmluZ3M6dCxfJGxpdFR5cGUkOnN9LG4pe2xldCByO3RoaXMucGFydHM9W107bGV0IGM9MCxhPTA7Y29uc3QgdT10Lmxlbmd0aC0xLGQ9dGhpcy5wYXJ0cyxbZix2XT1WKHQscyk7aWYodGhpcy5lbD1OLmNyZWF0ZUVsZW1lbnQoZixuKSxDLmN1cnJlbnROb2RlPXRoaXMuZWwuY29udGVudCwyPT09c3x8Mz09PXMpe2NvbnN0IHQ9dGhpcy5lbC5jb250ZW50LmZpcnN0Q2hpbGQ7dC5yZXBsYWNlV2l0aCguLi50LmNoaWxkTm9kZXMpfWZvcig7bnVsbCE9PShyPUMubmV4dE5vZGUoKSkmJmQubGVuZ3RoPHU7KXtpZigxPT09ci5ub2RlVHlwZSl7aWYoci5oYXNBdHRyaWJ1dGVzKCkpZm9yKGNvbnN0IHQgb2Ygci5nZXRBdHRyaWJ1dGVOYW1lcygpKWlmKHQuZW5kc1dpdGgoZSkpe2NvbnN0IGk9dlthKytdLHM9ci5nZXRBdHRyaWJ1dGUodCkuc3BsaXQoaCksZT0vKFsuP0BdKT8oLiopLy5leGVjKGkpO2QucHVzaCh7dHlwZToxLGluZGV4OmMsbmFtZTplWzJdLHN0cmluZ3M6cyxjdG9yOlwiLlwiPT09ZVsxXT9IOlwiP1wiPT09ZVsxXT9JOlwiQFwiPT09ZVsxXT9MOmt9KSxyLnJlbW92ZUF0dHJpYnV0ZSh0KX1lbHNlIHQuc3RhcnRzV2l0aChoKSYmKGQucHVzaCh7dHlwZTo2LGluZGV4OmN9KSxyLnJlbW92ZUF0dHJpYnV0ZSh0KSk7aWYoJC50ZXN0KHIudGFnTmFtZSkpe2NvbnN0IHQ9ci50ZXh0Q29udGVudC5zcGxpdChoKSxzPXQubGVuZ3RoLTE7aWYocz4wKXtyLnRleHRDb250ZW50PWk/aS5lbXB0eVNjcmlwdDpcIlwiO2ZvcihsZXQgaT0wO2k8cztpKyspci5hcHBlbmQodFtpXSxsKCkpLEMubmV4dE5vZGUoKSxkLnB1c2goe3R5cGU6MixpbmRleDorK2N9KTtyLmFwcGVuZCh0W3NdLGwoKSl9fX1lbHNlIGlmKDg9PT1yLm5vZGVUeXBlKWlmKHIuZGF0YT09PW8pZC5wdXNoKHt0eXBlOjIsaW5kZXg6Y30pO2Vsc2V7bGV0IHQ9LTE7Zm9yKDstMSE9PSh0PXIuZGF0YS5pbmRleE9mKGgsdCsxKSk7KWQucHVzaCh7dHlwZTo3LGluZGV4OmN9KSx0Kz1oLmxlbmd0aC0xfWMrK319c3RhdGljIGNyZWF0ZUVsZW1lbnQodCxpKXtjb25zdCBzPXIuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO3JldHVybiBzLmlubmVySFRNTD10LHN9fWZ1bmN0aW9uIFModCxpLHM9dCxlKXtpZihpPT09VClyZXR1cm4gaTtsZXQgaD12b2lkIDAhPT1lP3MuXyRDbz8uW2VdOnMuXyRDbDtjb25zdCBvPWMoaSk/dm9pZCAwOmkuXyRsaXREaXJlY3RpdmUkO3JldHVybiBoPy5jb25zdHJ1Y3RvciE9PW8mJihoPy5fJEFPPy4oITEpLHZvaWQgMD09PW8/aD12b2lkIDA6KGg9bmV3IG8odCksaC5fJEFUKHQscyxlKSksdm9pZCAwIT09ZT8ocy5fJENvPz89W10pW2VdPWg6cy5fJENsPWgpLHZvaWQgMCE9PWgmJihpPVModCxoLl8kQVModCxpLnZhbHVlcyksaCxlKSksaX1jbGFzcyBNe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fJEFWPVtdLHRoaXMuXyRBTj12b2lkIDAsdGhpcy5fJEFEPXQsdGhpcy5fJEFNPWl9Z2V0IHBhcmVudE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFNLnBhcmVudE5vZGV9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9dSh0KXtjb25zdHtlbDp7Y29udGVudDppfSxwYXJ0czpzfT10aGlzLl8kQUQsZT0odD8uY3JlYXRpb25TY29wZT8/cikuaW1wb3J0Tm9kZShpLCEwKTtDLmN1cnJlbnROb2RlPWU7bGV0IGg9Qy5uZXh0Tm9kZSgpLG89MCxuPTAsbD1zWzBdO2Zvcig7dm9pZCAwIT09bDspe2lmKG89PT1sLmluZGV4KXtsZXQgaTsyPT09bC50eXBlP2k9bmV3IFIoaCxoLm5leHRTaWJsaW5nLHRoaXMsdCk6MT09PWwudHlwZT9pPW5ldyBsLmN0b3IoaCxsLm5hbWUsbC5zdHJpbmdzLHRoaXMsdCk6Nj09PWwudHlwZSYmKGk9bmV3IHooaCx0aGlzLHQpKSx0aGlzLl8kQVYucHVzaChpKSxsPXNbKytuXX1vIT09bD8uaW5kZXgmJihoPUMubmV4dE5vZGUoKSxvKyspfXJldHVybiBDLmN1cnJlbnROb2RlPXIsZX1wKHQpe2xldCBpPTA7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fJEFWKXZvaWQgMCE9PXMmJih2b2lkIDAhPT1zLnN0cmluZ3M/KHMuXyRBSSh0LHMsaSksaSs9cy5zdHJpbmdzLmxlbmd0aC0yKTpzLl8kQUkodFtpXSkpLGkrK319Y2xhc3MgUntnZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0/Ll8kQVU/P3RoaXMuXyRDdn1jb25zdHJ1Y3Rvcih0LGkscyxlKXt0aGlzLnR5cGU9Mix0aGlzLl8kQUg9RSx0aGlzLl8kQU49dm9pZCAwLHRoaXMuXyRBQT10LHRoaXMuXyRBQj1pLHRoaXMuXyRBTT1zLHRoaXMub3B0aW9ucz1lLHRoaXMuXyRDdj1lPy5pc0Nvbm5lY3RlZD8/ITB9Z2V0IHBhcmVudE5vZGUoKXtsZXQgdD10aGlzLl8kQUEucGFyZW50Tm9kZTtjb25zdCBpPXRoaXMuXyRBTTtyZXR1cm4gdm9pZCAwIT09aSYmMTE9PT10Py5ub2RlVHlwZSYmKHQ9aS5wYXJlbnROb2RlKSx0fWdldCBzdGFydE5vZGUoKXtyZXR1cm4gdGhpcy5fJEFBfWdldCBlbmROb2RlKCl7cmV0dXJuIHRoaXMuXyRBQn1fJEFJKHQsaT10aGlzKXt0PVModGhpcyx0LGkpLGModCk/dD09PUV8fG51bGw9PXR8fFwiXCI9PT10Pyh0aGlzLl8kQUghPT1FJiZ0aGlzLl8kQVIoKSx0aGlzLl8kQUg9RSk6dCE9PXRoaXMuXyRBSCYmdCE9PVQmJnRoaXMuXyh0KTp2b2lkIDAhPT10Ll8kbGl0VHlwZSQ/dGhpcy4kKHQpOnZvaWQgMCE9PXQubm9kZVR5cGU/dGhpcy5UKHQpOnUodCk/dGhpcy5rKHQpOnRoaXMuXyh0KX1PKHQpe3JldHVybiB0aGlzLl8kQUEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCx0aGlzLl8kQUIpfVQodCl7dGhpcy5fJEFIIT09dCYmKHRoaXMuXyRBUigpLHRoaXMuXyRBSD10aGlzLk8odCkpfV8odCl7dGhpcy5fJEFIIT09RSYmYyh0aGlzLl8kQUgpP3RoaXMuXyRBQS5uZXh0U2libGluZy5kYXRhPXQ6dGhpcy5UKHIuY3JlYXRlVGV4dE5vZGUodCkpLHRoaXMuXyRBSD10fSQodCl7Y29uc3R7dmFsdWVzOmksXyRsaXRUeXBlJDpzfT10LGU9XCJudW1iZXJcIj09dHlwZW9mIHM/dGhpcy5fJEFDKHQpOih2b2lkIDA9PT1zLmVsJiYocy5lbD1OLmNyZWF0ZUVsZW1lbnQoUChzLmgscy5oWzBdKSx0aGlzLm9wdGlvbnMpKSxzKTtpZih0aGlzLl8kQUg/Ll8kQUQ9PT1lKXRoaXMuXyRBSC5wKGkpO2Vsc2V7Y29uc3QgdD1uZXcgTShlLHRoaXMpLHM9dC51KHRoaXMub3B0aW9ucyk7dC5wKGkpLHRoaXMuVChzKSx0aGlzLl8kQUg9dH19XyRBQyh0KXtsZXQgaT1BLmdldCh0LnN0cmluZ3MpO3JldHVybiB2b2lkIDA9PT1pJiZBLnNldCh0LnN0cmluZ3MsaT1uZXcgTih0KSksaX1rKHQpe2EodGhpcy5fJEFIKXx8KHRoaXMuXyRBSD1bXSx0aGlzLl8kQVIoKSk7Y29uc3QgaT10aGlzLl8kQUg7bGV0IHMsZT0wO2Zvcihjb25zdCBoIG9mIHQpZT09PWkubGVuZ3RoP2kucHVzaChzPW5ldyBSKHRoaXMuTyhsKCkpLHRoaXMuTyhsKCkpLHRoaXMsdGhpcy5vcHRpb25zKSk6cz1pW2VdLHMuXyRBSShoKSxlKys7ZTxpLmxlbmd0aCYmKHRoaXMuXyRBUihzJiZzLl8kQUIubmV4dFNpYmxpbmcsZSksaS5sZW5ndGg9ZSl9XyRBUih0PXRoaXMuXyRBQS5uZXh0U2libGluZyxpKXtmb3IodGhpcy5fJEFQPy4oITEsITAsaSk7dCYmdCE9PXRoaXMuXyRBQjspe2NvbnN0IGk9dC5uZXh0U2libGluZzt0LnJlbW92ZSgpLHQ9aX19c2V0Q29ubmVjdGVkKHQpe3ZvaWQgMD09PXRoaXMuXyRBTSYmKHRoaXMuXyRDdj10LHRoaXMuXyRBUD8uKHQpKX19Y2xhc3Mga3tnZXQgdGFnTmFtZSgpe3JldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZX1nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1jb25zdHJ1Y3Rvcih0LGkscyxlLGgpe3RoaXMudHlwZT0xLHRoaXMuXyRBSD1FLHRoaXMuXyRBTj12b2lkIDAsdGhpcy5lbGVtZW50PXQsdGhpcy5uYW1lPWksdGhpcy5fJEFNPWUsdGhpcy5vcHRpb25zPWgscy5sZW5ndGg+Mnx8XCJcIiE9PXNbMF18fFwiXCIhPT1zWzFdPyh0aGlzLl8kQUg9QXJyYXkocy5sZW5ndGgtMSkuZmlsbChuZXcgU3RyaW5nKSx0aGlzLnN0cmluZ3M9cyk6dGhpcy5fJEFIPUV9XyRBSSh0LGk9dGhpcyxzLGUpe2NvbnN0IGg9dGhpcy5zdHJpbmdzO2xldCBvPSExO2lmKHZvaWQgMD09PWgpdD1TKHRoaXMsdCxpLDApLG89IWModCl8fHQhPT10aGlzLl8kQUgmJnQhPT1ULG8mJih0aGlzLl8kQUg9dCk7ZWxzZXtjb25zdCBlPXQ7bGV0IG4scjtmb3IodD1oWzBdLG49MDtuPGgubGVuZ3RoLTE7bisrKXI9Uyh0aGlzLGVbcytuXSxpLG4pLHI9PT1UJiYocj10aGlzLl8kQUhbbl0pLG98fD0hYyhyKXx8ciE9PXRoaXMuXyRBSFtuXSxyPT09RT90PUU6dCE9PUUmJih0Kz0ocj8/XCJcIikraFtuKzFdKSx0aGlzLl8kQUhbbl09cn1vJiYhZSYmdGhpcy5qKHQpfWoodCl7dD09PUU/dGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLm5hbWUpOnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLHQ/P1wiXCIpfX1jbGFzcyBIIGV4dGVuZHMga3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy50eXBlPTN9aih0KXt0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXT10PT09RT92b2lkIDA6dH19Y2xhc3MgSSBleHRlbmRzIGt7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT00fWoodCl7dGhpcy5lbGVtZW50LnRvZ2dsZUF0dHJpYnV0ZSh0aGlzLm5hbWUsISF0JiZ0IT09RSl9fWNsYXNzIEwgZXh0ZW5kcyBre2NvbnN0cnVjdG9yKHQsaSxzLGUsaCl7c3VwZXIodCxpLHMsZSxoKSx0aGlzLnR5cGU9NX1fJEFJKHQsaT10aGlzKXtpZigodD1TKHRoaXMsdCxpLDApPz9FKT09PVQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fJEFILGU9dD09PUUmJnMhPT1FfHx0LmNhcHR1cmUhPT1zLmNhcHR1cmV8fHQub25jZSE9PXMub25jZXx8dC5wYXNzaXZlIT09cy5wYXNzaXZlLGg9dCE9PUUmJihzPT09RXx8ZSk7ZSYmdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMscyksaCYmdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLHRoaXMsdCksdGhpcy5fJEFIPXR9aGFuZGxlRXZlbnQodCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fJEFIP3RoaXMuXyRBSC5jYWxsKHRoaXMub3B0aW9ucz8uaG9zdD8/dGhpcy5lbGVtZW50LHQpOnRoaXMuXyRBSC5oYW5kbGVFdmVudCh0KX19Y2xhc3Mgentjb25zdHJ1Y3Rvcih0LGkscyl7dGhpcy5lbGVtZW50PXQsdGhpcy50eXBlPTYsdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQU09aSx0aGlzLm9wdGlvbnM9c31nZXQgXyRBVSgpe3JldHVybiB0aGlzLl8kQU0uXyRBVX1fJEFJKHQpe1ModGhpcyx0KX19Y29uc3QgWj17TTplLFA6aCxBOm8sQzoxLEw6VixSOk0sRDp1LFY6UyxJOlIsSDprLE46SSxVOkwsQjpILEY6en0saj10LmxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQ7aj8uKE4sUiksKHQubGl0SHRtbFZlcnNpb25zPz89W10pLnB1c2goXCIzLjMuMFwiKTtjb25zdCBCPSh0LGkscyk9Pntjb25zdCBlPXM/LnJlbmRlckJlZm9yZT8/aTtsZXQgaD1lLl8kbGl0UGFydCQ7aWYodm9pZCAwPT09aCl7Y29uc3QgdD1zPy5yZW5kZXJCZWZvcmU/P251bGw7ZS5fJGxpdFBhcnQkPWg9bmV3IFIoaS5pbnNlcnRCZWZvcmUobCgpLHQpLHQsdm9pZCAwLHM/P3t9KX1yZXR1cm4gaC5fJEFJKHQpLGh9O2V4cG9ydHtaIGFzIF8kTEgseCBhcyBodG1sLHcgYXMgbWF0aG1sLFQgYXMgbm9DaGFuZ2UsRSBhcyBub3RoaW5nLEIgYXMgcmVuZGVyLGIgYXMgc3ZnfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8vIElNUE9SVEFOVDogdGhlc2UgaW1wb3J0cyBtdXN0IGJlIHR5cGUtb25seVxuaW1wb3J0IHR5cGUge0RpcmVjdGl2ZSwgRGlyZWN0aXZlUmVzdWx0LCBQYXJ0SW5mb30gZnJvbSAnLi9kaXJlY3RpdmUuanMnO1xuaW1wb3J0IHR5cGUge1RydXN0ZWRIVE1MLCBUcnVzdGVkVHlwZXNXaW5kb3d9IGZyb20gJ3RydXN0ZWQtdHlwZXMvbGliL2luZGV4LmpzJztcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuY29uc3QgRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9TSEFEWURPTV9OT1BBVENIID0gdHJ1ZTtcbmNvbnN0IE5PREVfTU9ERSA9IGZhbHNlO1xuXG4vLyBBbGxvd3MgbWluaWZpZXJzIHRvIHJlbmFtZSByZWZlcmVuY2VzIHRvIGdsb2JhbFRoaXNcbmNvbnN0IGdsb2JhbCA9IGdsb2JhbFRoaXM7XG5cbi8qKlxuICogQ29udGFpbnMgdHlwZXMgdGhhdCBhcmUgcGFydCBvZiB0aGUgdW5zdGFibGUgZGVidWcgQVBJLlxuICpcbiAqIEV2ZXJ5dGhpbmcgaW4gdGhpcyBBUEkgaXMgbm90IHN0YWJsZSBhbmQgbWF5IGNoYW5nZSBvciBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsXG4gKiBldmVuIG9uIHBhdGNoIHJlbGVhc2VzLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZVxuZXhwb3J0IG5hbWVzcGFjZSBMaXRVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPVxuICAgICAgfCBUZW1wbGF0ZVByZXBcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRcbiAgICAgIHwgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkXG4gICAgICB8IFRlbXBsYXRlVXBkYXRpbmdcbiAgICAgIHwgQmVnaW5SZW5kZXJcbiAgICAgIHwgRW5kUmVuZGVyXG4gICAgICB8IENvbW1pdFBhcnRFbnRyeVxuICAgICAgfCBTZXRQYXJ0VmFsdWU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVByZXAge1xuICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlO1xuICAgICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXk7XG4gICAgICBjbG9uYWJsZVRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICAgICAgcGFydHM6IFRlbXBsYXRlUGFydFtdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEJlZ2luUmVuZGVyIHtcbiAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0IHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVuZFJlbmRlciB7XG4gICAgICBraW5kOiAnZW5kIHJlbmRlcic7XG4gICAgICBpZDogbnVtYmVyO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICBwYXJ0OiBDaGlsZFBhcnQ7XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZUluc3RhbnRpYXRlZEFuZFVwZGF0ZWQge1xuICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCBhbmQgdXBkYXRlZCc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgZnJhZ21lbnQ6IE5vZGU7XG4gICAgICBwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD47XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBUZW1wbGF0ZVVwZGF0aW5nIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSB1cGRhdGluZyc7XG4gICAgICB0ZW1wbGF0ZTogVGVtcGxhdGUgfCBDb21waWxlZFRlbXBsYXRlO1xuICAgICAgaW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgU2V0UGFydFZhbHVlIHtcbiAgICAgIGtpbmQ6ICdzZXQgcGFydCc7XG4gICAgICBwYXJ0OiBQYXJ0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICB2YWx1ZUluZGV4OiBudW1iZXI7XG4gICAgICB2YWx1ZXM6IHVua25vd25bXTtcbiAgICAgIHRlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2U7XG4gICAgfVxuXG4gICAgZXhwb3J0IHR5cGUgQ29tbWl0UGFydEVudHJ5ID1cbiAgICAgIHwgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeVxuICAgICAgfCBDb21taXRUZXh0XG4gICAgICB8IENvbW1pdE5vZGVcbiAgICAgIHwgQ29tbWl0QXR0cmlidXRlXG4gICAgICB8IENvbW1pdFByb3BlcnR5XG4gICAgICB8IENvbW1pdEJvb2xlYW5BdHRyaWJ1dGVcbiAgICAgIHwgQ29tbWl0RXZlbnRMaXN0ZW5lclxuICAgICAgfCBDb21taXRUb0VsZW1lbnRCaW5kaW5nO1xuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXROb3RoaW5nVG9DaGlsZEVudHJ5IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCc7XG4gICAgICBzdGFydDogQ2hpbGROb2RlO1xuICAgICAgZW5kOiBDaGlsZE5vZGUgfCBudWxsO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRUZXh0IHtcbiAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCc7XG4gICAgICBub2RlOiBUZXh0O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm9kZSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vZGUnO1xuICAgICAgc3RhcnQ6IE5vZGU7XG4gICAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlIHwgdW5kZWZpbmVkO1xuICAgICAgdmFsdWU6IE5vZGU7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0QXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRQcm9wZXJ0eSB7XG4gICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRCb29sZWFuQXR0cmlidXRlIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgYm9vbGVhbiBhdHRyaWJ1dGUnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiBib29sZWFuO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEV2ZW50TGlzdGVuZXIge1xuICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcic7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvbGRMaXN0ZW5lcjogdW5rbm93bjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIHJlbW92aW5nIHRoZSBvbGQgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBzZXR0aW5ncyBjaGFuZ2VkLCBvciB2YWx1ZSBpcyBub3RoaW5nKVxuICAgICAgcmVtb3ZlTGlzdGVuZXI6IGJvb2xlYW47XG4gICAgICAvLyBUcnVlIGlmIHdlJ3JlIGFkZGluZyBhIG5ldyBldmVudCBsaXN0ZW5lciAoZS5nLiBiZWNhdXNlIGZpcnN0IHJlbmRlciwgb3Igc2V0dGluZ3MgY2hhbmdlZClcbiAgICAgIGFkZExpc3RlbmVyOiBib29sZWFuO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VG9FbGVtZW50QmluZGluZyB7XG4gICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZyc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG5pbnRlcmZhY2UgRGVidWdMb2dnaW5nV2luZG93IHtcbiAgLy8gRXZlbiBpbiBkZXYgbW9kZSwgd2UgZ2VuZXJhbGx5IGRvbid0IHdhbnQgdG8gZW1pdCB0aGVzZSBldmVudHMsIGFzIHRoYXQnc1xuICAvLyBhbm90aGVyIGxldmVsIG9mIGNvc3QsIHNvIG9ubHkgZW1pdCB0aGVtIHdoZW4gREVWX01PREUgaXMgdHJ1ZSBfYW5kXyB3aGVuXG4gIC8vIHdpbmRvdy5lbWl0TGl0RGVidWdFdmVudHMgaXMgdHJ1ZS5cbiAgZW1pdExpdERlYnVnTG9nRXZlbnRzPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBVc2VmdWwgZm9yIHZpc3VhbGl6aW5nIGFuZCBsb2dnaW5nIGluc2lnaHRzIGludG8gd2hhdCB0aGUgTGl0IHRlbXBsYXRlIHN5c3RlbSBpcyBkb2luZy5cbiAqXG4gKiBDb21waWxlZCBvdXQgb2YgcHJvZCBtb2RlIGJ1aWxkcy5cbiAqL1xuY29uc3QgZGVidWdMb2dFdmVudCA9IERFVl9NT0RFXG4gID8gKGV2ZW50OiBMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeSkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9IChnbG9iYWwgYXMgdW5rbm93biBhcyBEZWJ1Z0xvZ2dpbmdXaW5kb3cpXG4gICAgICAgIC5lbWl0TGl0RGVidWdMb2dFdmVudHM7XG4gICAgICBpZiAoIXNob3VsZEVtaXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ2xvYmFsLmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIG5ldyBDdXN0b21FdmVudDxMaXRVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuLy8gVXNlZCBmb3IgY29ubmVjdGluZyBiZWdpblJlbmRlciBhbmQgZW5kUmVuZGVyIGV2ZW50cyB3aGVuIHRoZXJlIGFyZSBuZXN0ZWRcbi8vIHJlbmRlcnMgd2hlbiBlcnJvcnMgYXJlIHRocm93biBwcmV2ZW50aW5nIGFuIGVuZFJlbmRlciBldmVudCBmcm9tIGJlaW5nXG4vLyBjYWxsZWQuXG5sZXQgZGVidWdMb2dSZW5kZXJJZCA9IDA7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuaWYgKERFVl9NT0RFKSB7XG4gIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyA/Pz0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBJc3N1ZSBhIHdhcm5pbmcgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LCBiYXNlZCBlaXRoZXIgb24gYGNvZGVgIG9yIGB3YXJuaW5nYC5cbiAgICogV2FybmluZ3MgYXJlIGRpc2FibGVkIGF1dG9tYXRpY2FsbHkgb25seSBieSBgd2FybmluZ2A7IGRpc2FibGluZyB2aWEgYGNvZGVgXG4gICAqIGNhbiBiZSBkb25lIGJ5IHVzZXJzLlxuICAgKi9cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBjb2RlXG4gICAgICA/IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICA6ICcnO1xuICAgIGlmIChcbiAgICAgICFnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmhhcyh3YXJuaW5nKSAmJlxuICAgICAgIWdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyEuaGFzKGNvZGUpXG4gICAgKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MhLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG5cbiAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgIGlzc3VlV2FybmluZyhcbiAgICAgICdkZXYtbW9kZScsXG4gICAgICBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYFxuICAgICk7XG4gIH0pO1xufVxuXG5jb25zdCB3cmFwID1cbiAgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggJiZcbiAgZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJlxuICBnbG9iYWwuU2hhZHlET00/Lm5vUGF0Y2ggPT09IHRydWVcbiAgICA/IChnbG9iYWwuU2hhZHlET00hLndyYXAgYXMgPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBUKVxuICAgIDogPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBub2RlO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgVHJ1c3RlZFR5cGVzV2luZG93KS50cnVzdGVkVHlwZXM7XG5cbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgPyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdsaXQtaHRtbCcsIHtcbiAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgIH0pXG4gIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFVzZWQgdG8gc2FuaXRpemUgYW55IHZhbHVlIGJlZm9yZSBpdCBpcyB3cml0dGVuIGludG8gdGhlIERPTS4gVGhpcyBjYW4gYmVcbiAqIHVzZWQgdG8gaW1wbGVtZW50IGEgc2VjdXJpdHkgcG9saWN5IG9mIGFsbG93ZWQgYW5kIGRpc2FsbG93ZWQgdmFsdWVzIGluXG4gKiBvcmRlciB0byBwcmV2ZW50IFhTUyBhdHRhY2tzLlxuICpcbiAqIE9uZSB3YXkgb2YgdXNpbmcgdGhpcyBjYWxsYmFjayB3b3VsZCBiZSB0byBjaGVjayBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzXG4gKiBhZ2FpbnN0IGEgbGlzdCBvZiBoaWdoIHJpc2sgZmllbGRzLCBhbmQgcmVxdWlyZSB0aGF0IHZhbHVlcyB3cml0dGVuIHRvIHN1Y2hcbiAqIGZpZWxkcyBiZSBpbnN0YW5jZXMgb2YgYSBjbGFzcyB3aGljaCBpcyBzYWZlIGJ5IGNvbnN0cnVjdGlvbi4gQ2xvc3VyZSdzIFNhZmVcbiAqIEhUTUwgVHlwZXMgaXMgb25lIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgdGVjaG5pcXVlIChcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvc2FmZS1odG1sLXR5cGVzL2Jsb2IvbWFzdGVyL2RvYy9zYWZlaHRtbC10eXBlcy5tZCkuXG4gKiBUaGUgVHJ1c3RlZFR5cGVzIHBvbHlmaWxsIGluIEFQSS1vbmx5IG1vZGUgY291bGQgYWxzbyBiZSB1c2VkIGFzIGEgYmFzaXNcbiAqIGZvciB0aGlzIHRlY2huaXF1ZSAoaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvdHJ1c3RlZC10eXBlcykuXG4gKlxuICogQHBhcmFtIG5vZGUgVGhlIEhUTUwgbm9kZSAodXN1YWxseSBlaXRoZXIgYSAjdGV4dCBub2RlIG9yIGFuIEVsZW1lbnQpIHRoYXRcbiAqICAgICBpcyBiZWluZyB3cml0dGVuIHRvLiBOb3RlIHRoYXQgdGhpcyBpcyBqdXN0IGFuIGV4ZW1wbGFyIG5vZGUsIHRoZSB3cml0ZVxuICogICAgIG1heSB0YWtlIHBsYWNlIGFnYWluc3QgYW5vdGhlciBpbnN0YW5jZSBvZiB0aGUgc2FtZSBjbGFzcyBvZiBub2RlLlxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgYW4gYXR0cmlidXRlIG9yIHByb3BlcnR5IChmb3IgZXhhbXBsZSwgJ2hyZWYnKS5cbiAqIEBwYXJhbSB0eXBlIEluZGljYXRlcyB3aGV0aGVyIHRoZSB3cml0ZSB0aGF0J3MgYWJvdXQgdG8gYmUgcGVyZm9ybWVkIHdpbGxcbiAqICAgICBiZSB0byBhIHByb3BlcnR5IG9yIGEgbm9kZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHdpbGwgc2FuaXRpemUgdGhpcyBjbGFzcyBvZiB3cml0ZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFNhbml0aXplckZhY3RvcnkgPSAoXG4gIG5vZGU6IE5vZGUsXG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZTogJ3Byb3BlcnR5JyB8ICdhdHRyaWJ1dGUnXG4pID0+IFZhbHVlU2FuaXRpemVyO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gd2hpY2ggY2FuIHNhbml0aXplIHZhbHVlcyB0aGF0IHdpbGwgYmUgd3JpdHRlbiB0byBhIHNwZWNpZmljIGtpbmRcbiAqIG9mIERPTSBzaW5rLlxuICpcbiAqIFNlZSBTYW5pdGl6ZXJGYWN0b3J5LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2FuaXRpemUuIFdpbGwgYmUgdGhlIGFjdHVhbCB2YWx1ZSBwYXNzZWQgaW50b1xuICogICAgIHRoZSBsaXQtaHRtbCB0ZW1wbGF0ZSBsaXRlcmFsLCBzbyB0aGlzIGNvdWxkIGJlIG9mIGFueSB0eXBlLlxuICogQHJldHVybiBUaGUgdmFsdWUgdG8gd3JpdGUgdG8gdGhlIERPTS4gVXN1YWxseSB0aGUgc2FtZSBhcyB0aGUgaW5wdXQgdmFsdWUsXG4gKiAgICAgdW5sZXNzIHNhbml0aXphdGlvbiBpcyBuZWVkZWQuXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlU2FuaXRpemVyID0gKHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duO1xuXG5jb25zdCBpZGVudGl0eUZ1bmN0aW9uOiBWYWx1ZVNhbml0aXplciA9ICh2YWx1ZTogdW5rbm93bikgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5ID0gKFxuICBfbm9kZTogTm9kZSxcbiAgX25hbWU6IHN0cmluZyxcbiAgX3R5cGU6ICdwcm9wZXJ0eScgfCAnYXR0cmlidXRlJ1xuKSA9PiBpZGVudGl0eUZ1bmN0aW9uO1xuXG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSkgPT4ge1xuICBpZiAoIUVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICBgIHNldFNhbml0aXplRE9NVmFsdWVGYWN0b3J5IHNob3VsZCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLmBcbiAgICApO1xuICB9XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5ld1Nhbml0aXplcjtcbn07XG5cbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5vb3BTYW5pdGl6ZXI7XG59O1xuXG5jb25zdCBjcmVhdGVTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICByZXR1cm4gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKG5vZGUsIG5hbWUsIHR5cGUpO1xufTtcblxuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8vIFRoaXMgbWFya2VyIGlzIHVzZWQgaW4gbWFueSBzeW50YWN0aWMgcG9zaXRpb25zIGluIEhUTUwsIHNvIGl0IG11c3QgYmVcbi8vIGEgdmFsaWQgZWxlbWVudCBuYW1lIGFuZCBhdHRyaWJ1dGUgbmFtZS4gV2UgZG9uJ3Qgc3VwcG9ydCBkeW5hbWljIG5hbWVzICh5ZXQpXG4vLyBidXQgdGhpcyBhdCBsZWFzdCBlbnN1cmVzIHRoYXQgdGhlIHBhcnNlIHRyZWUgaXMgY2xvc2VyIHRvIHRoZSB0ZW1wbGF0ZVxuLy8gaW50ZW50aW9uLlxuY29uc3QgbWFya2VyID0gYGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYDtcblxuLy8gU3RyaW5nIHVzZWQgdG8gdGVsbCBpZiBhIGNvbW1lbnQgaXMgYSBtYXJrZXIgY29tbWVudFxuY29uc3QgbWFya2VyTWF0Y2ggPSAnPycgKyBtYXJrZXI7XG5cbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcblxuY29uc3QgZCA9XG4gIE5PREVfTU9ERSAmJiBnbG9iYWwuZG9jdW1lbnQgPT09IHVuZGVmaW5lZFxuICAgID8gKHtcbiAgICAgICAgY3JlYXRlVHJlZVdhbGtlcigpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICB9IGFzIHVua25vd24gYXMgRG9jdW1lbnQpXG4gICAgOiBkb2N1bWVudDtcblxuLy8gQ3JlYXRlcyBhIGR5bmFtaWMgbWFya2VyLiBXZSBuZXZlciBoYXZlIHRvIHNlYXJjaCBmb3IgdGhlc2UgaW4gdGhlIERPTS5cbmNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGQuY3JlYXRlQ29tbWVudCgnJyk7XG5cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxudHlwZSBQcmltaXRpdmUgPSBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IHN5bWJvbCB8IGJpZ2ludDtcbmNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+XG4gIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT5cbiAgaXNBcnJheSh2YWx1ZSkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgdHlwZW9mICh2YWx1ZSBhcyBhbnkpPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgU1BBQ0VfQ0hBUiA9IGBbIFxcdFxcblxcZlxccl1gO1xuY29uc3QgQVRUUl9WQUxVRV9DSEFSID0gYFteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV1gO1xuY29uc3QgTkFNRV9DSEFSID0gYFteXFxcXHNcIic+PS9dYDtcblxuLy8gVGhlc2UgcmVnZXhlcyByZXByZXNlbnQgdGhlIGZpdmUgcGFyc2luZyBzdGF0ZXMgdGhhdCB3ZSBjYXJlIGFib3V0IGluIHRoZVxuLy8gVGVtcGxhdGUncyBIVE1MIHNjYW5uZXIuIFRoZXkgbWF0Y2ggdGhlICplbmQqIG9mIHRoZSBzdGF0ZSB0aGV5J3JlIG5hbWVkXG4vLyBhZnRlci5cbi8vIERlcGVuZGluZyBvbiB0aGUgbWF0Y2gsIHdlIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZXJlJ3Mgbm8gbWF0Y2gsXG4vLyB3ZSBzdGF5IGluIHRoZSBzYW1lIHN0YXRlLlxuLy8gTm90ZSB0aGF0IHRoZSByZWdleGVzIGFyZSBzdGF0ZWZ1bC4gV2UgdXRpbGl6ZSBsYXN0SW5kZXggYW5kIHN5bmMgaXRcbi8vIGFjcm9zcyB0aGUgbXVsdGlwbGUgcmVnZXhlcyB1c2VkLiBJbiBhZGRpdGlvbiB0byB0aGUgZml2ZSByZWdleGVzIGJlbG93XG4vLyB3ZSBhbHNvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHJlZ2V4IHRvIGZpbmQgdGhlIG1hdGNoaW5nIGVuZCB0YWdzIGZvciByYXdcbi8vIHRleHQgZWxlbWVudHMuXG5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuXG5jb25zdCBjb21tZW50RW5kUmVnZXggPSAvLS0+L2c7XG4vKipcbiAqIENvbW1lbnRzIG5vdCBzdGFydGVkIHdpdGggPCEtLSwgbGlrZSA8L3ssIGNhbiBiZSBlbmRlZCBieSBhIHNpbmdsZSBgPmBcbiAqL1xuY29uc3QgY29tbWVudDJFbmRSZWdleCA9IC8+L2c7XG5cbi8qKlxuICogVGhlIHRhZ0VuZCByZWdleCBtYXRjaGVzIHRoZSBlbmQgb2YgdGhlIFwiaW5zaWRlIGFuIG9wZW5pbmdcIiB0YWcgc3ludGF4XG4gKiBwb3NpdGlvbi4gSXQgZWl0aGVyIG1hdGNoZXMgYSBgPmAsIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlLCBvciB0aGUgZW5kXG4gKiBvZiB0aGUgc3RyaW5nIGFmdGVyIGEgc3BhY2UgKGF0dHJpYnV0ZS1uYW1lIHBvc2l0aW9uIGVuZGluZykuXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx0XFxuXFxmXFxyXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXIsIChcIiksICgnKSwgXCI+XCIsXG4gKiAgICBcIj1cIiwgb3IgXCIvXCIuIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIEhUTUwgc3BlYyB3aGljaCBhbHNvIGV4Y2x1ZGVzIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmNvbnN0IHRhZ0VuZFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgYD58JHtTUEFDRV9DSEFSfSg/Oigke05BTUVfQ0hBUn0rKSgke1NQQUNFX0NIQVJ9Kj0ke1NQQUNFX0NIQVJ9Kig/OiR7QVRUUl9WQUxVRV9DSEFSfXwoXCJ8Jyl8KSl8JClgLFxuICAnZydcbik7XG5jb25zdCBFTlRJUkVfTUFUQ0ggPSAwO1xuY29uc3QgQVRUUklCVVRFX05BTUUgPSAxO1xuY29uc3QgU1BBQ0VTX0FORF9FUVVBTFMgPSAyO1xuY29uc3QgUVVPVEVfQ0hBUiA9IDM7XG5cbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuXG4vKiogVGVtcGxhdGVSZXN1bHQgdHlwZXMgKi9cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcbmNvbnN0IFNWR19SRVNVTFQgPSAyO1xuY29uc3QgTUFUSE1MX1JFU1VMVCA9IDM7XG5cbnR5cGUgUmVzdWx0VHlwZSA9IHR5cGVvZiBIVE1MX1JFU1VMVCB8IHR5cGVvZiBTVkdfUkVTVUxUIHwgdHlwZW9mIE1BVEhNTF9SRVNVTFQ7XG5cbi8vIFRlbXBsYXRlUGFydCB0eXBlc1xuLy8gSU1QT1JUQU5UOiB0aGVzZSBtdXN0IG1hdGNoIHRoZSB2YWx1ZXMgaW4gUGFydFR5cGVcbmNvbnN0IEFUVFJJQlVURV9QQVJUID0gMTtcbmNvbnN0IENISUxEX1BBUlQgPSAyO1xuY29uc3QgUFJPUEVSVFlfUEFSVCA9IDM7XG5jb25zdCBCT09MRUFOX0FUVFJJQlVURV9QQVJUID0gNDtcbmNvbnN0IEVWRU5UX1BBUlQgPSA1O1xuY29uc3QgRUxFTUVOVF9QQVJUID0gNjtcbmNvbnN0IENPTU1FTlRfUEFSVCA9IDc7XG5cbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb25zLCB7QGxpbmtjb2RlIGh0bWx9IGFuZFxuICoge0BsaW5rY29kZSBzdmd9IHdoZW4gaXQgaGFzbid0IGJlZW4gY29tcGlsZWQgYnkgQGxpdC1sYWJzL2NvbXBpbGVyLlxuICpcbiAqIEEgYFRlbXBsYXRlUmVzdWx0YCBvYmplY3QgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBhIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIHJlcXVpcmVkIHRvIHJlbmRlciBpdDogdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGV4cHJlc3Npb24gdmFsdWVzLFxuICogYW5kIHR5cGUgb2YgdGVtcGxhdGUgKGh0bWwgb3Igc3ZnKS5cbiAqXG4gKiBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdHMgZG8gbm90IGNyZWF0ZSBhbnkgRE9NIG9uIHRoZWlyIG93bi4gVG8gY3JlYXRlIG9yXG4gKiB1cGRhdGUgRE9NIHlvdSBuZWVkIHRvIHJlbmRlciB0aGUgYFRlbXBsYXRlUmVzdWx0YC4gU2VlXG4gKiBbUmVuZGVyaW5nXShodHRwczovL2xpdC5kZXYvZG9jcy9jb21wb25lbnRzL3JlbmRlcmluZykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICovXG5leHBvcnQgdHlwZSBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9IHtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IFQ7XG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICB2YWx1ZXM6IHVua25vd25bXTtcbn07XG5cbi8qKlxuICogVGhpcyBpcyBhIHRlbXBsYXRlIHJlc3VsdCB0aGF0IG1heSBiZSBlaXRoZXIgdW5jb21waWxlZCBvciBjb21waWxlZC5cbiAqXG4gKiBJbiB0aGUgZnV0dXJlLCBUZW1wbGF0ZVJlc3VsdCB3aWxsIGJlIHRoaXMgdHlwZS4gSWYgeW91IHdhbnQgdG8gZXhwbGljaXRseVxuICogbm90ZSB0aGF0IGEgdGVtcGxhdGUgcmVzdWx0IGlzIHBvdGVudGlhbGx5IGNvbXBpbGVkLCB5b3UgY2FuIHJlZmVyZW5jZSB0aGlzXG4gKiB0eXBlIGFuZCBpdCB3aWxsIGNvbnRpbnVlIHRvIGJlaGF2ZSB0aGUgc2FtZSB0aHJvdWdoIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAqIG9mIExpdC4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBjb2RlIHRoYXQgd2FudHMgdG8gcHJlcGFyZSBmb3IgdGhlIG5leHRcbiAqIG1ham9yIHZlcnNpb24gb2YgTGl0LlxuICovXG5leHBvcnQgdHlwZSBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9XG4gIHwgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+XG4gIHwgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdDtcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIHRlbXBsYXRlIHRhZyBmdW5jdGlvbnMsIHtAbGlua2NvZGUgaHRtbH0gYW5kXG4gKiB7QGxpbmtjb2RlIHN2Z30uXG4gKlxuICogQSBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdCBob2xkcyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgdGVtcGxhdGVcbiAqIGV4cHJlc3Npb24gcmVxdWlyZWQgdG8gcmVuZGVyIGl0OiB0aGUgdGVtcGxhdGUgc3RyaW5ncywgZXhwcmVzc2lvbiB2YWx1ZXMsXG4gKiBhbmQgdHlwZSBvZiB0ZW1wbGF0ZSAoaHRtbCBvciBzdmcpLlxuICpcbiAqIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0cyBkbyBub3QgY3JlYXRlIGFueSBET00gb24gdGhlaXIgb3duLiBUbyBjcmVhdGUgb3JcbiAqIHVwZGF0ZSBET00geW91IG5lZWQgdG8gcmVuZGVyIHRoZSBgVGVtcGxhdGVSZXN1bHRgLiBTZWVcbiAqIFtSZW5kZXJpbmddKGh0dHBzOi8vbGl0LmRldi9kb2NzL2NvbXBvbmVudHMvcmVuZGVyaW5nKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiBMaXQgNCwgdGhpcyB0eXBlIHdpbGwgYmUgYW4gYWxpYXMgb2ZcbiAqIE1heWJlQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCwgc28gdGhhdCBjb2RlIHdpbGwgZ2V0IHR5cGUgZXJyb3JzIGlmIGl0IGFzc3VtZXNcbiAqIHRoYXQgTGl0IHRlbXBsYXRlcyBhcmUgbm90IGNvbXBpbGVkLiBXaGVuIGRlbGliZXJhdGVseSB3b3JraW5nIHdpdGggb25seVxuICogb25lLCB1c2UgZWl0aGVyIHtAbGlua2NvZGUgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdH0gb3JcbiAqIHtAbGlua2NvZGUgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBleHBsaWNpdGx5LlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVJlc3VsdDxUIGV4dGVuZHMgUmVzdWx0VHlwZSA9IFJlc3VsdFR5cGU+ID1cbiAgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+O1xuXG5leHBvcnQgdHlwZSBIVE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgSFRNTF9SRVNVTFQ+O1xuXG5leHBvcnQgdHlwZSBTVkdUZW1wbGF0ZVJlc3VsdCA9IFRlbXBsYXRlUmVzdWx0PHR5cGVvZiBTVkdfUkVTVUxUPjtcblxuZXhwb3J0IHR5cGUgTWF0aE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgTUFUSE1MX1JFU1VMVD47XG5cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCB0aGF0IGhhcyBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlciwgc2tpcHBpbmcgdGhlXG4gKiBwcmVwYXJlIHN0ZXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCB7XG4gIC8vIFRoaXMgaXMgYSBmYWN0b3J5IGluIG9yZGVyIHRvIG1ha2UgdGVtcGxhdGUgaW5pdGlhbGl6YXRpb24gbGF6eVxuICAvLyBhbmQgYWxsb3cgU2hhZHlSZW5kZXJPcHRpb25zIHNjb3BlIHRvIGJlIHBhc3NlZCBpbi5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IENvbXBpbGVkVGVtcGxhdGU7XG4gIHZhbHVlczogdW5rbm93bltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcGxhdGUgZXh0ZW5kcyBPbWl0PFRlbXBsYXRlLCAnZWwnPiB7XG4gIC8vIGVsIGlzIG92ZXJyaWRkZW4gdG8gYmUgb3B0aW9uYWwuIFdlIGluaXRpYWxpemUgaXQgb24gZmlyc3QgcmVuZGVyXG4gIGVsPzogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICAvLyBUaGUgcHJlcGFyZWQgSFRNTCBzdHJpbmcgdG8gY3JlYXRlIGEgdGVtcGxhdGUgZWxlbWVudCBmcm9tLlxuICAvLyBUaGUgdHlwZSBpcyBhIFRlbXBsYXRlU3RyaW5nc0FycmF5IHRvIGd1YXJhbnRlZSB0aGF0IHRoZSB2YWx1ZSBjYW1lIGZyb21cbiAgLy8gc291cmNlIGNvZGUsIHByZXZlbnRpbmcgYSBKU09OIGluamVjdGlvbiBhdHRhY2suXG4gIGg6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID1cbiAgPFQgZXh0ZW5kcyBSZXN1bHRUeXBlPih0eXBlOiBUKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQ8VD4gPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgIC8vIGhhbmRsZS4gSW5zdGVhZCB3ZSBrbm93IHRoYXQgc3RhdGljIHZhbHVlcyBtdXN0IGhhdmUgdGhlIGZpZWxkXG4gICAgICAvLyBgXyRsaXRTdGF0aWMkYC5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWVzLnNvbWUoKHZhbCkgPT4gKHZhbCBhcyB7XyRsaXRTdGF0aWMkOiB1bmtub3dufSk/LlsnXyRsaXRTdGF0aWMkJ10pXG4gICAgICApIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICcnLFxuICAgICAgICAgIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICBgUGxlYXNlIHVzZSB0aGUgc3RhdGljICdodG1sJyB0YWcgZnVuY3Rpb24uIFNlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9uc2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgIHN0cmluZ3MsXG4gICAgICB2YWx1ZXMsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgcmVjdCA9IHN2Z2A8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIj48L3JlY3Q+YDtcbiAqXG4gKiBjb25zdCBteUltYWdlID0gaHRtbGBcbiAqICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICogICAgICR7cmVjdH1cbiAqICAgPC9zdmc+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc3ZnYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBTVkcgZnJhZ21lbnRzLCBvciBlbGVtZW50c1xuICogdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhbiBgPHN2Zz5gIEhUTUwgZWxlbWVudC4gQSBjb21tb24gZXJyb3IgaXNcbiAqIHBsYWNpbmcgYW4gYDxzdmc+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYHN2Z2AgdGFnXG4gKiBmdW5jdGlvbi4gVGhlIGA8c3ZnPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhXG4gKiB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBTVkcgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgU1ZHIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZWxlbWVudCdzXG4gKiBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhbiBgPHN2Zz5gIEhUTUxcbiAqIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSB0YWcoU1ZHX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgTWF0aE1MIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgbnVtID0gbWF0aG1sYDxtbj4xPC9tbj5gO1xuICpcbiAqIGNvbnN0IGVxID0gaHRtbGBcbiAqICAgPG1hdGg+XG4gKiAgICAgJHtudW19XG4gKiAgIDwvbWF0aD5gO1xuICogYGBgXG4gKlxuICogVGhlIGBtYXRobWxgICp0YWcgZnVuY3Rpb24qIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIE1hdGhNTCBmcmFnbWVudHMsIG9yXG4gKiBlbGVtZW50cyB0aGF0IHdvdWxkIGJlIGNvbnRhaW5lZCAqKmluc2lkZSoqIGEgYDxtYXRoPmAgSFRNTCBlbGVtZW50LiBBIGNvbW1vblxuICogZXJyb3IgaXMgcGxhY2luZyBhIGA8bWF0aD5gICplbGVtZW50KiBpbiBhIHRlbXBsYXRlIHRhZ2dlZCB3aXRoIHRoZSBgbWF0aG1sYFxuICogdGFnIGZ1bmN0aW9uLiBUaGUgYDxtYXRoPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkXG4gKiB3aXRoaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBNYXRoTUwgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgTWF0aE1MIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGVcbiAqIGVsZW1lbnQncyBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhIGA8bWF0aD5gXG4gKiBIVE1MIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRobWwgPSB0YWcoTUFUSE1MX1JFU1VMVCk7XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgQ2hpbGRQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBidXR0b24gPSBodG1sYCR7XG4gKiAgdXNlci5pc0FkbWluXG4gKiAgICA/IGh0bWxgPGJ1dHRvbj5ERUxFVEU8L2J1dHRvbj5gXG4gKiAgICA6IG5vdGhpbmdcbiAqIH1gO1xuICogYGBgXG4gKlxuICogUHJlZmVyIHVzaW5nIGBub3RoaW5nYCBvdmVyIG90aGVyIGZhbHN5IHZhbHVlcyBhcyBpdCBwcm92aWRlcyBhIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGJldHdlZW4gdmFyaW91cyBleHByZXNzaW9uIGJpbmRpbmcgY29udGV4dHMuXG4gKlxuICogSW4gY2hpbGQgZXhwcmVzc2lvbnMsIGB1bmRlZmluZWRgLCBgbnVsbGAsIGAnJ2AsIGFuZCBgbm90aGluZ2AgYWxsIGJlaGF2ZSB0aGVcbiAqIHNhbWUgYW5kIHJlbmRlciBubyBub2Rlcy4gSW4gYXR0cmlidXRlIGV4cHJlc3Npb25zLCBgbm90aGluZ2AgX3JlbW92ZXNfIHRoZVxuICogYXR0cmlidXRlLCB3aGlsZSBgdW5kZWZpbmVkYCBhbmQgYG51bGxgIHdpbGwgcmVuZGVyIGFuIGVtcHR5IHN0cmluZy4gSW5cbiAqIHByb3BlcnR5IGV4cHJlc3Npb25zIGBub3RoaW5nYCBiZWNvbWVzIGB1bmRlZmluZWRgLlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IFN5bWJvbC5mb3IoJ2xpdC1ub3RoaW5nJyk7XG5cbi8qKlxuICogVGhlIGNhY2hlIG9mIHByZXBhcmVkIHRlbXBsYXRlcywga2V5ZWQgYnkgdGhlIHRhZ2dlZCBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICogYW5kIF9ub3RfIGFjY291bnRpbmcgZm9yIHRoZSBzcGVjaWZpYyB0ZW1wbGF0ZSB0YWcgdXNlZC4gVGhpcyBtZWFucyB0aGF0XG4gKiB0ZW1wbGF0ZSB0YWdzIGNhbm5vdCBiZSBkeW5hbWljIC0gdGhleSBtdXN0IHN0YXRpY2FsbHkgYmUgb25lIG9mIGh0bWwsIHN2ZyxcbiAqIG9yIGF0dHIuIFRoaXMgcmVzdHJpY3Rpb24gc2ltcGxpZmllcyB0aGUgY2FjaGUgbG9va3VwLCB3aGljaCBpcyBvbiB0aGUgaG90XG4gKiBwYXRoIGZvciByZW5kZXJpbmcuXG4gKi9cbmNvbnN0IHRlbXBsYXRlQ2FjaGUgPSBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCk7XG5cbi8qKlxuICogT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucyBmb3IgY29udHJvbGxpbmcgbGl0LWh0bWwgcmVuZGVyaW5nLiBOb3RlIHRoYXRcbiAqIHdoaWxlIGByZW5kZXJgIG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgYGNvbnRhaW5lcmAgKGFuZFxuICogYHJlbmRlckJlZm9yZWAgcmVmZXJlbmNlIG5vZGUpIHRvIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgY29udGVudCxcbiAqIG9ubHkgdGhlIG9wdGlvbnMgcGFzc2VkIGluIGR1cmluZyB0aGUgZmlyc3QgcmVuZGVyIGFyZSByZXNwZWN0ZWQgZHVyaW5nXG4gKiB0aGUgbGlmZXRpbWUgb2YgcmVuZGVycyB0byB0aGF0IHVuaXF1ZSBgY29udGFpbmVyYCArIGByZW5kZXJCZWZvcmVgXG4gKiBjb21iaW5hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0byB1c2UgYXMgdGhlIGB0aGlzYCB2YWx1ZSBmb3IgZXZlbnQgbGlzdGVuZXJzLiBJdCdzIG9mdGVuXG4gICAqIHVzZWZ1bCB0byBzZXQgdGhpcyB0byB0aGUgaG9zdCBjb21wb25lbnQgcmVuZGVyaW5nIGEgdGVtcGxhdGUuXG4gICAqL1xuICBob3N0Pzogb2JqZWN0O1xuICAvKipcbiAgICogQSBET00gbm9kZSBiZWZvcmUgd2hpY2ggdG8gcmVuZGVyIGNvbnRlbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIHJlbmRlckJlZm9yZT86IENoaWxkTm9kZSB8IG51bGw7XG4gIC8qKlxuICAgKiBOb2RlIHVzZWQgZm9yIGNsb25pbmcgdGhlIHRlbXBsYXRlIChgaW1wb3J0Tm9kZWAgd2lsbCBiZSBjYWxsZWQgb24gdGhpc1xuICAgKiBub2RlKS4gVGhpcyBjb250cm9scyB0aGUgYG93bmVyRG9jdW1lbnRgIG9mIHRoZSByZW5kZXJlZCBET00sIGFsb25nIHdpdGhcbiAgICogYW55IGluaGVyaXRlZCBjb250ZXh0LiBEZWZhdWx0cyB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAuXG4gICAqL1xuICBjcmVhdGlvblNjb3BlPzoge2ltcG9ydE5vZGUobm9kZTogTm9kZSwgZGVlcD86IGJvb2xlYW4pOiBOb2RlfTtcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbm5lY3RlZCBzdGF0ZSBmb3IgdGhlIHRvcC1sZXZlbCBwYXJ0IGJlaW5nIHJlbmRlcmVkLiBJZiBub1xuICAgKiBgaXNDb25uZWN0ZWRgIG9wdGlvbiBpcyBzZXQsIGBBc3luY0RpcmVjdGl2ZWBzIHdpbGwgYmUgY29ubmVjdGVkIGJ5XG4gICAqIGRlZmF1bHQuIFNldCB0byBgZmFsc2VgIGlmIHRoZSBpbml0aWFsIHJlbmRlciBvY2N1cnMgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZVxuICAgKiBhbmQgYEFzeW5jRGlyZWN0aXZlYHMgc2hvdWxkIHNlZSBgaXNDb25uZWN0ZWQgPT09IGZhbHNlYCBmb3IgdGhlaXIgaW5pdGlhbFxuICAgKiByZW5kZXIuIFRoZSBgcGFydC5zZXRDb25uZWN0ZWQoKWAgbWV0aG9kIG11c3QgYmUgdXNlZCBzdWJzZXF1ZW50IHRvIGluaXRpYWxcbiAgICogcmVuZGVyIHRvIGNoYW5nZSB0aGUgY29ubmVjdGVkIHN0YXRlIG9mIHRoZSBwYXJ0LlxuICAgKi9cbiAgaXNDb25uZWN0ZWQ/OiBib29sZWFuO1xufVxuXG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoXG4gIGQsXG4gIDEyOSAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVH0gKi9cbik7XG5cbmxldCBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWw6IFNhbml0aXplckZhY3RvcnkgPSBub29wU2FuaXRpemVyO1xuXG4vL1xuLy8gQ2xhc3NlcyBvbmx5IGJlbG93IGhlcmUsIGNvbnN0IHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBvbmx5IGFib3ZlIGhlcmUuLi5cbi8vXG4vLyBLZWVwaW5nIHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBhbmQgY2xhc3NlcyB0b2dldGhlciBpbXByb3ZlcyBtaW5pZmljYXRpb24uXG4vLyBJbnRlcmZhY2VzIGFuZCB0eXBlIGFsaWFzZXMgY2FuIGJlIGludGVybGVhdmVkIGZyZWVseS5cbi8vXG5cbi8vIFR5cGUgZm9yIGNsYXNzZXMgdGhhdCBoYXZlIGEgYF9kaXJlY3RpdmVgIG9yIGBfZGlyZWN0aXZlc1tdYCBmaWVsZCwgdXNlZCBieVxuLy8gYHJlc29sdmVEaXJlY3RpdmVgXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZVBhcmVudCB7XG4gIF8kcGFyZW50PzogRGlyZWN0aXZlUGFyZW50O1xuICBfJGlzQ29ubmVjdGVkOiBib29sZWFuO1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgX19kaXJlY3RpdmVzPzogQXJyYXk8RGlyZWN0aXZlIHwgdW5kZWZpbmVkPjtcbn1cblxuZnVuY3Rpb24gdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoXG4gIHRzYTogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIHN0cmluZ0Zyb21UU0E6IHN0cmluZ1xuKTogVHJ1c3RlZEhUTUwge1xuICAvLyBBIHNlY3VyaXR5IGNoZWNrIHRvIHByZXZlbnQgc3Bvb2Zpbmcgb2YgTGl0IHRlbXBsYXRlIHJlc3VsdHMuXG4gIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyB3aXRoIEFycmF5LmlzVGVtcGxhdGVPYmplY3QsXG4gIC8vIHRob3VnaCB3ZSBtaWdodCBuZWVkIHRvIG1ha2UgdGhhdCBjaGVjayBpbnNpZGUgb2YgdGhlIGh0bWwgYW5kIHN2Z1xuICAvLyBmdW5jdGlvbnMsIGJlY2F1c2UgcHJlY29tcGlsZWQgdGVtcGxhdGVzIGRvbid0IGNvbWUgaW4gYXNcbiAgLy8gVGVtcGxhdGVTdHJpbmdBcnJheSBvYmplY3RzLlxuICBpZiAoIWlzQXJyYXkodHNhKSB8fCAhdHNhLmhhc093blByb3BlcnR5KCdyYXcnKSkge1xuICAgIGxldCBtZXNzYWdlID0gJ2ludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSc7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBtZXNzYWdlID0gYFxuICAgICAgICAgIEludGVybmFsIEVycm9yOiBleHBlY3RlZCB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGJlIGFuIGFycmF5XG4gICAgICAgICAgd2l0aCBhICdyYXcnIGZpZWxkLiBGYWtpbmcgYSB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5IGJ5XG4gICAgICAgICAgY2FsbGluZyBodG1sIG9yIHN2ZyBsaWtlIGFuIG9yZGluYXJ5IGZ1bmN0aW9uIGlzIGVmZmVjdGl2ZWx5XG4gICAgICAgICAgdGhlIHNhbWUgYXMgY2FsbGluZyB1bnNhZmVIdG1sIGFuZCBjYW4gbGVhZCB0byBtYWpvciBzZWN1cml0eVxuICAgICAgICAgIGlzc3VlcywgZS5nLiBvcGVuaW5nIHlvdXIgY29kZSB1cCB0byBYU1MgYXR0YWNrcy5cbiAgICAgICAgICBJZiB5b3UncmUgdXNpbmcgdGhlIGh0bWwgb3Igc3ZnIHRhZ2dlZCB0ZW1wbGF0ZSBmdW5jdGlvbnMgbm9ybWFsbHlcbiAgICAgICAgICBhbmQgc3RpbGwgc2VlaW5nIHRoaXMgZXJyb3IsIHBsZWFzZSBmaWxlIGEgYnVnIGF0XG4gICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzL25ldz90ZW1wbGF0ZT1idWdfcmVwb3J0Lm1kXG4gICAgICAgICAgYW5kIGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBidWlsZCB0b29saW5nLCBpZiBhbnkuXG4gICAgICAgIGBcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgPyBwb2xpY3kuY3JlYXRlSFRNTChzdHJpbmdGcm9tVFNBKVxuICAgIDogKHN0cmluZ0Zyb21UU0EgYXMgdW5rbm93biBhcyBUcnVzdGVkSFRNTCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBIVE1MIHN0cmluZyBmb3IgdGhlIGdpdmVuIFRlbXBsYXRlU3RyaW5nc0FycmF5IGFuZCByZXN1bHQgdHlwZVxuICogKEhUTUwgb3IgU1ZHKSwgYWxvbmcgd2l0aCB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluXG4gKiB0ZW1wbGF0ZSBvcmRlci4gVGhlIEhUTUwgY29udGFpbnMgY29tbWVudCBtYXJrZXJzIGRlbm90aW5nIHRoZSBgQ2hpbGRQYXJ0YHNcbiAqIGFuZCBzdWZmaXhlcyBvbiBib3VuZCBhdHRyaWJ1dGVzIGRlbm90aW5nIHRoZSBgQXR0cmlidXRlUGFydHNgLlxuICpcbiAqIEBwYXJhbSBzdHJpbmdzIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXlcbiAqIEBwYXJhbSB0eXBlIEhUTUwgb3IgU1ZHXG4gKiBAcmV0dXJuIEFycmF5IGNvbnRhaW5pbmcgYFtodG1sLCBhdHRyTmFtZXNdYCAoYXJyYXkgcmV0dXJuZWQgZm9yIHRlcnNlbmVzcyxcbiAqICAgICB0byBhdm9pZCBvYmplY3QgZmllbGRzIHNpbmNlIHRoaXMgY29kZSBpcyBzaGFyZWQgd2l0aCBub24tbWluaWZpZWQgU1NSXG4gKiAgICAgY29kZSlcbiAqL1xuY29uc3QgZ2V0VGVtcGxhdGVIdG1sID0gKFxuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgdHlwZTogUmVzdWx0VHlwZVxuKTogW1RydXN0ZWRIVE1MLCBBcnJheTxzdHJpbmc+XSA9PiB7XG4gIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gIC8vIGJpbmRpbmdzLiBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHN0cmluZ3MgdG8gZGV0ZXJtaW5lIHRoZVxuICAvLyBzeW50YWN0aWMgcG9zaXRpb24gb2YgdGhlIGJpbmRpbmdzLiBUaGV5IGNhbiBiZSBpbiB0ZXh0IHBvc2l0aW9uLCB3aGVyZVxuICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gIC8vIHNlbnRpbmVsIHN0cmluZyBhbmQgcmUtd3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBvciBpbnNpZGUgYSB0YWcgd2hlcmVcbiAgLy8gd2UgaW5zZXJ0IHRoZSBzZW50aW5lbCBzdHJpbmcuXG4gIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gIC8vIFN0b3JlcyB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluIHRoZSBvcmRlciBvZiB0aGVpclxuICAvLyBwYXJ0cy4gRWxlbWVudFBhcnRzIGFyZSBhbHNvIHJlZmxlY3RlZCBpbiB0aGlzIGFycmF5IGFzIHVuZGVmaW5lZFxuICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICBjb25zdCBhdHRyTmFtZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgbGV0IGh0bWwgPVxuICAgIHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPHN2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8bWF0aD4nIDogJyc7XG5cbiAgLy8gV2hlbiB3ZSdyZSBpbnNpZGUgYSByYXcgdGV4dCB0YWcgKG5vdCBpdCdzIHRleHQgY29udGVudCksIHRoZSByZWdleFxuICAvLyB3aWxsIHN0aWxsIGJlIHRhZ1JlZ2V4IHNvIHdlIGNhbiBmaW5kIGF0dHJpYnV0ZXMsIGJ1dCB3aWxsIHN3aXRjaCB0b1xuICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICBsZXQgcmF3VGV4dEVuZFJlZ2V4OiBSZWdFeHAgfCB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAvLyByZWdleGVzXG4gIGxldCByZWdleCA9IHRleHRFbmRSZWdleDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHMgPSBzdHJpbmdzW2ldO1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAvLyBwb3NpdGl2ZSBhdCBlbmQgb2YgYSBzdHJpbmcsIGl0IG1lYW5zIHdlJ3JlIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZVxuICAgIC8vIHBvc2l0aW9uIGFuZCBuZWVkIHRvIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgLy8gdGhlIGVuZCBvZiBhIHN0cmluZyBpbiBhdHRyaWJ1dGUgbmFtZSBwb3NpdGlvbi5cbiAgICBsZXQgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgIGxldCBhdHRyTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBtYXRjaCE6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAvLyBUaGUgY29uZGl0aW9ucyBpbiB0aGlzIGxvb3AgaGFuZGxlIHRoZSBjdXJyZW50IHBhcnNlIHN0YXRlLCBhbmQgdGhlXG4gICAgLy8gYXNzaWdubWVudHMgdG8gdGhlIGByZWdleGAgdmFyaWFibGUgYXJlIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XG4gICAgICBpZiAocmVnZXggPT09IHRleHRFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gPT09ICchLS0nKSB7XG4gICAgICAgICAgcmVnZXggPSBjb21tZW50RW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFdlIHN0YXJ0ZWQgYSB3ZWlyZCBjb21tZW50LCBsaWtlIDwve1xuICAgICAgICAgIHJlZ2V4ID0gY29tbWVudDJFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG1hdGNoW1RBR19OQU1FXSkpIHtcbiAgICAgICAgICAgIC8vIFJlY29yZCBpZiB3ZSBlbmNvdW50ZXIgYSByYXctdGV4dCBlbGVtZW50LiBXZSdsbCBzd2l0Y2ggdG9cbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggYXQgdGhlIGVuZCBvZiB0aGUgdGFnLlxuICAgICAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPC8ke21hdGNoW1RBR19OQU1FXX1gLCAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0RZTkFNSUNfVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ0JpbmRpbmdzIGluIHRhZyBuYW1lcyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBzdGF0aWMgdGVtcGxhdGVzIGluc3RlYWQuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnMnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSB0YWdFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGEgdGFnLiBJZiB3ZSBoYWQgc3RhcnRlZCBhIHJhdy10ZXh0IGVsZW1lbnQsIHVzZSB0aGF0XG4gICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgLy8gV2UgbWF5IGJlIGVuZGluZyBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUsIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgIC8vIGNsZWFyIGFueSBwZW5kaW5nIGF0dHJOYW1lRW5kSW5kZXhcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQVRUUklCVVRFX05BTUVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBBdHRyaWJ1dGUgbmFtZSBwb3NpdGlvblxuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gcmVnZXgubGFzdEluZGV4IC0gbWF0Y2hbU1BBQ0VTX0FORF9FUVVBTFNdLmxlbmd0aDtcbiAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICBtYXRjaFtRVU9URV9DSEFSXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgOiBtYXRjaFtRVU9URV9DSEFSXSA9PT0gJ1wiJ1xuICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICA6IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4XG4gICAgICApIHtcbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgIH0gZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICByZWdleCA9IHRleHRFbmRSZWdleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdCBvbmUgb2YgdGhlIGZpdmUgc3RhdGUgcmVnZXhlcywgc28gaXQgbXVzdCBiZSB0aGUgZHluYW1pY2FsbHlcbiAgICAgICAgLy8gY3JlYXRlZCByYXcgdGV4dCByZWdleCBhbmQgd2UncmUgYXQgdGhlIGNsb3NlIG9mIHRoYXQgZWxlbWVudC5cbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIGF0dHJOYW1lRW5kSW5kZXgsIHdoaWNoIGluZGljYXRlcyB0aGF0IHdlIHNob3VsZFxuICAgICAgLy8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIGFzc2VydCB0aGF0IHdlJ3JlIGluIGEgdmFsaWQgYXR0cmlidXRlXG4gICAgICAvLyBwb3NpdGlvbiAtIGVpdGhlciBpbiBhIHRhZywgb3IgYSBxdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgY29uc29sZS5hc3NlcnQoXG4gICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPT09IC0xIHx8XG4gICAgICAgICAgcmVnZXggPT09IHRhZ0VuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4LFxuICAgICAgICAndW5leHBlY3RlZCBwYXJzZSBzdGF0ZSBCJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBoYXZlIGZvdXIgY2FzZXM6XG4gICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgLy8gICAgIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KTogaW5zZXJ0IGEgY29tbWVudCBtYXJrZXIuXG4gICAgLy8gIDIuIFdlIGhhdmUgYSBub24tbmVnYXRpdmUgYXR0ck5hbWVFbmRJbmRleCB3aGljaCBtZWFucyB3ZSBuZWVkIHRvXG4gICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgLy8gIDMuIFdlJ3JlIGF0IHRoZSBub24tZmlyc3QgYmluZGluZyBpbiBhIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlLCB1c2UgYVxuICAgIC8vICAgICBwbGFpbiBtYXJrZXIuXG4gICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgIC8vICAgICBwb3NpdGlvbiAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIpLCBhZGQgYSBzZXF1ZW50aWFsIHN1ZmZpeCB0b1xuICAgIC8vICAgICBnZW5lcmF0ZSBhIHVuaXF1ZSBhdHRyaWJ1dGUgbmFtZS5cblxuICAgIC8vIERldGVjdCBhIGJpbmRpbmcgbmV4dCB0byBzZWxmLWNsb3NpbmcgdGFnIGVuZCBhbmQgaW5zZXJ0IGEgc3BhY2UgdG9cbiAgICAvLyBzZXBhcmF0ZSB0aGUgbWFya2VyIGZyb20gdGhlIHRhZyBlbmQ6XG4gICAgY29uc3QgZW5kID1cbiAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCAmJiBzdHJpbmdzW2kgKyAxXS5zdGFydHNXaXRoKCcvPicpID8gJyAnIDogJyc7XG4gICAgaHRtbCArPVxuICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICA/IHMgKyBub2RlTWFya2VyXG4gICAgICAgIDogYXR0ck5hbWVFbmRJbmRleCA+PSAwXG4gICAgICAgICAgPyAoYXR0ck5hbWVzLnB1c2goYXR0ck5hbWUhKSxcbiAgICAgICAgICAgIHMuc2xpY2UoMCwgYXR0ck5hbWVFbmRJbmRleCkgK1xuICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgIHMuc2xpY2UoYXR0ck5hbWVFbmRJbmRleCkpICtcbiAgICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgICBlbmRcbiAgICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWxSZXN1bHQ6IHN0cmluZyB8IFRydXN0ZWRIVE1MID1cbiAgICBodG1sICtcbiAgICAoc3RyaW5nc1tsXSB8fCAnPD8+JykgK1xuICAgICh0eXBlID09PSBTVkdfUkVTVUxUID8gJzwvc3ZnPicgOiB0eXBlID09PSBNQVRITUxfUkVTVUxUID8gJzwvbWF0aD4nIDogJycpO1xuXG4gIC8vIFJldHVybmVkIGFzIGFuIGFycmF5IGZvciB0ZXJzZW5lc3NcbiAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZX07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZWwhOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuXG4gIHBhcnRzOiBBcnJheTxUZW1wbGF0ZVBhcnQ+ID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7c3RyaW5ncywgWydfJGxpdFR5cGUkJ106IHR5cGV9OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsXG4gICAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbiAgKSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICBjb25zdCBwYXJ0Q291bnQgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnRzO1xuXG4gICAgLy8gQ3JlYXRlIHRlbXBsYXRlIGVsZW1lbnRcbiAgICBjb25zdCBbaHRtbCwgYXR0ck5hbWVzXSA9IGdldFRlbXBsYXRlSHRtbChzdHJpbmdzLCB0eXBlKTtcbiAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSB0aGlzLmVsLmNvbnRlbnQ7XG5cbiAgICAvLyBSZS1wYXJlbnQgU1ZHIG9yIE1hdGhNTCBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICBpZiAodHlwZSA9PT0gU1ZHX1JFU1VMVCB8fCB0eXBlID09PSBNQVRITUxfUkVTVUxUKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5lbC5jb250ZW50LmZpcnN0Q2hpbGQhO1xuICAgICAgd3JhcHBlci5yZXBsYWNlV2l0aCguLi53cmFwcGVyLmNoaWxkTm9kZXMpO1xuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAhPT0gbnVsbCAmJiBwYXJ0cy5sZW5ndGggPCBwYXJ0Q291bnQpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgIGNvbnN0IHRhZyA9IChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAvLyBXYXJuIGlmIGB0ZXh0YXJlYWAgaW5jbHVkZXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhyb3cgaWYgYHRlbXBsYXRlYFxuICAgICAgICAgIC8vIGRvZXMgc2luY2UgdGhlc2UgYXJlIG5vdCBzdXBwb3J0ZWQuIFdlIGRvIHRoaXMgYnkgY2hlY2tpbmdcbiAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgLy8gY2FzZXMgbGlrZSBiaW5kaW5ncyBpbiB0ZXh0YXJlYSB0aGVyZSBtYXJrZXJzIHR1cm4gaW50byB0ZXh0IG5vZGVzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pIS50ZXN0KHRhZykgJiZcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmlubmVySFRNTC5pbmNsdWRlcyhtYXJrZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtID1cbiAgICAgICAgICAgICAgYEV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBcXGAke3RhZ31cXGAgYCArXG4gICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgIGBpbmZvcm1hdGlvbi5gO1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gICAgICAgICAgICB9IGVsc2UgaXNzdWVXYXJuaW5nKCcnLCBtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmluZGluZ0luZGV4LCBhbmQgaXQnbGwgYmUgb2ZmIGJ5IDEgaW4gdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gYW5kIG9mZiBieSB0d28gYWZ0ZXIgaXQuXG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlTmFtZXMoKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWxOYW1lID0gYXR0ck5hbWVzW2F0dHJOYW1lSW5kZXgrK107XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpITtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgIGNvbnN0IG0gPSAvKFsuP0BdKT8oLiopLy5leGVjKHJlYWxOYW1lKSE7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEFUVFJJQlVURV9QQVJULFxuICAgICAgICAgICAgICAgIGluZGV4OiBub2RlSW5kZXgsXG4gICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICBzdHJpbmdzOiBzdGF0aWNzLFxuICAgICAgICAgICAgICAgIGN0b3I6XG4gICAgICAgICAgICAgICAgICBtWzFdID09PSAnLidcbiAgICAgICAgICAgICAgICAgICAgPyBQcm9wZXJ0eVBhcnRcbiAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IEF0dHJpYnV0ZVBhcnQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aChtYXJrZXIpKSB7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEVMRU1FTlRfUEFSVCxcbiAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogYmVuY2htYXJrIHRoZSByZWdleCBhZ2FpbnN0IHRlc3RpbmcgZm9yIGVhY2hcbiAgICAgICAgLy8gb2YgdGhlIDMgcmF3IHRleHQgZWxlbWVudCBuYW1lcy5cbiAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSkpIHtcbiAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgLy8gbWFya2VycywgY3JlYXRlIGEgVGV4dCBub2RlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhIFRlbXBsYXRlUGFydCBmb3IgZWFjaCBtYXJrZXIuXG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50IS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkudGV4dENvbnRlbnQgPSB0cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgPyAodHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0IGFzIHVua25vd24gYXMgJycpXG4gICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBjaGlsZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5hcHBlbmQoc3RyaW5nc1tpXSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgICAgICAvLyBXYWxrIHBhc3QgdGhlIG1hcmtlciBub2RlIHdlIGp1c3QgYWRkZWRcbiAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe3R5cGU6IENISUxEX1BBUlQsIGluZGV4OiArK25vZGVJbmRleH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90ZSBiZWNhdXNlIHRoaXMgbWFya2VyIGlzIGFkZGVkIGFmdGVyIHRoZSB3YWxrZXIncyBjdXJyZW50XG4gICAgICAgICAgICAvLyBub2RlLCBpdCB3aWxsIGJlIHdhbGtlZCB0byBpbiB0aGUgb3V0ZXIgbG9vcCAoYW5kIGlnbm9yZWQpLCBzb1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGp1c3Qgbm9kZUluZGV4IGhlcmVcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmFwcGVuZChzdHJpbmdzW2xhc3RJbmRleF0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICBjb25zdCBkYXRhID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YTtcbiAgICAgICAgaWYgKGRhdGEgPT09IG1hcmtlck1hdGNoKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6IG5vZGVJbmRleH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgd2hpbGUgKChpID0gKG5vZGUgYXMgQ29tbWVudCkuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ09NTUVOVF9QQVJULCBpbmRleDogbm9kZUluZGV4fSk7XG4gICAgICAgICAgICAvLyBNb3ZlIHRvIHRoZSBlbmQgb2YgdGhlIG1hdGNoXG4gICAgICAgICAgICBpICs9IG1hcmtlci5sZW5ndGggLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZUluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAvLyBJZiB0aGVyZSB3YXMgYSBkdXBsaWNhdGUgYXR0cmlidXRlIG9uIGEgdGFnLCB0aGVuIHdoZW4gdGhlIHRhZyBpc1xuICAgICAgLy8gcGFyc2VkIGludG8gYW4gZWxlbWVudCB0aGUgYXR0cmlidXRlIGdldHMgZGUtZHVwbGljYXRlZC4gV2UgY2FuIGRldGVjdFxuICAgICAgLy8gdGhpcyBtaXNtYXRjaCBpZiB3ZSBoYXZlbid0IHByZWNpc2VseSBjb25zdW1lZCBldmVyeSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgLy8gd2hlbiBwcmVwYXJpbmcgdGhlIHRlbXBsYXRlLiBUaGlzIHdvcmtzIGJlY2F1c2UgYGF0dHJOYW1lc2AgaXMgYnVpbHRcbiAgICAgIC8vIGZyb20gdGhlIHRlbXBsYXRlIHN0cmluZyBhbmQgYGF0dHJOYW1lSW5kZXhgIGNvbWVzIGZyb20gcHJvY2Vzc2luZyB0aGVcbiAgICAgIC8vIHJlc3VsdGluZyBET00uXG4gICAgICBpZiAoYXR0ck5hbWVzLmxlbmd0aCAhPT0gYXR0ck5hbWVJbmRleCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYERldGVjdGVkIGR1cGxpY2F0ZSBhdHRyaWJ1dGUgYmluZGluZ3MuIFRoaXMgb2NjdXJzIGlmIHlvdXIgdGVtcGxhdGUgYCArXG4gICAgICAgICAgICBgaGFzIGR1cGxpY2F0ZSBhdHRyaWJ1dGVzIG9uIGFuIGVsZW1lbnQgdGFnLiBGb3IgZXhhbXBsZSBgICtcbiAgICAgICAgICAgIGBcIjxpbnB1dCA/ZGlzYWJsZWQ9XFwke3RydWV9ID9kaXNhYmxlZD1cXCR7ZmFsc2V9PlwiIGNvbnRhaW5zIGEgYCArXG4gICAgICAgICAgICBgZHVwbGljYXRlIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUuIFRoZSBlcnJvciB3YXMgZGV0ZWN0ZWQgaW4gYCArXG4gICAgICAgICAgICBgdGhlIGZvbGxvd2luZyB0ZW1wbGF0ZTogXFxuYCArXG4gICAgICAgICAgICAnYCcgK1xuICAgICAgICAgICAgc3RyaW5ncy5qb2luKCckey4uLn0nKSArXG4gICAgICAgICAgICAnYCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBjb3VsZCBzZXQgd2Fsa2VyLmN1cnJlbnROb2RlIHRvIGFub3RoZXIgbm9kZSBoZXJlIHRvIHByZXZlbnQgYSBtZW1vcnlcbiAgICAvLyBsZWFrLCBidXQgZXZlcnkgdGltZSB3ZSBwcmVwYXJlIGEgdGVtcGxhdGUsIHdlIGltbWVkaWF0ZWx5IHJlbmRlciBpdFxuICAgIC8vIGFuZCByZS11c2UgdGhlIHdhbGtlciBpbiBuZXcgVGVtcGxhdGVJbnN0YW5jZS5fY2xvbmUoKS5cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ3RlbXBsYXRlIHByZXAnLFxuICAgICAgICB0ZW1wbGF0ZTogdGhpcyxcbiAgICAgICAgY2xvbmFibGVUZW1wbGF0ZTogdGhpcy5lbCxcbiAgICAgICAgcGFydHM6IHRoaXMucGFydHMsXG4gICAgICAgIHN0cmluZ3MsXG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIE92ZXJyaWRkZW4gdmlhIGBsaXRIdG1sUG9seWZpbGxTdXBwb3J0YCB0byBwcm92aWRlIHBsYXRmb3JtIHN1cHBvcnQuXG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBzdGF0aWMgY3JlYXRlRWxlbWVudChodG1sOiBUcnVzdGVkSFRNTCwgX29wdGlvbnM/OiBSZW5kZXJPcHRpb25zKSB7XG4gICAgY29uc3QgZWwgPSBkLmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgZWwuaW5uZXJIVE1MID0gaHRtbCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICByZXR1cm4gZWw7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXNjb25uZWN0YWJsZSB7XG4gIF8kcGFyZW50PzogRGlzY29ubmVjdGFibGU7XG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT47XG4gIC8vIFJhdGhlciB0aGFuIGhvbGQgY29ubmVjdGlvbiBzdGF0ZSBvbiBpbnN0YW5jZXMsIERpc2Nvbm5lY3RhYmxlcyByZWN1cnNpdmVseVxuICAvLyBmZXRjaCB0aGUgY29ubmVjdGlvbiBzdGF0ZSBmcm9tIHRoZSBSb290UGFydCB0aGV5IGFyZSBjb25uZWN0ZWQgaW4gdmlhXG4gIC8vIGdldHRlcnMgdXAgdGhlIERpc2Nvbm5lY3RhYmxlIHRyZWUgdmlhIF8kcGFyZW50IHJlZmVyZW5jZXMuIFRoaXMgcHVzaGVzIHRoZVxuICAvLyBjb3N0IG9mIHRyYWNraW5nIHRoZSBpc0Nvbm5lY3RlZCBzdGF0ZSB0byBgQXN5bmNEaXJlY3RpdmVzYCwgYW5kIGF2b2lkc1xuICAvLyBuZWVkaW5nIHRvIHBhc3MgYWxsIERpc2Nvbm5lY3RhYmxlcyAocGFydHMsIHRlbXBsYXRlIGluc3RhbmNlcywgYW5kXG4gIC8vIGRpcmVjdGl2ZXMpIHRoZWlyIGNvbm5lY3Rpb24gc3RhdGUgZWFjaCB0aW1lIGl0IGNoYW5nZXMsIHdoaWNoIHdvdWxkIGJlXG4gIC8vIGNvc3RseSBmb3IgdHJlZXMgdGhhdCBoYXZlIG5vIEFzeW5jRGlyZWN0aXZlcy5cbiAgXyRpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShcbiAgcGFydDogQ2hpbGRQYXJ0IHwgQXR0cmlidXRlUGFydCB8IEVsZW1lbnRQYXJ0LFxuICB2YWx1ZTogdW5rbm93bixcbiAgcGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSBwYXJ0LFxuICBhdHRyaWJ1dGVJbmRleD86IG51bWJlclxuKTogdW5rbm93biB7XG4gIC8vIEJhaWwgZWFybHkgaWYgdGhlIHZhbHVlIGlzIGV4cGxpY2l0bHkgbm9DaGFuZ2UuIE5vdGUsIHRoaXMgbWVhbnMgYW55XG4gIC8vIG5lc3RlZCBkaXJlY3RpdmUgaXMgc3RpbGwgYXR0YWNoZWQgYW5kIGlzIG5vdCBydW4uXG4gIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgbGV0IGN1cnJlbnREaXJlY3RpdmUgPVxuICAgIGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgID8gKHBhcmVudCBhcyBBdHRyaWJ1dGVQYXJ0KS5fX2RpcmVjdGl2ZXM/LlthdHRyaWJ1dGVJbmRleF1cbiAgICAgIDogKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBFbGVtZW50UGFydCB8IERpcmVjdGl2ZSkuX19kaXJlY3RpdmU7XG4gIGNvbnN0IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9IGlzUHJpbWl0aXZlKHZhbHVlKVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgICAgKHZhbHVlIGFzIERpcmVjdGl2ZVJlc3VsdClbJ18kbGl0RGlyZWN0aXZlJCddO1xuICBpZiAoY3VycmVudERpcmVjdGl2ZT8uY29uc3RydWN0b3IgIT09IG5leHREaXJlY3RpdmVDb25zdHJ1Y3Rvcikge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY3VycmVudERpcmVjdGl2ZT8uWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10/LihmYWxzZSk7XG4gICAgaWYgKG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50RGlyZWN0aXZlID0gbmV3IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvcihwYXJ0IGFzIFBhcnRJbmZvKTtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRpbml0aWFsaXplKHBhcnQsIHBhcmVudCwgYXR0cmlidXRlSW5kZXgpO1xuICAgIH1cbiAgICBpZiAoYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgKChwYXJlbnQgYXMgQXR0cmlidXRlUGFydCkuX19kaXJlY3RpdmVzID8/PSBbXSlbYXR0cmlidXRlSW5kZXhdID1cbiAgICAgICAgY3VycmVudERpcmVjdGl2ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBEaXJlY3RpdmUpLl9fZGlyZWN0aXZlID0gY3VycmVudERpcmVjdGl2ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGN1cnJlbnREaXJlY3RpdmUgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZShcbiAgICAgIHBhcnQsXG4gICAgICBjdXJyZW50RGlyZWN0aXZlLl8kcmVzb2x2ZShwYXJ0LCAodmFsdWUgYXMgRGlyZWN0aXZlUmVzdWx0KS52YWx1ZXMpLFxuICAgICAgY3VycmVudERpcmVjdGl2ZSxcbiAgICAgIGF0dHJpYnV0ZUluZGV4XG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZUluc3RhbmNlfTtcbi8qKlxuICogQW4gdXBkYXRlYWJsZSBpbnN0YW5jZSBvZiBhIFRlbXBsYXRlLiBIb2xkcyByZWZlcmVuY2VzIHRvIHRoZSBQYXJ0cyB1c2VkIHRvXG4gKiB1cGRhdGUgdGhlIHRlbXBsYXRlIGluc3RhbmNlLlxuICovXG5jbGFzcyBUZW1wbGF0ZUluc3RhbmNlIGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICBfJHRlbXBsYXRlOiBUZW1wbGF0ZTtcbiAgXyRwYXJ0czogQXJyYXk8UGFydCB8IHVuZGVmaW5lZD4gPSBbXTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBDaGlsZFBhcnQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTogVGVtcGxhdGUsIHBhcmVudDogQ2hpbGRQYXJ0KSB7XG4gICAgdGhpcy5fJHRlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIC8vIENhbGxlZCBieSBDaGlsZFBhcnQgcGFyZW50Tm9kZSBnZXR0ZXJcbiAgZ2V0IHBhcmVudE5vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAvLyBEb2N1bWVudEZyYWdtZW50IGFuZCB3ZSBkb24ndCB3YW50IHRvIGhvbGQgb250byBpdCB3aXRoIGFuIGluc3RhbmNlIGZpZWxkLlxuICBfY2xvbmUob3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVsOiB7Y29udGVudH0sXG4gICAgICBwYXJ0czogcGFydHMsXG4gICAgfSA9IHRoaXMuXyR0ZW1wbGF0ZTtcbiAgICBjb25zdCBmcmFnbWVudCA9IChvcHRpb25zPy5jcmVhdGlvblNjb3BlID8/IGQpLmltcG9ydE5vZGUoY29udGVudCwgdHJ1ZSk7XG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG5cbiAgICBsZXQgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgdGVtcGxhdGVQYXJ0ID0gcGFydHNbMF07XG5cbiAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICBsZXQgcGFydDogUGFydCB8IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBDSElMRF9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICBub2RlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQVRUUklCVVRFX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IHRlbXBsYXRlUGFydC5jdG9yKFxuICAgICAgICAgICAgbm9kZSBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgIHRlbXBsYXRlUGFydC5uYW1lLFxuICAgICAgICAgICAgdGVtcGxhdGVQYXJ0LnN0cmluZ3MsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgRWxlbWVudFBhcnQobm9kZSBhcyBIVE1MRWxlbWVudCwgdGhpcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJHBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgIHRlbXBsYXRlUGFydCA9IHBhcnRzWysrcGFydEluZGV4XTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlSW5kZXggIT09IHRlbXBsYXRlUGFydD8uaW5kZXgpIHtcbiAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpITtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFdlIG5lZWQgdG8gc2V0IHRoZSBjdXJyZW50Tm9kZSBhd2F5IGZyb20gdGhlIGNsb25lZCB0cmVlIHNvIHRoYXQgd2VcbiAgICAvLyBkb24ndCBob2xkIG9udG8gdGhlIHRyZWUgZXZlbiBpZiB0aGUgdHJlZSBpcyBkZXRhY2hlZCBhbmQgc2hvdWxkIGJlXG4gICAgLy8gZnJlZWQuXG4gICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZDtcbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH1cblxuICBfdXBkYXRlKHZhbHVlczogQXJyYXk8dW5rbm93bj4pIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuXyRwYXJ0cykge1xuICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnc2V0IHBhcnQnLFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZXNbaV0sXG4gICAgICAgICAgICB2YWx1ZUluZGV4OiBpLFxuICAgICAgICAgICAgdmFsdWVzLFxuICAgICAgICAgICAgdGVtcGxhdGVJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLl8kc2V0VmFsdWUodmFsdWVzLCBwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQsIGkpO1xuICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRoZSBwYXJ0IGNvbnN1bWVzIGlzIHBhcnQuc3RyaW5ncy5sZW5ndGggLSAxXG4gICAgICAgICAgLy8gc2luY2UgdmFsdWVzIGFyZSBpbiBiZXR3ZWVuIHRlbXBsYXRlIHNwYW5zLiBXZSBpbmNyZW1lbnQgaSBieSAxXG4gICAgICAgICAgLy8gbGF0ZXIgaW4gdGhlIGxvb3AsIHNvIGluY3JlbWVudCBpdCBieSBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMiBoZXJlXG4gICAgICAgICAgaSArPSAocGFydCBhcyBBdHRyaWJ1dGVQYXJ0KS5zdHJpbmdzIS5sZW5ndGggLSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICB9XG59XG5cbi8qXG4gKiBQYXJ0c1xuICovXG50eXBlIEF0dHJpYnV0ZVRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIEFUVFJJQlVURV9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGN0b3I6IHR5cGVvZiBBdHRyaWJ1dGVQYXJ0O1xuICByZWFkb25seSBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz47XG59O1xudHlwZSBDaGlsZFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xudHlwZSBFbGVtZW50VGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgRUxFTUVOVF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcbnR5cGUgQ29tbWVudFRlbXBsYXRlUGFydCA9IHtcbiAgcmVhZG9ubHkgdHlwZTogdHlwZW9mIENPTU1FTlRfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBUZW1wbGF0ZVBhcnQgcmVwcmVzZW50cyBhIGR5bmFtaWMgcGFydCBpbiBhIHRlbXBsYXRlLCBiZWZvcmUgdGhlIHRlbXBsYXRlXG4gKiBpcyBpbnN0YW50aWF0ZWQuIFdoZW4gYSB0ZW1wbGF0ZSBpcyBpbnN0YW50aWF0ZWQgUGFydHMgYXJlIGNyZWF0ZWQgZnJvbVxuICogVGVtcGxhdGVQYXJ0cy5cbiAqL1xudHlwZSBUZW1wbGF0ZVBhcnQgPVxuICB8IENoaWxkVGVtcGxhdGVQYXJ0XG4gIHwgQXR0cmlidXRlVGVtcGxhdGVQYXJ0XG4gIHwgRWxlbWVudFRlbXBsYXRlUGFydFxuICB8IENvbW1lbnRUZW1wbGF0ZVBhcnQ7XG5cbmV4cG9ydCB0eXBlIFBhcnQgPVxuICB8IENoaWxkUGFydFxuICB8IEF0dHJpYnV0ZVBhcnRcbiAgfCBQcm9wZXJ0eVBhcnRcbiAgfCBCb29sZWFuQXR0cmlidXRlUGFydFxuICB8IEVsZW1lbnRQYXJ0XG4gIHwgRXZlbnRQYXJ0O1xuXG5leHBvcnQgdHlwZSB7Q2hpbGRQYXJ0fTtcbmNsYXNzIENoaWxkUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZSA9IENISUxEX1BBUlQ7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gIF8kY29tbWl0dGVkVmFsdWU6IHVua25vd24gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlPzogRGlyZWN0aXZlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kc3RhcnROb2RlOiBDaGlsZE5vZGU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRlbmROb2RlOiBDaGlsZE5vZGUgfCBudWxsO1xuICBwcml2YXRlIF90ZXh0U2FuaXRpemVyOiBWYWx1ZVNhbml0aXplciB8IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHBhcmVudDogRGlzY29ubmVjdGFibGUgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBDb25uZWN0aW9uIHN0YXRlIGZvciBSb290UGFydHMgb25seSAoaS5lLiBDaGlsZFBhcnQgd2l0aG91dCBfJHBhcmVudFxuICAgKiByZXR1cm5lZCBmcm9tIHRvcC1sZXZlbCBgcmVuZGVyYCkuIFRoaXMgZmllbGQgaXMgdW51c2VkIG90aGVyd2lzZS4gVGhlXG4gICAqIGludGVudGlvbiB3b3VsZCBiZSBjbGVhcmVyIGlmIHdlIG1hZGUgYFJvb3RQYXJ0YCBhIHN1YmNsYXNzIG9mIGBDaGlsZFBhcnRgXG4gICAqIHdpdGggdGhpcyBmaWVsZCAoYW5kIGEgZGlmZmVyZW50IF8kaXNDb25uZWN0ZWQgZ2V0dGVyKSwgYnV0IHRoZSBzdWJjbGFzc1xuICAgKiBjYXVzZWQgYSBwZXJmIHJlZ3Jlc3Npb24sIHBvc3NpYmx5IGR1ZSB0byBtYWtpbmcgY2FsbCBzaXRlcyBwb2x5bW9ycGhpYy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfX2lzQ29ubmVjdGVkOiBib29sZWFuO1xuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgLy8gQ2hpbGRQYXJ0cyB0aGF0IGFyZSBub3QgYXQgdGhlIHJvb3Qgc2hvdWxkIGFsd2F5cyBiZSBjcmVhdGVkIHdpdGggYVxuICAgIC8vIHBhcmVudDsgb25seSBSb290Q2hpbGROb2RlJ3Mgd29uJ3QsIHNvIHRoZXkgcmV0dXJuIHRoZSBsb2NhbCBpc0Nvbm5lY3RlZFxuICAgIC8vIHN0YXRlXG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQ/Ll8kaXNDb25uZWN0ZWQgPz8gdGhpcy5fX2lzQ29ubmVjdGVkO1xuICB9XG5cbiAgLy8gVGhlIGZvbGxvd2luZyBmaWVsZHMgd2lsbCBiZSBwYXRjaGVkIG9udG8gQ2hpbGRQYXJ0cyB3aGVuIHJlcXVpcmVkIGJ5XG4gIC8vIEFzeW5jRGlyZWN0aXZlXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPiA9IHVuZGVmaW5lZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPyhcbiAgICBpc0Nvbm5lY3RlZDogYm9vbGVhbixcbiAgICByZW1vdmVGcm9tUGFyZW50PzogYm9vbGVhbixcbiAgICBmcm9tPzogbnVtYmVyXG4gICk6IHZvaWQ7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRyZXBhcmVudERpc2Nvbm5lY3RhYmxlcz8ocGFyZW50OiBEaXNjb25uZWN0YWJsZSk6IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhcnROb2RlOiBDaGlsZE5vZGUsXG4gICAgZW5kTm9kZTogQ2hpbGROb2RlIHwgbnVsbCxcbiAgICBwYXJlbnQ6IFRlbXBsYXRlSW5zdGFuY2UgfCBDaGlsZFBhcnQgfCB1bmRlZmluZWQsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLl8kc3RhcnROb2RlID0gc3RhcnROb2RlO1xuICAgIHRoaXMuXyRlbmROb2RlID0gZW5kTm9kZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgLy8gTm90ZSBfX2lzQ29ubmVjdGVkIGlzIG9ubHkgZXZlciBhY2Nlc3NlZCBvbiBSb290UGFydHMgKGkuZS4gd2hlbiB0aGVyZSBpc1xuICAgIC8vIG5vIF8kcGFyZW50KTsgdGhlIHZhbHVlIG9uIGEgbm9uLXJvb3QtcGFydCBpcyBcImRvbid0IGNhcmVcIiwgYnV0IGNoZWNraW5nXG4gICAgLy8gZm9yIHBhcmVudCB3b3VsZCBiZSBtb3JlIGNvZGVcbiAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBvcHRpb25zPy5pc0Nvbm5lY3RlZCA/PyB0cnVlO1xuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIC8vIEV4cGxpY2l0bHkgaW5pdGlhbGl6ZSBmb3IgY29uc2lzdGVudCBjbGFzcyBzaGFwZS5cbiAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJlbnQgbm9kZSBpbnRvIHdoaWNoIHRoZSBwYXJ0IHJlbmRlcnMgaXRzIGNvbnRlbnQuXG4gICAqXG4gICAqIEEgQ2hpbGRQYXJ0J3MgY29udGVudCBjb25zaXN0cyBvZiBhIHJhbmdlIG9mIGFkamFjZW50IGNoaWxkIG5vZGVzIG9mXG4gICAqIGAucGFyZW50Tm9kZWAsIHBvc3NpYmx5IGJvcmRlcmVkIGJ5ICdtYXJrZXIgbm9kZXMnIChgLnN0YXJ0Tm9kZWAgYW5kXG4gICAqIGAuZW5kTm9kZWApLlxuICAgKlxuICAgKiAtIElmIGJvdGggYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgIGFyZSBub24tbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICogY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGJldHdlZW4gYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgLCBleGNsdXNpdmVseS5cbiAgICpcbiAgICogLSBJZiBgLnN0YXJ0Tm9kZWAgaXMgbm9uLW51bGwgYnV0IGAuZW5kTm9kZWAgaXMgbnVsbCwgdGhlbiB0aGUgcGFydCdzXG4gICAqIGNvbnRlbnQgY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGZvbGxvd2luZyBgLnN0YXJ0Tm9kZWAsIHVwIHRvIGFuZFxuICAgKiBpbmNsdWRpbmcgdGhlIGxhc3QgY2hpbGQgb2YgYC5wYXJlbnROb2RlYC4gSWYgYC5lbmROb2RlYCBpcyBub24tbnVsbCwgdGhlblxuICAgKiBgLnN0YXJ0Tm9kZWAgd2lsbCBhbHdheXMgYmUgbm9uLW51bGwuXG4gICAqXG4gICAqIC0gSWYgYm90aCBgLmVuZE5vZGVgIGFuZCBgLnN0YXJ0Tm9kZWAgYXJlIG51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAqIGNvbnNpc3RzIG9mIGFsbCBjaGlsZCBub2RlcyBvZiBgLnBhcmVudE5vZGVgLlxuICAgKi9cbiAgZ2V0IHBhcmVudE5vZGUoKTogTm9kZSB7XG4gICAgbGV0IHBhcmVudE5vZGU6IE5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuXyRwYXJlbnQ7XG4gICAgaWYgKFxuICAgICAgcGFyZW50ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIHBhcmVudE5vZGU/Lm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UICovXG4gICAgKSB7XG4gICAgICAvLyBJZiB0aGUgcGFyZW50Tm9kZSBpcyBhIERvY3VtZW50RnJhZ21lbnQsIGl0IG1heSBiZSBiZWNhdXNlIHRoZSBET00gaXNcbiAgICAgIC8vIHN0aWxsIGluIHRoZSBjbG9uZWQgZnJhZ21lbnQgZHVyaW5nIGluaXRpYWwgcmVuZGVyOyBpZiBzbywgZ2V0IHRoZSByZWFsXG4gICAgICAvLyBwYXJlbnROb2RlIHRoZSBwYXJ0IHdpbGwgYmUgY29tbWl0dGVkIGludG8gYnkgYXNraW5nIHRoZSBwYXJlbnQuXG4gICAgICBwYXJlbnROb2RlID0gKHBhcmVudCBhcyBDaGlsZFBhcnQgfCBUZW1wbGF0ZUluc3RhbmNlKS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXQgc3RhcnROb2RlKCk6IE5vZGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcGFydCdzIHRyYWlsaW5nIG1hcmtlciBub2RlLCBpZiBhbnkuIFNlZSBgLnBhcmVudE5vZGVgIGZvciBtb3JlXG4gICAqIGluZm9ybWF0aW9uLlxuICAgKi9cbiAgZ2V0IGVuZE5vZGUoKTogTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl8kZW5kTm9kZTtcbiAgfVxuXG4gIF8kc2V0VmFsdWUodmFsdWU6IHVua25vd24sIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpcyk6IHZvaWQge1xuICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoaXMgXFxgQ2hpbGRQYXJ0XFxgIGhhcyBubyBcXGBwYXJlbnROb2RlXFxgIGFuZCB0aGVyZWZvcmUgY2Fubm90IGFjY2VwdCBhIHZhbHVlLiBUaGlzIGxpa2VseSBtZWFucyB0aGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBwYXJ0IHdhcyBtYW5pcHVsYXRlZCBpbiBhbiB1bnN1cHBvcnRlZCB3YXkgb3V0c2lkZSBvZiBMaXQncyBjb250cm9sIHN1Y2ggdGhhdCB0aGUgcGFydCdzIG1hcmtlciBub2RlcyB3ZXJlIGVqZWN0ZWQgZnJvbSBET00uIEZvciBleGFtcGxlLCBzZXR0aW5nIHRoZSBlbGVtZW50J3MgXFxgaW5uZXJIVE1MXFxgIG9yIFxcYHRleHRDb250ZW50XFxgIGNhbiBkbyB0aGlzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSwgZGlyZWN0aXZlUGFyZW50KTtcbiAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAvLyBOb24tcmVuZGVyaW5nIGNoaWxkIHZhbHVlcy4gSXQncyBpbXBvcnRhbnQgdGhhdCB0aGVzZSBkbyBub3QgcmVuZGVyXG4gICAgICAvLyBlbXB0eSB0ZXh0IG5vZGVzIHRvIGF2b2lkIGlzc3VlcyB3aXRoIHByZXZlbnRpbmcgZGVmYXVsdCA8c2xvdD5cbiAgICAgIC8vIGZhbGxiYWNrIGNvbnRlbnQuXG4gICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcgfHwgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgaWYgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAgICBraW5kOiAnY29tbWl0IG5vdGhpbmcgdG8gY2hpbGQnLFxuICAgICAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICAgICAgZW5kOiB0aGlzLl8kZW5kTm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50OiB0aGlzLl8kcGFyZW50LFxuICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSkge1xuICAgICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgVGVtcGxhdGVSZXN1bHQpWydfJGxpdFR5cGUkJ10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5fY29tbWl0VGVtcGxhdGVSZXN1bHQodmFsdWUgYXMgVGVtcGxhdGVSZXN1bHQpO1xuICAgIH0gZWxzZSBpZiAoKHZhbHVlIGFzIE5vZGUpLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLm9wdGlvbnM/Lmhvc3QgPT09IHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdFRleHQoXG4gICAgICAgICAgYFtwcm9iYWJsZSBtaXN0YWtlOiByZW5kZXJlZCBhIHRlbXBsYXRlJ3MgaG9zdCBpbiBpdHNlbGYgYCArXG4gICAgICAgICAgICBgKGNvbW1vbmx5IGNhdXNlZCBieSB3cml0aW5nIFxcJHt0aGlzfSBpbiBhIHRlbXBsYXRlXWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBBdHRlbXB0ZWQgdG8gcmVuZGVyIHRoZSB0ZW1wbGF0ZSBob3N0YCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBgaW5zaWRlIGl0c2VsZi4gVGhpcyBpcyBhbG1vc3QgYWx3YXlzIGEgbWlzdGFrZSwgYW5kIGluIGRldiBtb2RlIGAsXG4gICAgICAgICAgYHdlIHJlbmRlciBzb21lIHdhcm5pbmcgdGV4dC4gSW4gcHJvZHVjdGlvbiBob3dldmVyLCB3ZSdsbCBgLFxuICAgICAgICAgIGByZW5kZXIgaXQsIHdoaWNoIHdpbGwgdXN1YWxseSByZXN1bHQgaW4gYW4gZXJyb3IsIGFuZCBzb21ldGltZXMgYCxcbiAgICAgICAgICBgaW4gdGhlIGVsZW1lbnQgZGlzYXBwZWFyaW5nIGZyb20gdGhlIERPTS5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NvbW1pdE5vZGUodmFsdWUgYXMgTm9kZSk7XG4gICAgfSBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgdGhpcy5fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaW5zZXJ0PFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSB7XG4gICAgcmV0dXJuIHdyYXAod3JhcCh0aGlzLl8kc3RhcnROb2RlKS5wYXJlbnROb2RlISkuaW5zZXJ0QmVmb3JlKFxuICAgICAgbm9kZSxcbiAgICAgIHRoaXMuXyRlbmROb2RlXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdE5vZGUodmFsdWU6IE5vZGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyAmJlxuICAgICAgICBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwgIT09IG5vb3BTYW5pdGl6ZXJcbiAgICAgICkge1xuICAgICAgICBjb25zdCBwYXJlbnROb2RlTmFtZSA9IHRoaXMuXyRzdGFydE5vZGUucGFyZW50Tm9kZT8ubm9kZU5hbWU7XG4gICAgICAgIGlmIChwYXJlbnROb2RlTmFtZSA9PT0gJ1NUWUxFJyB8fCBwYXJlbnROb2RlTmFtZSA9PT0gJ1NDUklQVCcpIHtcbiAgICAgICAgICBsZXQgbWVzc2FnZSA9ICdGb3JiaWRkZW4nO1xuICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgYFRoaXMgaXMgYSBzZWN1cml0eSByaXNrLCBhcyBzdHlsZSBpbmplY3Rpb24gYXR0YWNrcyBjYW4gYCArXG4gICAgICAgICAgICAgICAgYGV4ZmlsdHJhdGUgZGF0YSBhbmQgc3Bvb2YgVUlzLiBgICtcbiAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgYHRvIGNvbXBvc2Ugc3R5bGVzLCBhbmQgZG8gZHluYW1pYyBzdHlsaW5nIHdpdGggYCArXG4gICAgICAgICAgICAgICAgYGNzcyBjdXN0b20gcHJvcGVydGllcywgOjpwYXJ0cywgPHNsb3Q+cywgYCArXG4gICAgICAgICAgICAgICAgYGFuZCBieSBtdXRhdGluZyB0aGUgRE9NIHJhdGhlciB0aGFuIHN0eWxlc2hlZXRzLmA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXNzYWdlID1cbiAgICAgICAgICAgICAgICBgTGl0IGRvZXMgbm90IHN1cHBvcnQgYmluZGluZyBpbnNpZGUgc2NyaXB0IG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIGl0IGNvdWxkIGFsbG93IGFyYml0cmFyeSBgICtcbiAgICAgICAgICAgICAgICBgY29kZSBleGVjdXRpb24uYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm9kZScsXG4gICAgICAgICAgc3RhcnQ6IHRoaXMuXyRzdGFydE5vZGUsXG4gICAgICAgICAgcGFyZW50OiB0aGlzLl8kcGFyZW50LFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdGhpcy5faW5zZXJ0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRUZXh0KHZhbHVlOiB1bmtub3duKTogdm9pZCB7XG4gICAgLy8gSWYgdGhlIGNvbW1pdHRlZCB2YWx1ZSBpcyBhIHByaW1pdGl2ZSBpdCBtZWFucyB3ZSBjYWxsZWQgX2NvbW1pdFRleHQgb25cbiAgICAvLyB0aGUgcHJldmlvdXMgcmVuZGVyLCBhbmQgd2Uga25vdyB0aGF0IHRoaXMuXyRzdGFydE5vZGUubmV4dFNpYmxpbmcgaXMgYVxuICAgIC8vIFRleHQgbm9kZS4gV2UgY2FuIG5vdyBqdXN0IHJlcGxhY2UgdGhlIHRleHQgY29udGVudCAoLmRhdGEpIG9mIHRoZSBub2RlLlxuICAgIGlmIChcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAhPT0gbm90aGluZyAmJlxuICAgICAgaXNQcmltaXRpdmUodGhpcy5fJGNvbW1pdHRlZFZhbHVlKVxuICAgICkge1xuICAgICAgY29uc3Qgbm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcgYXMgVGV4dDtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRTYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3RleHRTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXIobm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgIChub2RlIGFzIFRleHQpLmRhdGEgPSB2YWx1ZSBhcyBzdHJpbmc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdGhpcy5fY29tbWl0Tm9kZSh0ZXh0Tm9kZSk7XG4gICAgICAgIC8vIFdoZW4gc2V0dGluZyB0ZXh0IGNvbnRlbnQsIGZvciBzZWN1cml0eSBwdXJwb3NlcyBpdCBtYXR0ZXJzIGEgbG90XG4gICAgICAgIC8vIHdoYXQgdGhlIHBhcmVudCBpcy4gRm9yIGV4YW1wbGUsIDxzdHlsZT4gYW5kIDxzY3JpcHQ+IG5lZWQgdG8gYmVcbiAgICAgICAgLy8gaGFuZGxlZCB3aXRoIGNhcmUsIHdoaWxlIDxzcGFuPiBkb2VzIG5vdC4gU28gZmlyc3Qgd2UgbmVlZCB0byBwdXQgYVxuICAgICAgICAvLyB0ZXh0IG5vZGUgaW50byB0aGUgZG9jdW1lbnQsIHRoZW4gd2UgY2FuIHNhbml0aXplIGl0cyBjb250ZW50LlxuICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcih0ZXh0Tm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgICAgbm9kZTogdGV4dE5vZGUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGV4dE5vZGUuZGF0YSA9IHZhbHVlIGFzIHN0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSBhcyBzdHJpbmcpKTtcbiAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgICAga2luZDogJ2NvbW1pdCB0ZXh0JyxcbiAgICAgICAgICAgIG5vZGU6IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkubmV4dFNpYmxpbmcgYXMgVGV4dCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KFxuICAgIHJlc3VsdDogVGVtcGxhdGVSZXN1bHQgfCBDb21waWxlZFRlbXBsYXRlUmVzdWx0XG4gICk6IHZvaWQge1xuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgY29uc3Qge3ZhbHVlcywgWydfJGxpdFR5cGUkJ106IHR5cGV9ID0gcmVzdWx0O1xuICAgIC8vIElmICRsaXRUeXBlJCBpcyBhIG51bWJlciwgcmVzdWx0IGlzIGEgcGxhaW4gVGVtcGxhdGVSZXN1bHQgYW5kIHdlIGdldFxuICAgIC8vIHRoZSB0ZW1wbGF0ZSBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZS4gSWYgbm90LCByZXN1bHQgaXMgYVxuICAgIC8vIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQgYW5kIF8kbGl0VHlwZSQgaXMgYSBDb21waWxlZFRlbXBsYXRlIGFuZCB3ZSBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIHRoZSA8dGVtcGxhdGU+IGVsZW1lbnQgdGhlIGZpcnN0IHRpbWUgd2Ugc2VlIGl0LlxuICAgIGNvbnN0IHRlbXBsYXRlOiBUZW1wbGF0ZSB8IENvbXBpbGVkVGVtcGxhdGUgPVxuICAgICAgdHlwZW9mIHR5cGUgPT09ICdudW1iZXInXG4gICAgICAgID8gdGhpcy5fJGdldFRlbXBsYXRlKHJlc3VsdCBhcyBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQpXG4gICAgICAgIDogKHR5cGUuZWwgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgKHR5cGUuZWwgPSBUZW1wbGF0ZS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICB0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyh0eXBlLmgsIHR5cGUuaFswXSksXG4gICAgICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgdHlwZSk7XG5cbiAgICBpZiAoKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlKT8uXyR0ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ3RlbXBsYXRlIHVwZGF0aW5nJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZTogdGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UsXG4gICAgICAgICAgcGFydHM6ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSkuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSkuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUluc3RhbmNlKHRlbXBsYXRlIGFzIFRlbXBsYXRlLCB0aGlzKTtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gaW5zdGFuY2UuX2Nsb25lKHRoaXMub3B0aW9ucyk7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQnLFxuICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcnRzOiBpbnN0YW5jZS5fJHBhcnRzLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgaW5zdGFuY2UuX3VwZGF0ZSh2YWx1ZXMpO1xuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAndGVtcGxhdGUgaW5zdGFudGlhdGVkIGFuZCB1cGRhdGVkJyxcbiAgICAgICAgICB0ZW1wbGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJ0czogaW5zdGFuY2UuXyRwYXJ0cyxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgdmFsdWVzLFxuICAgICAgICB9KTtcbiAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gaW5zdGFuY2U7XG4gICAgfVxuICB9XG5cbiAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGdldFRlbXBsYXRlKHJlc3VsdDogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgIGlmICh0ZW1wbGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0ZW1wbGF0ZUNhY2hlLnNldChyZXN1bHQuc3RyaW5ncywgKHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0SXRlcmFibGUodmFsdWU6IEl0ZXJhYmxlPHVua25vd24+KTogdm9pZCB7XG4gICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAvLyB2YWx1ZSB0byB0aGUgaXRlbS4gVGhpcyBpcyBhIGxpdHRsZSBiaXQgb2Ygb3ZlcmhlYWQgZm9yIGV2ZXJ5IGl0ZW0gaW5cbiAgICAvLyBhbiBJdGVyYWJsZSwgYnV0IGl0IGxldHMgdXMgcmVjdXJzZSBlYXNpbHkgYW5kIGVmZmljaWVudGx5IHVwZGF0ZSBBcnJheXNcbiAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAvLyBhcnJheS5tYXAoKGkpID0+IGh0bWxgJHtpfWApLCBieSByZXVzaW5nIGV4aXN0aW5nIFRlbXBsYXRlSW5zdGFuY2VzLlxuXG4gICAgLy8gSWYgdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAvLyBpdGVyYWJsZSBhbmQgdmFsdWUgd2lsbCBjb250YWluIHRoZSBDaGlsZFBhcnRzIGZyb20gdGhlIHByZXZpb3VzXG4gICAgLy8gcmVuZGVyLiBJZiB2YWx1ZSBpcyBub3QgYW4gYXJyYXksIGNsZWFyIHRoaXMgcGFydCBhbmQgbWFrZSBhIG5ld1xuICAgIC8vIGFycmF5IGZvciBDaGlsZFBhcnRzLlxuICAgIGlmICghaXNBcnJheSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpKSB7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBbXTtcbiAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgIH1cblxuICAgIC8vIExldHMgdXMga2VlcCB0cmFjayBvZiBob3cgbWFueSBpdGVtcyB3ZSBzdGFtcGVkIHNvIHdlIGNhbiBjbGVhciBsZWZ0b3ZlclxuICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQ2hpbGRQYXJ0W107XG4gICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgbGV0IGl0ZW1QYXJ0OiBDaGlsZFBhcnQgfCB1bmRlZmluZWQ7XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpIHtcbiAgICAgIGlmIChwYXJ0SW5kZXggPT09IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gSWYgbm8gZXhpc3RpbmcgcGFydCwgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogdGVzdCBwZXJmIGltcGFjdCBvZiBhbHdheXMgY3JlYXRpbmcgdHdvIHBhcnRzXG4gICAgICAgIC8vIGluc3RlYWQgb2Ygc2hhcmluZyBwYXJ0cyBiZXR3ZWVuIG5vZGVzXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9saXQvbGl0L2lzc3Vlcy8xMjY2XG4gICAgICAgIGl0ZW1QYXJ0cy5wdXNoKFxuICAgICAgICAgIChpdGVtUGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLFxuICAgICAgICAgICAgdGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnNcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICBpdGVtUGFydCA9IGl0ZW1QYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgaXRlbVBhcnQuXyRzZXRWYWx1ZShpdGVtKTtcbiAgICAgIHBhcnRJbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChwYXJ0SW5kZXggPCBpdGVtUGFydHMubGVuZ3RoKSB7XG4gICAgICAvLyBpdGVtUGFydHMgYWx3YXlzIGhhdmUgZW5kIG5vZGVzXG4gICAgICB0aGlzLl8kY2xlYXIoXG4gICAgICAgIGl0ZW1QYXJ0ICYmIHdyYXAoaXRlbVBhcnQuXyRlbmROb2RlISkubmV4dFNpYmxpbmcsXG4gICAgICAgIHBhcnRJbmRleFxuICAgICAgKTtcbiAgICAgIC8vIFRydW5jYXRlIHRoZSBwYXJ0cyBhcnJheSBzbyBfdmFsdWUgcmVmbGVjdHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgIGl0ZW1QYXJ0cy5sZW5ndGggPSBwYXJ0SW5kZXg7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIG5vZGVzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBQYXJ0IGZyb20gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHN0YXJ0IFN0YXJ0IG5vZGUgdG8gY2xlYXIgZnJvbSwgZm9yIGNsZWFyaW5nIGEgc3Vic2V0IG9mIHRoZSBwYXJ0J3NcbiAgICogICAgIERPTSAodXNlZCB3aGVuIHRydW5jYXRpbmcgaXRlcmFibGVzKVxuICAgKiBAcGFyYW0gZnJvbSAgV2hlbiBgc3RhcnRgIGlzIHNwZWNpZmllZCwgdGhlIGluZGV4IHdpdGhpbiB0aGUgaXRlcmFibGUgZnJvbVxuICAgKiAgICAgd2hpY2ggQ2hpbGRQYXJ0cyBhcmUgYmVpbmcgcmVtb3ZlZCwgdXNlZCBmb3IgZGlzY29ubmVjdGluZyBkaXJlY3RpdmVzIGluXG4gICAqICAgICB0aG9zZSBQYXJ0cy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNsZWFyKFxuICAgIHN0YXJ0OiBDaGlsZE5vZGUgfCBudWxsID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyxcbiAgICBmcm9tPzogbnVtYmVyXG4gICkge1xuICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGZhbHNlLCB0cnVlLCBmcm9tKTtcbiAgICB3aGlsZSAoc3RhcnQgJiYgc3RhcnQgIT09IHRoaXMuXyRlbmROb2RlKSB7XG4gICAgICBjb25zdCBuID0gd3JhcChzdGFydCEpLm5leHRTaWJsaW5nO1xuICAgICAgKHdyYXAoc3RhcnQhKSBhcyBFbGVtZW50KS5yZW1vdmUoKTtcbiAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEltcGxlbWVudGF0aW9uIG9mIFJvb3RQYXJ0J3MgYGlzQ29ubmVjdGVkYC4gTm90ZSB0aGF0IHRoaXMgbWV0aG9kXG4gICAqIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBgUm9vdFBhcnRgcyAodGhlIGBDaGlsZFBhcnRgIHJldHVybmVkIGZyb20gYVxuICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgKiBAcGFyYW0gaXNDb25uZWN0ZWQgV2hldGhlciB0byBzZXRcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRDb25uZWN0ZWQoaXNDb25uZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5fJHBhcmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9faXNDb25uZWN0ZWQgPSBpc0Nvbm5lY3RlZDtcbiAgICAgIHRoaXMuXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZD8uKGlzQ29ubmVjdGVkKTtcbiAgICB9IGVsc2UgaWYgKERFVl9NT0RFKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdwYXJ0LnNldENvbm5lY3RlZCgpIG1heSBvbmx5IGJlIGNhbGxlZCBvbiBhICcgK1xuICAgICAgICAgICdSb290UGFydCByZXR1cm5lZCBmcm9tIHJlbmRlcigpLidcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSB0b3AtbGV2ZWwgYENoaWxkUGFydGAgcmV0dXJuZWQgZnJvbSBgcmVuZGVyYCB0aGF0IG1hbmFnZXMgdGhlIGNvbm5lY3RlZFxuICogc3RhdGUgb2YgYEFzeW5jRGlyZWN0aXZlYHMgY3JlYXRlZCB0aHJvdWdob3V0IHRoZSB0cmVlIGJlbG93IGl0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJvb3RQYXJ0IGV4dGVuZHMgQ2hpbGRQYXJ0IHtcbiAgLyoqXG4gICAqIFNldHMgdGhlIGNvbm5lY3Rpb24gc3RhdGUgZm9yIGBBc3luY0RpcmVjdGl2ZWBzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyByb290XG4gICAqIENoaWxkUGFydC5cbiAgICpcbiAgICogbGl0LWh0bWwgZG9lcyBub3QgYXV0b21hdGljYWxseSBtb25pdG9yIHRoZSBjb25uZWN0ZWRuZXNzIG9mIERPTSByZW5kZXJlZDtcbiAgICogYXMgc3VjaCwgaXQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBjYWxsZXIgdG8gYHJlbmRlcmAgdG8gZW5zdXJlIHRoYXRcbiAgICogYHBhcnQuc2V0Q29ubmVjdGVkKGZhbHNlKWAgaXMgY2FsbGVkIGJlZm9yZSB0aGUgcGFydCBvYmplY3QgaXMgcG90ZW50aWFsbHlcbiAgICogZGlzY2FyZGVkLCB0byBlbnN1cmUgdGhhdCBgQXN5bmNEaXJlY3RpdmVgcyBoYXZlIGEgY2hhbmNlIHRvIGRpc3Bvc2Ugb2ZcbiAgICogYW55IHJlc291cmNlcyBiZWluZyBoZWxkLiBJZiBhIGBSb290UGFydGAgdGhhdCB3YXMgcHJldmlvdXNseVxuICAgKiBkaXNjb25uZWN0ZWQgaXMgc3Vic2VxdWVudGx5IHJlLWNvbm5lY3RlZCAoYW5kIGl0cyBgQXN5bmNEaXJlY3RpdmVgcyBzaG91bGRcbiAgICogcmUtY29ubmVjdCksIGBzZXRDb25uZWN0ZWQodHJ1ZSlgIHNob3VsZCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIGRpcmVjdGl2ZXMgd2l0aGluIHRoaXMgdHJlZSBzaG91bGQgYmUgY29ubmVjdGVkXG4gICAqIG9yIG5vdFxuICAgKi9cbiAgc2V0Q29ubmVjdGVkKGlzQ29ubmVjdGVkOiBib29sZWFuKTogdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUge0F0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQXR0cmlidXRlUGFydCBpbXBsZW1lbnRzIERpc2Nvbm5lY3RhYmxlIHtcbiAgcmVhZG9ubHkgdHlwZTpcbiAgICB8IHR5cGVvZiBBVFRSSUJVVEVfUEFSVFxuICAgIHwgdHlwZW9mIFBST1BFUlRZX1BBUlRcbiAgICB8IHR5cGVvZiBCT09MRUFOX0FUVFJJQlVURV9QQVJUXG4gICAgfCB0eXBlb2YgRVZFTlRfUEFSVCA9IEFUVFJJQlVURV9QQVJUO1xuICByZWFkb25seSBlbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGF0dHJpYnV0ZSBwYXJ0IHJlcHJlc2VudHMgYW4gaW50ZXJwb2xhdGlvbiwgdGhpcyBjb250YWlucyB0aGVcbiAgICogc3RhdGljIHN0cmluZ3Mgb2YgdGhlIGludGVycG9sYXRpb24uIEZvciBzaW5nbGUtdmFsdWUsIGNvbXBsZXRlIGJpbmRpbmdzLFxuICAgKiB0aGlzIGlzIHVuZGVmaW5lZC5cbiAgICovXG4gIHJlYWRvbmx5IHN0cmluZ3M/OiBSZWFkb25seUFycmF5PHN0cmluZz47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5rbm93biB8IEFycmF5PHVua25vd24+ID0gbm90aGluZztcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfX2RpcmVjdGl2ZXM/OiBBcnJheTxEaXJlY3RpdmUgfCB1bmRlZmluZWQ+O1xuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBEaXNjb25uZWN0YWJsZTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuXG4gIHByb3RlY3RlZCBfc2FuaXRpemVyOiBWYWx1ZVNhbml0aXplciB8IHVuZGVmaW5lZDtcblxuICBnZXQgdGFnTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRhZ05hbWU7XG4gIH1cblxuICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgc3RyaW5nczogUmVhZG9ubHlBcnJheTxzdHJpbmc+LFxuICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUsXG4gICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmIChzdHJpbmdzLmxlbmd0aCA+IDIgfHwgc3RyaW5nc1swXSAhPT0gJycgfHwgc3RyaW5nc1sxXSAhPT0gJycpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5ldyBBcnJheShzdHJpbmdzLmxlbmd0aCAtIDEpLmZpbGwobmV3IFN0cmluZygpKTtcbiAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgfVxuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIHRoaXMuX3Nhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhpcyBwYXJ0IGJ5IHJlc29sdmluZyB0aGUgdmFsdWUgZnJvbSBwb3NzaWJseSBtdWx0aXBsZVxuICAgKiB2YWx1ZXMgYW5kIHN0YXRpYyBzdHJpbmdzIGFuZCBjb21taXR0aW5nIGl0IHRvIHRoZSBET00uXG4gICAqIElmIHRoaXMgcGFydCBpcyBzaW5nbGUtdmFsdWVkLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSB1bmRlZmluZWQsIGFuZCB0aGVcbiAgICogbWV0aG9kIHdpbGwgYmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgdmFsdWUgYXJndW1lbnQuIElmIHRoaXMgcGFydCBpc1xuICAgKiBtdWx0aS12YWx1ZSwgYHRoaXMuX3N0cmluZ3NgIHdpbGwgYmUgZGVmaW5lZCwgYW5kIHRoZSBtZXRob2QgaXMgY2FsbGVkXG4gICAqIHdpdGggdGhlIHZhbHVlIGFycmF5IG9mIHRoZSBwYXJ0J3Mgb3duaW5nIFRlbXBsYXRlSW5zdGFuY2UsIGFuZCBhbiBvZmZzZXRcbiAgICogaW50byB0aGUgdmFsdWUgYXJyYXkgZnJvbSB3aGljaCB0aGUgdmFsdWVzIHNob3VsZCBiZSByZWFkLlxuICAgKiBUaGlzIG1ldGhvZCBpcyBvdmVybG9hZGVkIHRoaXMgd2F5IHRvIGVsaW1pbmF0ZSBzaG9ydC1saXZlZCBhcnJheSBzbGljZXNcbiAgICogb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHZhbHVlcywgYW5kIGFsbG93IGEgZmFzdC1wYXRoIGZvciBzaW5nbGUtdmFsdWVkXG4gICAqIHBhcnRzLlxuICAgKlxuICAgKiBAcGFyYW0gdmFsdWUgVGhlIHBhcnQgdmFsdWUsIG9yIGFuIGFycmF5IG9mIHZhbHVlcyBmb3IgbXVsdGktdmFsdWVkIHBhcnRzXG4gICAqIEBwYXJhbSB2YWx1ZUluZGV4IHRoZSBpbmRleCB0byBzdGFydCByZWFkaW5nIHZhbHVlcyBmcm9tLiBgdW5kZWZpbmVkYCBmb3JcbiAgICogICBzaW5nbGUtdmFsdWVkIHBhcnRzXG4gICAqIEBwYXJhbSBub0NvbW1pdCBjYXVzZXMgdGhlIHBhcnQgdG8gbm90IGNvbW1pdCBpdHMgdmFsdWUgdG8gdGhlIERPTS4gVXNlZFxuICAgKiAgIGluIGh5ZHJhdGlvbiB0byBwcmltZSBhdHRyaWJ1dGUgcGFydHMgd2l0aCB0aGVpciBmaXJzdC1yZW5kZXJlZCB2YWx1ZSxcbiAgICogICBidXQgbm90IHNldCB0aGUgYXR0cmlidXRlLCBhbmQgaW4gU1NSIHRvIG5vLW9wIHRoZSBET00gb3BlcmF0aW9uIGFuZFxuICAgKiAgIGNhcHR1cmUgdGhlIHZhbHVlIGZvciBzZXJpYWxpemF0aW9uLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF8kc2V0VmFsdWUoXG4gICAgdmFsdWU6IHVua25vd24gfCBBcnJheTx1bmtub3duPixcbiAgICBkaXJlY3RpdmVQYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHRoaXMsXG4gICAgdmFsdWVJbmRleD86IG51bWJlcixcbiAgICBub0NvbW1pdD86IGJvb2xlYW5cbiAgKSB7XG4gICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcblxuICAgIC8vIFdoZXRoZXIgYW55IG9mIHRoZSB2YWx1ZXMgaGFzIGNoYW5nZWQsIGZvciBkaXJ0eS1jaGVja2luZ1xuICAgIGxldCBjaGFuZ2UgPSBmYWxzZTtcblxuICAgIGlmIChzdHJpbmdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIFNpbmdsZS12YWx1ZSBiaW5kaW5nIGNhc2VcbiAgICAgIHZhbHVlID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZSwgZGlyZWN0aXZlUGFyZW50LCAwKTtcbiAgICAgIGNoYW5nZSA9XG4gICAgICAgICFpc1ByaW1pdGl2ZSh2YWx1ZSkgfHxcbiAgICAgICAgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKTtcbiAgICAgIGlmIChjaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEludGVycG9sYXRpb24gY2FzZVxuICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWUgYXMgQXJyYXk8dW5rbm93bj47XG4gICAgICB2YWx1ZSA9IHN0cmluZ3NbMF07XG5cbiAgICAgIGxldCBpLCB2O1xuICAgICAgZm9yIChpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHYgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlc1t2YWx1ZUluZGV4ISArIGldLCBkaXJlY3RpdmVQYXJlbnQsIGkpO1xuXG4gICAgICAgIGlmICh2ID09PSBub0NoYW5nZSkge1xuICAgICAgICAgIC8vIElmIHRoZSB1c2VyLXByb3ZpZGVkIHZhbHVlIGlzIGBub0NoYW5nZWAsIHVzZSB0aGUgcHJldmlvdXMgdmFsdWVcbiAgICAgICAgICB2ID0gKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBBcnJheTx1bmtub3duPilbaV07XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlIHx8PVxuICAgICAgICAgICFpc1ByaW1pdGl2ZSh2KSB8fCB2ICE9PSAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXTtcbiAgICAgICAgaWYgKHYgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICB2YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICB2YWx1ZSArPSAodiA/PyAnJykgKyBzdHJpbmdzW2kgKyAxXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBhbHdheXMgcmVjb3JkIGVhY2ggdmFsdWUsIGV2ZW4gaWYgb25lIGlzIGBub3RoaW5nYCwgZm9yIGZ1dHVyZVxuICAgICAgICAvLyBjaGFuZ2UgZGV0ZWN0aW9uLlxuICAgICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXSA9IHY7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Nhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlID8/ICcnKTtcbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCBhdHRyaWJ1dGUnLFxuICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICh2YWx1ZSA/PyAnJykgYXMgc3RyaW5nXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7UHJvcGVydHlQYXJ0fTtcbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gUFJPUEVSVFlfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwoXG4gICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgICAncHJvcGVydHknXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgfVxuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHByb3BlcnR5JyxcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICh0aGlzLmVsZW1lbnQgYXMgYW55KVt0aGlzLm5hbWVdID0gdmFsdWUgPT09IG5vdGhpbmcgPyB1bmRlZmluZWQgOiB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSB7Qm9vbGVhbkF0dHJpYnV0ZVBhcnR9O1xuY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfY29tbWl0VmFsdWUodmFsdWU6IHVua25vd24pIHtcbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBib29sZWFuIGF0dHJpYnV0ZScsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZTogISEodmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmcpLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICB9KTtcbiAgICAod3JhcCh0aGlzLmVsZW1lbnQpIGFzIEVsZW1lbnQpLnRvZ2dsZUF0dHJpYnV0ZShcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgICEhdmFsdWUgJiYgdmFsdWUgIT09IG5vdGhpbmdcbiAgICApO1xuICB9XG59XG5cbnR5cGUgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zID0gRXZlbnRMaXN0ZW5lck9yRXZlbnRMaXN0ZW5lck9iamVjdCAmXG4gIFBhcnRpYWw8QWRkRXZlbnRMaXN0ZW5lck9wdGlvbnM+O1xuXG4vKipcbiAqIEFuIEF0dHJpYnV0ZVBhcnQgdGhhdCBtYW5hZ2VzIGFuIGV2ZW50IGxpc3RlbmVyIHZpYSBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lci5cbiAqXG4gKiBUaGlzIHBhcnQgd29ya3MgYnkgYWRkaW5nIGl0c2VsZiBhcyB0aGUgZXZlbnQgbGlzdGVuZXIgb24gYW4gZWxlbWVudCwgdGhlblxuICogZGVsZWdhdGluZyB0byB0aGUgdmFsdWUgcGFzc2VkIHRvIGl0LiBUaGlzIHJlZHVjZXMgdGhlIG51bWJlciBvZiBjYWxscyB0b1xuICogYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaWYgdGhlIGxpc3RlbmVyIGNoYW5nZXMgZnJlcXVlbnRseSwgc3VjaCBhcyB3aGVuIGFuXG4gKiBpbmxpbmUgZnVuY3Rpb24gaXMgdXNlZCBhcyBhIGxpc3RlbmVyLlxuICpcbiAqIEJlY2F1c2UgZXZlbnQgb3B0aW9ucyBhcmUgcGFzc2VkIHdoZW4gYWRkaW5nIGxpc3RlbmVycywgd2UgbXVzdCB0YWtlIGNhc2VcbiAqIHRvIGFkZCBhbmQgcmVtb3ZlIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIgd2hlbiB0aGUgZXZlbnQgb3B0aW9ucyBjaGFuZ2UuXG4gKi9cbmV4cG9ydCB0eXBlIHtFdmVudFBhcnR9O1xuY2xhc3MgRXZlbnRQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBFVkVOVF9QQVJUO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz4sXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHN1cGVyKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucyk7XG5cbiAgICBpZiAoREVWX01PREUgJiYgdGhpcy5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEEgXFxgPCR7ZWxlbWVudC5sb2NhbE5hbWV9PlxcYCBoYXMgYSBcXGBAJHtuYW1lfT0uLi5cXGAgbGlzdGVuZXIgd2l0aCBgICtcbiAgICAgICAgICAnaW52YWxpZCBjb250ZW50LiBFdmVudCBsaXN0ZW5lcnMgaW4gdGVtcGxhdGVzIG11c3QgaGF2ZSBleGFjdGx5ICcgK1xuICAgICAgICAgICdvbmUgZXhwcmVzc2lvbiBhbmQgbm8gc3Vycm91bmRpbmcgdGV4dC4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2ZW50UGFydCBkb2VzIG5vdCB1c2UgdGhlIGJhc2UgXyRzZXRWYWx1ZS9fcmVzb2x2ZVZhbHVlIGltcGxlbWVudGF0aW9uXG4gIC8vIHNpbmNlIHRoZSBkaXJ0eSBjaGVja2luZyBpcyBtb3JlIGNvbXBsZXhcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBvdmVycmlkZSBfJHNldFZhbHVlKFxuICAgIG5ld0xpc3RlbmVyOiB1bmtub3duLFxuICAgIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpc1xuICApIHtcbiAgICBuZXdMaXN0ZW5lciA9XG4gICAgICByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIG5ld0xpc3RlbmVyLCBkaXJlY3RpdmVQYXJlbnQsIDApID8/IG5vdGhpbmc7XG4gICAgaWYgKG5ld0xpc3RlbmVyID09PSBub0NoYW5nZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZTtcblxuICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90aGluZyBvciBhbnkgb3B0aW9ucyBjaGFuZ2Ugd2UgaGF2ZSB0byByZW1vdmUgdGhlXG4gICAgLy8gcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID1cbiAgICAgIChuZXdMaXN0ZW5lciA9PT0gbm90aGluZyAmJiBvbGRMaXN0ZW5lciAhPT0gbm90aGluZykgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLmNhcHR1cmUgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLmNhcHR1cmUgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLm9uY2UgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLm9uY2UgfHxcbiAgICAgIChuZXdMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLnBhc3NpdmUgIT09XG4gICAgICAgIChvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMpLnBhc3NpdmU7XG5cbiAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdCBub3RoaW5nIGFuZCB3ZSByZW1vdmVkIHRoZSBsaXN0ZW5lciwgd2UgaGF2ZVxuICAgIC8vIHRvIGFkZCB0aGUgcGFydCBhcyBhIGxpc3RlbmVyLlxuICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID1cbiAgICAgIG5ld0xpc3RlbmVyICE9PSBub3RoaW5nICYmXG4gICAgICAob2xkTGlzdGVuZXIgPT09IG5vdGhpbmcgfHwgc2hvdWxkUmVtb3ZlTGlzdGVuZXIpO1xuXG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgZXZlbnQgbGlzdGVuZXInLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWU6IG5ld0xpc3RlbmVyLFxuICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHJlbW92ZUxpc3RlbmVyOiBzaG91bGRSZW1vdmVMaXN0ZW5lcixcbiAgICAgICAgYWRkTGlzdGVuZXI6IHNob3VsZEFkZExpc3RlbmVyLFxuICAgICAgICBvbGRMaXN0ZW5lcixcbiAgICAgIH0pO1xuICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgdGhpcyxcbiAgICAgICAgb2xkTGlzdGVuZXIgYXMgRXZlbnRMaXN0ZW5lcldpdGhPcHRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkQWRkTGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudDogRXZlbnQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge0VsZW1lbnRQYXJ0fTtcbmNsYXNzIEVsZW1lbnRQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlID0gRUxFTUVOVF9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG5cbiAgLy8gVGhpcyBpcyB0byBlbnN1cmUgdGhhdCBldmVyeSBQYXJ0IGhhcyBhIF8kY29tbWl0dGVkVmFsdWVcbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5kZWZpbmVkO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQhOiBEaXNjb25uZWN0YWJsZTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZycsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExIIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWVsZW1lbnQsIHdoaWNoIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExIID0ge1xuICAvLyBVc2VkIGluIGxpdC1zc3JcbiAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgX21hcmtlcjogbWFya2VyLFxuICBfbWFya2VyTWF0Y2g6IG1hcmtlck1hdGNoLFxuICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICBfZ2V0VGVtcGxhdGVIdG1sOiBnZXRUZW1wbGF0ZUh0bWwsXG4gIC8vIFVzZWQgaW4gdGVzdHMgYW5kIHByaXZhdGUtc3NyLXN1cHBvcnRcbiAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gIF9pc0l0ZXJhYmxlOiBpc0l0ZXJhYmxlLFxuICBfcmVzb2x2ZURpcmVjdGl2ZTogcmVzb2x2ZURpcmVjdGl2ZSxcbiAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICBfQXR0cmlidXRlUGFydDogQXR0cmlidXRlUGFydCxcbiAgX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0OiBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICBfUHJvcGVydHlQYXJ0OiBQcm9wZXJ0eVBhcnQsXG4gIF9FbGVtZW50UGFydDogRWxlbWVudFBhcnQsXG59O1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oVGVtcGxhdGUsIENoaWxkUGFydCk7XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4oZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzMuMy4wJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICBpc3N1ZVdhcm5pbmchKFxuICAgICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICAgIGBNdWx0aXBsZSB2ZXJzaW9ucyBvZiBMaXQgbG9hZGVkLiBgICtcbiAgICAgICAgYExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgICApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW5kZXJzIGEgdmFsdWUsIHVzdWFsbHkgYSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCwgdG8gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgcmVuZGVycyB0aGUgdGV4dCBcIkhlbGxvLCBab2UhXCIgaW5zaWRlIGEgcGFyYWdyYXBoIHRhZywgYXBwZW5kaW5nXG4gKiBpdCB0byB0aGUgY29udGFpbmVyIGBkb2N1bWVudC5ib2R5YC5cbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdCc7XG4gKlxuICogY29uc3QgbmFtZSA9IFwiWm9lXCI7XG4gKiByZW5kZXIoaHRtbGA8cD5IZWxsbywgJHtuYW1lfSE8L3A+YCwgZG9jdW1lbnQuYm9keSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgQW55IFtyZW5kZXJhYmxlXG4gKiAgIHZhbHVlXShodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI2NoaWxkLWV4cHJlc3Npb25zKSxcbiAqICAgdHlwaWNhbGx5IGEge0BsaW5rY29kZSBUZW1wbGF0ZVJlc3VsdH0gY3JlYXRlZCBieSBldmFsdWF0aW5nIGEgdGVtcGxhdGUgdGFnXG4gKiAgIGxpa2Uge0BsaW5rY29kZSBodG1sfSBvciB7QGxpbmtjb2RlIHN2Z30uXG4gKiBAcGFyYW0gY29udGFpbmVyIEEgRE9NIGNvbnRhaW5lciB0byByZW5kZXIgdG8uIFRoZSBmaXJzdCByZW5kZXIgd2lsbCBhcHBlbmRcbiAqICAgdGhlIHJlbmRlcmVkIHZhbHVlIHRvIHRoZSBjb250YWluZXIsIGFuZCBzdWJzZXF1ZW50IHJlbmRlcnMgd2lsbFxuICogICBlZmZpY2llbnRseSB1cGRhdGUgdGhlIHJlbmRlcmVkIHZhbHVlIGlmIHRoZSBzYW1lIHJlc3VsdCB0eXBlIHdhc1xuICogICBwcmV2aW91c2x5IHJlbmRlcmVkIHRoZXJlLlxuICogQHBhcmFtIG9wdGlvbnMgU2VlIHtAbGlua2NvZGUgUmVuZGVyT3B0aW9uc30gZm9yIG9wdGlvbnMgZG9jdW1lbnRhdGlvbi5cbiAqIEBzZWVcbiAqIHtAbGluayBodHRwczovL2xpdC5kZXYvZG9jcy9saWJyYXJpZXMvc3RhbmRhbG9uZS10ZW1wbGF0ZXMvI3JlbmRlcmluZy1saXQtaHRtbC10ZW1wbGF0ZXN8IFJlbmRlcmluZyBMaXQgSFRNTCBUZW1wbGF0ZXN9XG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAoXG4gIHZhbHVlOiB1bmtub3duLFxuICBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudCxcbiAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbik6IFJvb3RQYXJ0ID0+IHtcbiAgaWYgKERFVl9NT0RFICYmIGNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgLy8gR2l2ZSBhIGNsZWFyZXIgZXJyb3IgbWVzc2FnZSB0aGFuXG4gICAgLy8gICAgIFVuY2F1Z2h0IFR5cGVFcnJvcjogQ2Fubm90IHJlYWQgcHJvcGVydGllcyBvZiBudWxsIChyZWFkaW5nXG4gICAgLy8gICAgICdfJGxpdFBhcnQkJylcbiAgICAvLyB3aGljaCByZWFkcyBsaWtlIGFuIGludGVybmFsIExpdCBlcnJvci5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvIG1heSBub3QgYmUgJHtjb250YWluZXJ9YCk7XG4gIH1cbiAgY29uc3QgcmVuZGVySWQgPSBERVZfTU9ERSA/IGRlYnVnTG9nUmVuZGVySWQrKyA6IDA7XG4gIGNvbnN0IHBhcnRPd25lck5vZGUgPSBvcHRpb25zPy5yZW5kZXJCZWZvcmUgPz8gY29udGFpbmVyO1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICBsZXQgcGFydDogQ2hpbGRQYXJ0ID0gKHBhcnRPd25lck5vZGUgYXMgYW55KVsnXyRsaXRQYXJ0JCddO1xuICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgZGVidWdMb2dFdmVudCh7XG4gICAgICBraW5kOiAnYmVnaW4gcmVuZGVyJyxcbiAgICAgIGlkOiByZW5kZXJJZCxcbiAgICAgIHZhbHVlLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIHBhcnQsXG4gICAgfSk7XG4gIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBlbmROb2RlID0gb3B0aW9ucz8ucmVuZGVyQmVmb3JlID8/IG51bGw7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIChwYXJ0T3duZXJOb2RlIGFzIGFueSlbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KFxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjcmVhdGVNYXJrZXIoKSwgZW5kTm9kZSksXG4gICAgICBlbmROb2RlLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgb3B0aW9ucyA/PyB7fVxuICAgICk7XG4gIH1cbiAgcGFydC5fJHNldFZhbHVlKHZhbHVlKTtcbiAgZGVidWdMb2dFdmVudCAmJlxuICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAga2luZDogJ2VuZCByZW5kZXInLFxuICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgdmFsdWUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBvcHRpb25zLFxuICAgICAgcGFydCxcbiAgICB9KTtcbiAgcmV0dXJuIHBhcnQgYXMgUm9vdFBhcnQ7XG59O1xuXG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gIHJlbmRlci5zZXRTYW5pdGl6ZXIgPSBzZXRTYW5pdGl6ZXI7XG4gIHJlbmRlci5jcmVhdGVTYW5pdGl6ZXIgPSBjcmVhdGVTYW5pdGl6ZXI7XG4gIGlmIChERVZfTU9ERSkge1xuICAgIHJlbmRlci5fdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPVxuICAgICAgX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlO1xuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmZ1bmN0aW9uKm8obyxmKXtpZih2b2lkIDAhPT1vKXtsZXQgaT0wO2Zvcihjb25zdCB0IG9mIG8peWllbGQgZih0LGkrKyl9fWV4cG9ydHtvIGFzIG1hcH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGl0ZXJhYmxlIGNvbnRhaW5pbmcgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGBmKHZhbHVlKWAgb24gZWFjaFxuICogdmFsdWUgaW4gYGl0ZW1zYC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiBodG1sYFxuICogICAgIDx1bD5cbiAqICAgICAgICR7bWFwKGl0ZW1zLCAoaSkgPT4gaHRtbGA8bGk+JHtpfTwvbGk+YCl9XG4gKiAgICAgPC91bD5cbiAqICAgYDtcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24qIG1hcDxUPihcbiAgaXRlbXM6IEl0ZXJhYmxlPFQ+IHwgdW5kZWZpbmVkLFxuICBmOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IHVua25vd25cbikge1xuICBpZiAoaXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGl0ZW1zKSB7XG4gICAgICB5aWVsZCBmKHZhbHVlLCBpKyspO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCByPShyLG8sdCk9Pntmb3IoY29uc3QgdCBvZiBvKWlmKHRbMF09PT1yKXJldHVybigwLHRbMV0pKCk7cmV0dXJuIHQ/LigpfTtleHBvcnR7ciBhcyBjaG9vc2V9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hvb3NlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogQ2hvb3NlcyBhbmQgZXZhbHVhdGVzIGEgdGVtcGxhdGUgZnVuY3Rpb24gZnJvbSBhIGxpc3QgYmFzZWQgb24gbWF0Y2hpbmdcbiAqIHRoZSBnaXZlbiBgdmFsdWVgIHRvIGEgY2FzZS5cbiAqXG4gKiBDYXNlcyBhcmUgc3RydWN0dXJlZCBhcyBgW2Nhc2VWYWx1ZSwgZnVuY11gLiBgdmFsdWVgIGlzIG1hdGNoZWQgdG9cbiAqIGBjYXNlVmFsdWVgIGJ5IHN0cmljdCBlcXVhbGl0eS4gVGhlIGZpcnN0IG1hdGNoIGlzIHNlbGVjdGVkLiBDYXNlIHZhbHVlc1xuICogY2FuIGJlIG9mIGFueSB0eXBlIGluY2x1ZGluZyBwcmltaXRpdmVzLCBvYmplY3RzLCBhbmQgc3ltYm9scy5cbiAqXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYSBzd2l0Y2ggc3RhdGVtZW50LCBidXQgYXMgYW4gZXhwcmVzc2lvbiBhbmQgd2l0aG91dFxuICogZmFsbHRocm91Z2guXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogcmVuZGVyKCkge1xuICogICByZXR1cm4gaHRtbGBcbiAqICAgICAke2Nob29zZSh0aGlzLnNlY3Rpb24sIFtcbiAqICAgICAgIFsnaG9tZScsICgpID0+IGh0bWxgPGgxPkhvbWU8L2gxPmBdLFxuICogICAgICAgWydhYm91dCcsICgpID0+IGh0bWxgPGgxPkFib3V0PC9oMT5gXVxuICogICAgIF0sXG4gKiAgICAgKCkgPT4gaHRtbGA8aDE+RXJyb3I8L2gxPmApfVxuICogICBgO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBjb25zdCBjaG9vc2UgPSA8VCwgViwgSyBleHRlbmRzIFQgPSBUPihcbiAgdmFsdWU6IFQsXG4gIGNhc2VzOiBBcnJheTxbSywgKCkgPT4gVl0+LFxuICBkZWZhdWx0Q2FzZT86ICgpID0+IFZcbikgPT4ge1xuICBmb3IgKGNvbnN0IGMgb2YgY2FzZXMpIHtcbiAgICBjb25zdCBjYXNlVmFsdWUgPSBjWzBdO1xuICAgIGlmIChjYXNlVmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICBjb25zdCBmbiA9IGNbMV07XG4gICAgICByZXR1cm4gZm4oKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRDYXNlPy4oKTtcbn07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmZ1bmN0aW9uIG4obixyLHQpe3JldHVybiBuP3Iobik6dD8uKG4pfWV4cG9ydHtuIGFzIHdoZW59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2hlbi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG50eXBlIEZhbHN5ID0gbnVsbCB8IHVuZGVmaW5lZCB8IGZhbHNlIHwgMCB8IC0wIHwgMG4gfCAnJztcblxuLyoqXG4gKiBXaGVuIGBjb25kaXRpb25gIGlzIHRydWUsIHJldHVybnMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIGB0cnVlQ2FzZSgpYCwgZWxzZVxuICogcmV0dXJucyB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGZhbHNlQ2FzZSgpYCBpZiBgZmFsc2VDYXNlYCBpcyBkZWZpbmVkLlxuICpcbiAqIFRoaXMgaXMgYSBjb252ZW5pZW5jZSB3cmFwcGVyIGFyb3VuZCBhIHRlcm5hcnkgZXhwcmVzc2lvbiB0aGF0IG1ha2VzIGl0IGFcbiAqIGxpdHRsZSBuaWNlciB0byB3cml0ZSBhbiBpbmxpbmUgY29uZGl0aW9uYWwgd2l0aG91dCBhbiBlbHNlLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIHJlbmRlcigpIHtcbiAqICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgJHt3aGVuKHRoaXMudXNlciwgKCkgPT4gaHRtbGBVc2VyOiAke3RoaXMudXNlci51c2VybmFtZX1gLCAoKSA9PiBodG1sYFNpZ24gSW4uLi5gKX1cbiAqICAgYDtcbiAqIH1cbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hlbjxDIGV4dGVuZHMgRmFsc3ksIFQsIEYgPSB1bmRlZmluZWQ+KFxuICBjb25kaXRpb246IEMsXG4gIHRydWVDYXNlOiAoYzogQykgPT4gVCxcbiAgZmFsc2VDYXNlPzogKGM6IEMpID0+IEZcbik6IEY7XG5leHBvcnQgZnVuY3Rpb24gd2hlbjxDLCBULCBGPihcbiAgY29uZGl0aW9uOiBDIGV4dGVuZHMgRmFsc3kgPyBuZXZlciA6IEMsXG4gIHRydWVDYXNlOiAoYzogQykgPT4gVCxcbiAgZmFsc2VDYXNlPzogKGM6IEMpID0+IEZcbik6IFQ7XG5leHBvcnQgZnVuY3Rpb24gd2hlbjxDLCBULCBGID0gdW5kZWZpbmVkPihcbiAgY29uZGl0aW9uOiBDLFxuICB0cnVlQ2FzZTogKGM6IEV4Y2x1ZGU8QywgRmFsc3k+KSA9PiBULFxuICBmYWxzZUNhc2U/OiAoYzogRXh0cmFjdDxDLCBGYWxzeT4pID0+IEZcbik6IEMgZXh0ZW5kcyBGYWxzeSA/IEYgOiBUO1xuZXhwb3J0IGZ1bmN0aW9uIHdoZW4oXG4gIGNvbmRpdGlvbjogdW5rbm93bixcbiAgdHJ1ZUNhc2U6IChjOiB1bmtub3duKSA9PiB1bmtub3duLFxuICBmYWxzZUNhc2U/OiAoYzogdW5rbm93bikgPT4gdW5rbm93blxuKTogdW5rbm93biB7XG4gIHJldHVybiBjb25kaXRpb24gPyB0cnVlQ2FzZShjb25kaXRpb24pIDogZmFsc2VDYXNlPy4oY29uZGl0aW9uKTtcbn1cbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbnR5cGUgQ3VzdG9tYXJ5TGlzdGVuZXIgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGV2ZW50OiBFdmVudCkgPT4gdm9pZDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX2FkZEV2ZW50SGFuZGxlcnNcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdFx0XHRjbGFzcyBNaXhpbl9hZGRFdmVudEhhbmRsZXJzX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdFx0XHRcdFx0c3VwZXIudXBkYXRlZD8uKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZXZlbnRzID1cblx0XHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcz8uZXZlbnRzO1xuXHRcdFx0XHRcdGlmICghZXZlbnRzKSByZXR1cm47XG5cblx0XHRcdFx0XHRpZiAoZXZlbnRzIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY3VzdG9tYXJ5RXZlbnQgb2YgZXZlbnRzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdG9yID0gY3VzdG9tYXJ5RXZlbnQuc2VsZWN0b3I7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHR5cGUgPSBjdXN0b21hcnlFdmVudC50eXBlO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBsaXN0ZW5lciA9IGN1c3RvbWFyeUV2ZW50Lmxpc3RlbmVyO1xuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZEV2ZW50SGFuZGxlcihzZWxlY3RvciwgdHlwZSwgbGlzdGVuZXIgYXMgYW55KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IFtzZWxlY3RvciwgbGlzdGVuZXJdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50cykpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgdHlwZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRFdmVudEhhbmRsZXIoc2VsZWN0b3IsIHR5cGUsIGxpc3RlbmVyIGFzIGFueSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cHJpdmF0ZSBhZGRFdmVudEhhbmRsZXIoXG5cdFx0XHRcdFx0XHRzZWxlY3Rvcjogc3RyaW5nIHwgdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0dHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuXHRcdFx0XHRcdFx0bGlzdGVuZXI6IEN1c3RvbWFyeUxpc3RlbmVyXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGlmICghc2VsZWN0b3IpIHtcblx0XHRcdFx0XHRcdHRoaXMuYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50OiBQYXJlbnROb2RlID0gdGhpcy5zaGFkb3dSb290ID8/IHRoaXM7XG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudHM6IE5vZGVMaXN0T2Y8RWxlbWVudD4gPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHByaXZhdGUgYWRkQ3VzdG9tRXZlbnRMaXN0ZW5lcihcblx0XHRcdFx0XHRcdGVsZW1lbnQ6IEVsZW1lbnQsXG5cdFx0XHRcdFx0XHR0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRsaXN0ZW5lcjogQ3VzdG9tYXJ5TGlzdGVuZXJcblx0XHRcdFx0KVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y29uc3QgbGlzdGVuZXJzOiBBcnJheTxDdXN0b21hcnlMaXN0ZW5lcj4gPVxuXHRcdFx0XHRcdFx0XHQoZWxlbWVudCBhcyBhbnkpLl9fY3VzdG9tYXJ5X2xpc3RlbmVycyA/Pz0gW107XG5cdFx0XHRcdFx0aWYgKGxpc3RlbmVycy5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZTtcblx0XHRcdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0XHRcdFx0XHRcdHR5cGUgPz9cblx0XHRcdFx0XHRcdFx0REVGQVVMVF9FVkVOVF9UWVBFU1t0YWdOYW1lXSA/P1xuXHRcdFx0XHRcdFx0XHQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCR7dGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCl9OiAke3RhZ05hbWV9IGVsZW1lbnRzYCArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgcmVxdWlyZSB5b3UgdG8gcHJvdmlkZSBhbiBldmVudCB0eXBlJyArXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCcgYmVjYXVzZSBDdXN0b21hcnkgaGFzIG5vdCBkZWZpbmVkIGEgZGVmYXVsdCB5ZXQnXG5cdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0fSkoKSxcblx0XHRcdFx0XHRcdFx0KGV2ZW50OiBFdmVudCkgPT4gbGlzdGVuZXIodGhpcywgZXZlbnQpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIE1peGluX2FkZEV2ZW50SGFuZGxlcnNfQ2xhc3M7XG5cdFx0fVxuXG5jb25zdCBERUZBVUxUX0VWRU5UX1RZUEVTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuXHQnQSc6ICdjbGljaycsXG5cdCdCVVRUT04nOiAnY2xpY2snLFxuXHQnRk9STSc6ICdzdWJtaXQnLFxuXHQnSU5QVVQnOiAnaW5wdXQnLFxuXHQnU0VMRUNUJzogJ2lucHV0Jyxcblx0J1RBQkxFJzogJ2NsaWNrJyxcblx0J1RFWFRBUkVBJzogJ2lucHV0Jyxcbn0iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fYWRvcHRTdHlsZVNoZWV0XG48VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdGNsYXNzIE1peGluX2Fkb3B0U3R5bGVTaGVldF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRvdmVycmlkZSBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IE1hcDxzdHJpbmcsIGFueT4pIHtcblx0XHRcdHN1cGVyLmZpcnN0VXBkYXRlZD8uKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdGNvbnN0IHtjc3NTdHlsZVNoZWV0fSA9IGRlZmluaXRpb247XG5cdFx0XHRpZiAoIWNzc1N0eWxlU2hlZXQpIHJldHVybjtcblxuXHRcdFx0Y29uc3QgYWRvcHRlcjogRG9jdW1lbnRPclNoYWRvd1Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3QgPz8gZG9jdW1lbnQ7XG5cdFx0XHRhZG9wdGVyLmFkb3B0ZWRTdHlsZVNoZWV0cy5wdXNoKGNzc1N0eWxlU2hlZXQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gTWl4aW5fYWRvcHRTdHlsZVNoZWV0X0NsYXNzO1xufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcblxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1xuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcblx0Y2xhc3MgTWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRcdG92ZXJyaWRlIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcgfCBudWxsLCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkge1xuXHRcdFx0c3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG5cblx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xuXG5cdFx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5kb20/LmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFja1xuXHRcdFx0XHRcdD8uKHRoaXMsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tfQ2xhc3M7XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fY29ubmVjdGVkXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fY29ubmVjdGVkX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0b3ZlcnJpZGUgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHRcdFx0c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2s/LigpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdFx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5saWZlY3ljbGU/LmNvbm5lY3RlZD8uKHRoaXMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gTWl4aW5fY29ubmVjdGVkX0NsYXNzO1xuXHRcdH1cbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9kaXNjb25uZWN0ZWRcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XG5cdFx0XHRjbGFzcyBNaXhpbl9kaXNjb25uZWN0ZWRfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblx0XHRcdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRcdFx0XHRvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdFx0XHRzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaz8uKCk7XG5cblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0XHRcdGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3M/LmxpZmVjeWNsZT8uZGlzY29ubmVjdGVkPy4odGhpcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl9kaXNjb25uZWN0ZWRfQ2xhc3M7XG5cdFx0fVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcblxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX2ZpcnN0VXBkYXRlZFxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcblx0XHRcdGNsYXNzIE1peGluX2ZpcnN0VXBkYXRlZF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0XHRcdHByb3RlY3RlZCBvdmVycmlkZSBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdFx0XHRcdFx0c3VwZXIuZmlyc3RVcGRhdGVkPy4oY2hhbmdlZFByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdFx0XHRjb25zdCB7bGlmZWN5Y2xlLCBjaGFuZ2VzfSA9IGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3MgPz8ge307XG5cblx0XHRcdFx0XHRsaWZlY3ljbGU/LmZpcnN0VXBkYXRlZD8uKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGlmIChjaGFuZ2VzIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qge25hbWUsIGZpcnN0VXBkYXRlZH0gPSBjaGFuZ2U7XG5cdFx0XHRcdFx0XHRcdGlmIChmaXJzdFVwZGF0ZWQgJiYgY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0Zmlyc3RVcGRhdGVkKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl9maXJzdFVwZGF0ZWRfQ2xhc3M7XG5cdFx0fVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge2Nob29zZSwgaHRtbCwgbWFwLCB3aGVufSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcbmltcG9ydCB7VW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBmcm9tIFwibGl0LWh0bWxcIjtcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIHJlbmRlcigpOiB1bmtub3duIHtcblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0XHRcdGNvbnN0IHRlbXBsYXRlUmVzdWx0OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQgPVxuXHRcdFx0XHRcdFx0XHRyZW5kZXJfbGl0X2h0bWxfVGVtcGxhdGVSZXN1bHQoXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5pbW11dGFibGVfaHRtbFN0cmluZyxcblx0XHRcdFx0XHRcdFx0XHRcdCh0aGlzIGFzIGFueSkuc3RhdGVcblx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdHRoaXMucmV1c2VfaW1tdXRhYmxlX1RlbXBsYXRlU3RyaW5nc0FycmF5KHRlbXBsYXRlUmVzdWx0KTtcblxuXHRcdFx0XHRcdHJldHVybiB0ZW1wbGF0ZVJlc3VsdDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHByaXZhdGUgcmV1c2VfaW1tdXRhYmxlX1RlbXBsYXRlU3RyaW5nc0FycmF5KFxuXHRcdFx0XHRcdFx0dGVtcGxhdGVSZXN1bHQ6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdFxuXHRcdFx0XHQpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb25zdCB0ZW1wbGF0ZVN0cmluZ3NBcnJheSA9IHRlbXBsYXRlUmVzdWx0LnN0cmluZ3M7XG5cblx0XHRcdFx0XHRpZiAoIXRoaXMuaW1tdXRhYmxlX3RlbXBsYXRlU3RyaW5nc0FycmF5KSB7XG5cdFx0XHRcdFx0XHR0aGlzLmltbXV0YWJsZV90ZW1wbGF0ZVN0cmluZ3NBcnJheSA9IHRlbXBsYXRlU3RyaW5nc0FycmF5O1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcGxhdGVTdHJpbmdzQXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmICh0ZW1wbGF0ZVN0cmluZ3NBcnJheVtpXSAhPT0gdGhpcy5pbW11dGFibGVfdGVtcGxhdGVTdHJpbmdzQXJyYXlbaV0pIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBcbk9yaWdpbmFsIGh0bWwgZmlyc3QgcmVnaXN0ZXJlZCBvbmx5IG9uY2UgZnJvbSBuYW1lZCB0ZW1wbGF0ZSB0YWcgaW4gcGFnZVxuKG9yIGZpcnN0IHJlZ2lzdGVyZWQgb25seSBvbmNlIGZyb20gZXh0ZXJuYWwgaHRtbCBmaWxlKVxuY291bGQgbm90IGhhdmUgcG9zc2libHkgY2hhbmdlZCBzdHJ1Y3R1cmUgaW5iZXR3ZWVuIGNhbGxzIHRvIHJlbmRlci4uLi4gdGFtcGVyaW5nPz9cbihzZWUgaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC8zOTg3KVxuYCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dGVtcGxhdGVSZXN1bHQuc3RyaW5ncyA9IHRoaXMuaW1tdXRhYmxlX3RlbXBsYXRlU3RyaW5nc0FycmF5O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cHJpdmF0ZSBpbW11dGFibGVfdGVtcGxhdGVTdHJpbmdzQXJyYXk6IFRlbXBsYXRlU3RyaW5nc0FycmF5IHwgdW5kZWZpbmVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlX0NsYXNzIGFzIFQ7XG5cdFx0fVxuXG4vKipcbiBsaXQgXCJodG1sXCIgaXMgYSB0YWcgZnVuY3Rpb24uXG4gYXQgcnVudGltZSwgdGhlIHRhZ2dlZCB0ZW1wbGF0ZSBjb21lcyBmcm9tIGh0bWxTdHJpbmcuXG4gb25seSBKUyBjb21waWxhdGlvbiBjYW4gcGFyc2UgdGhlIHRhZ2dlZCB0ZW1wbGF0ZSBpbnRvIGEgcHJvcGVyIGZ1bmN0aW9uIGNhbGwsXG4gc28gd2UgbmVlZCBKUyBjb21waWxhdGlvbiB0byBoYXBwZW4gYXQgcnVudGltZS5cbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9UZW1wbGF0ZV9saXRlcmFscyN0YWdnZWRfdGVtcGxhdGVzXG4qL1xuZnVuY3Rpb24gcmVuZGVyX2xpdF9odG1sX1RlbXBsYXRlUmVzdWx0KFxuXHRcdGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuXHRcdGh0bWxTdHJpbmc6IHN0cmluZyxcblx0XHRzdGF0ZTogYW55LFxuKTogVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0IHtcblx0Y29uc3QgdGhpc0FyZyA9IGVsZW1lbnQ7XG5cdGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKFxuXHRcdFx0J3N0YXRlJywgJ2h0bWwnLCAnbWFwJywgJ2Nob29zZScsICd3aGVuJyxcblx0XHRcdCdcInVzZSBzdHJpY3RcIjsgcmV0dXJuIGh0bWxcXGAnICsgaHRtbFN0cmluZyArICdcXGAnXG5cdCk7XG5cdHJldHVybiBmbi5jYWxsKHRoaXNBcmcsIHN0YXRlLCBodG1sLCBtYXAsIGNob29zZSwgd2hlbik7XG59XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xudHlwZSBQcm9wZXJ0eVZhbHVlcyA9IE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj47XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9zbG90Q2hhbmdlXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fc2xvdENoYW5nZV9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0XHRcdHByb3RlY3RlZCBvdmVycmlkZSBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG5cdFx0XHRcdFx0c3VwZXIuZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGNvbnN0IGVsZW1lbnQgPSB0aGlzO1xuXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZWxlbWVudCk7XG5cblx0XHRcdFx0XHRjb25zdCBzbG90Y2hhbmdlID1cblx0XHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcz8uc2xvdHM/LnNsb3RjaGFuZ2U7XG5cblx0XHRcdFx0XHRpZiAoIXNsb3RjaGFuZ2UpIHJldHVybjtcblxuXHRcdFx0XHRcdC8vIG9uIGZpcnN0IHJlbmRlciwgZXhlY3V0ZSBvbmNlIGZvciB0aGUgZmlyc3QgdGltZSB3aXRob3V0IGFuIGV2ZW50XG5cdFx0XHRcdFx0c2xvdGNoYW5nZShlbGVtZW50KTtcblxuXHRcdFx0XHRcdC8qXG5cdFx0XHRcdFx0aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjczMzI2MzUvc2xvdHMtZG9lcy1ub3Qtd29yay1vbi1hLWh0bWwtd2ViLWNvbXBvbmVudC13aXRob3V0LXNoYWRvdy1kb21cblx0XHRcdFx0XHQqL1xuXHRcdFx0XHRcdGVsZW1lbnQuc2hhZG93Um9vdCEuYWRkRXZlbnRMaXN0ZW5lcignc2xvdGNoYW5nZScsIGV2ZW50ID0+IHNsb3RjaGFuZ2UoZWxlbWVudCwgZXZlbnQpKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIE1peGluX3Nsb3RDaGFuZ2VfQ2xhc3M7XG5cdFx0fVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcblxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX3N0YXRlXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRjbGFzcyBNaXhpbl9zdGF0ZV9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdGNvbnN0cnVjdG9yKC4uLmFyZ3M6IGFueVtdKSB7XG5cdFx0XHRzdXBlcihhcmdzKTtcblxuXHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdGNvbnN0IHt2YWx1ZXN9ID0gZGVmaW5pdGlvbi5kZWNsYXJhdGlvbjtcblx0XHRcdGlmICghdmFsdWVzKSByZXR1cm47XG5cblx0XHRcdE9iamVjdC5hc3NpZ24odGhpcywgdmFsdWVzKTtcblx0XHR9XG5cblx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0c2V0U3RhdGUoc3RhdGVfb3JfZm46IGFueSkge1xuXHRcdFx0X3NldFN0YXRlKFxuXHRcdFx0XHRcdHN0YXRlX29yX2ZuLFxuXHRcdFx0XHRcdCgpID0+ICh0aGlzIGFzIGFueSkuc3RhdGUsXG5cdFx0XHRcdFx0c3RhdGUgPT4gKHRoaXMgYXMgYW55KS5zdGF0ZSA9IHN0YXRlXG5cdFx0XHQpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gTWl4aW5fc3RhdGVfQ2xhc3M7XG59XG5cbmZ1bmN0aW9uIF9zZXRTdGF0ZShzdGF0ZV9vcl9mbjogU3RhdGUsIGdldFN0YXRlRm46IEdldFN0YXRlRm4sIHNldFN0YXRlRm46IFNldFN0YXRlRm4pIHtcblx0aWYgKHN0YXRlX29yX2ZuID09PSBudWxsIHx8IHN0YXRlX29yX2ZuID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuXHRjb25zdCBfc3RhdGUgPSBnZXRTdGF0ZUZuKCk7XG5cblx0Y29uc3Qgc3RhdGUgPSBzdGF0ZV9vcl9mbiBpbnN0YW5jZW9mIEZ1bmN0aW9uXG5cdFx0XHQ/IHN0YXRlX29yX2ZuKF9zdGF0ZSlcblx0XHRcdDogc3RhdGVfb3JfZm47XG5cblx0c2V0U3RhdGVGbih0eXBlb2YgX3N0YXRlID09PSAnb2JqZWN0JyA/IHsuLi5fc3RhdGUsIC4uLnN0YXRlfSA6IHN0YXRlKTtcbn1cblxudHlwZSBTdGF0ZSA9IGFueTtcbnR5cGUgR2V0U3RhdGVGbiA9ICgpID0+IFN0YXRlO1xudHlwZSBTZXRTdGF0ZUZuID0gKHN0YXRlOiBTdGF0ZSkgPT4gU3RhdGU7XG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcbmltcG9ydCB7UHJvcGVydHlWYWx1ZXN9IGZyb20gXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xuXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xuXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fdXBkYXRlZFxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcblx0XHRcdGNsYXNzIE1peGluX3VwZGF0ZWRfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblx0XHRcdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xuXHRcdFx0XHRwcm90ZWN0ZWQgb3ZlcnJpZGUgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcblx0XHRcdFx0XHRzdXBlci51cGRhdGVkPy4oY2hhbmdlZFByb3BlcnRpZXMpO1xuXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XG5cblx0XHRcdFx0XHRjb25zdCB7bGlmZWN5Y2xlLCBjaGFuZ2VzfSA9IGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3MgPz8ge307XG5cblx0XHRcdFx0XHRsaWZlY3ljbGU/LnVwZGF0ZWQ/Lih0aGlzLCBjaGFuZ2VkUHJvcGVydGllcyk7XG5cblx0XHRcdFx0XHRpZiAoY2hhbmdlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHtuYW1lLCB1cGRhdGVkfSA9IGNoYW5nZTtcblx0XHRcdFx0XHRcdFx0aWYgKHVwZGF0ZWQgJiYgY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlZCh0aGlzLCAodGhpcyBhcyBhbnkpW25hbWVdLCBjaGFuZ2VkUHJvcGVydGllcy5nZXQobmFtZSkpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIGluIGNoYW5nZXMpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgdXBkYXRlZCA9IGNoYW5nZXNbbmFtZV07XG5cdFx0XHRcdFx0XHRcdGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVkKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl91cGRhdGVkX0NsYXNzO1xuXHRcdH1cbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlc30gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XG5cbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl93aWxsVXBkYXRlXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xuXHRcdFx0Y2xhc3MgTWl4aW5fd2lsbFVwZGF0ZV9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXG5cdFx0XHRcdHByb3RlY3RlZCBvdmVycmlkZSB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuXHRcdFx0XHRcdHN1cGVyLndpbGxVcGRhdGU/LihjaGFuZ2VkUHJvcGVydGllcyk7XG5cblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcblxuXHRcdFx0XHRcdGNvbnN0IHtsaWZlY3ljbGUsIGNoYW5nZXN9ID0gZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcyA/PyB7fTtcblxuXHRcdFx0XHRcdGxpZmVjeWNsZT8ud2lsbFVwZGF0ZT8uKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcblxuXHRcdFx0XHRcdGlmIChjaGFuZ2VzIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3Qge25hbWUsIHdpbGxVcGRhdGV9ID0gY2hhbmdlO1xuXHRcdFx0XHRcdFx0XHRpZiAod2lsbFVwZGF0ZSAmJiBjaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcblx0XHRcdFx0XHRcdFx0XHR3aWxsVXBkYXRlKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBNaXhpbl93aWxsVXBkYXRlX0NsYXNzO1xuXHRcdH1cbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJnbG9iYWxUaGlzIiwiTGl0RWxlbWVudCIsIlJlYWN0aXZlRWxlbWVudCIsImNvbnN0cnVjdG9yIiwidGhpcyIsInJlbmRlck9wdGlvbnMiLCJob3N0IiwiX19jaGlsZFBhcnQiLCJ1bmRlZmluZWQiLCJjcmVhdGVSZW5kZXJSb290IiwicmVuZGVyUm9vdCIsInN1cGVyIiwicmVuZGVyQmVmb3JlIiwiZmlyc3RDaGlsZCIsInVwZGF0ZSIsImNoYW5nZWRQcm9wZXJ0aWVzIiwidmFsdWUiLCJyZW5kZXIiLCJoYXNVcGRhdGVkIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWRDYWxsYmFjayIsInNldENvbm5lY3RlZCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwibm9DaGFuZ2UiLCJsaXRFbGVtZW50SHlkcmF0ZVN1cHBvcnQiLCJwb2x5ZmlsbFN1cHBvcnQiLCJsaXRFbGVtZW50UG9seWZpbGxTdXBwb3J0IiwiXyRMRSIsIl8kYXR0cmlidXRlVG9Qcm9wZXJ0eSIsImVsIiwibmFtZSIsIl8kY2hhbmdlZFByb3BlcnRpZXMiLCJsaXRFbGVtZW50VmVyc2lvbnMiLCJwdXNoIiwiaXMiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRQcm90b3R5cGVPZiIsIk9iamVjdCIsInRydXN0ZWRUeXBlcyIsImVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSIsImVtcHR5U2NyaXB0IiwicmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0IiwiSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSIsInByb3AiLCJfb2JqIiwiZGVmYXVsdENvbnZlcnRlciIsInRvQXR0cmlidXRlIiwidHlwZSIsIkJvb2xlYW4iLCJBcnJheSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tQXR0cmlidXRlIiwiZnJvbVZhbHVlIiwiTnVtYmVyIiwicGFyc2UiLCJlIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsIlN0cmluZyIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJ1c2VEZWZhdWx0IiwiaGFzQ2hhbmdlZCIsIlN5bWJvbCIsIm1ldGFkYXRhIiwibGl0UHJvcGVydHlNZXRhZGF0YSIsIldlYWtNYXAiLCJIVE1MRWxlbWVudCIsImFkZEluaXRpYWxpemVyIiwiaW5pdGlhbGl6ZXIiLCJfX3ByZXBhcmUiLCJfaW5pdGlhbGl6ZXJzIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiZmluYWxpemUiLCJfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCJrZXlzIiwiY3JlYXRlUHJvcGVydHkiLCJvcHRpb25zIiwic3RhdGUiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNyZWF0ZSIsIndyYXBwZWQiLCJlbGVtZW50UHJvcGVydGllcyIsInNldCIsIm5vQWNjZXNzb3IiLCJrZXkiLCJkZXNjcmlwdG9yIiwiZ2V0UHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0IiwidiIsIm9sZFZhbHVlIiwiY2FsbCIsInJlcXVlc3RVcGRhdGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0UHJvcGVydHlPcHRpb25zIiwic3VwZXJDdG9yIiwiTWFwIiwiZmluYWxpemVkIiwicHJvcHMiLCJwcm9wZXJ0aWVzIiwicHJvcEtleXMiLCJwIiwiYXR0ciIsIl9fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5IiwiZWxlbWVudFN0eWxlcyIsImZpbmFsaXplU3R5bGVzIiwic3R5bGVzIiwiaXNBcnJheSIsIlNldCIsImZsYXQiLCJJbmZpbml0eSIsInJldmVyc2UiLCJzIiwidW5zaGlmdCIsImdldENvbXBhdGlibGVTdHlsZSIsInRvTG93ZXJDYXNlIiwiX19pbnN0YW5jZVByb3BlcnRpZXMiLCJpc1VwZGF0ZVBlbmRpbmciLCJfX3JlZmxlY3RpbmdQcm9wZXJ0eSIsIl9faW5pdGlhbGl6ZSIsIl9fdXBkYXRlUHJvbWlzZSIsIlByb21pc2UiLCJyZXMiLCJlbmFibGVVcGRhdGluZyIsIl9fc2F2ZUluc3RhbmNlUHJvcGVydGllcyIsImZvckVhY2giLCJpIiwiYWRkQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJfX2NvbnRyb2xsZXJzIiwiYWRkIiwiaG9zdENvbm5lY3RlZCIsInJlbW92ZUNvbnRyb2xsZXIiLCJkZWxldGUiLCJpbnN0YW5jZVByb3BlcnRpZXMiLCJzaXplIiwic2hhZG93Um9vdCIsImF0dGFjaFNoYWRvdyIsInNoYWRvd1Jvb3RPcHRpb25zIiwiYWRvcHRTdHlsZXMiLCJjIiwiX3JlcXVlc3RlZFVwZGF0ZSIsImhvc3REaXNjb25uZWN0ZWQiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJfb2xkIiwiX19wcm9wZXJ0eVRvQXR0cmlidXRlIiwiYXR0clZhbHVlIiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY3RvciIsInByb3BOYW1lIiwiX19kZWZhdWx0VmFsdWVzIiwibmV3VmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJfJGNoYW5nZVByb3BlcnR5IiwiX19lbnF1ZXVlVXBkYXRlIiwiaW5pdGlhbGl6ZVZhbHVlIiwiaGFzIiwiX19yZWZsZWN0aW5nUHJvcGVydGllcyIsInJlamVjdCIsInJlc3VsdCIsInNjaGVkdWxlVXBkYXRlIiwicGVyZm9ybVVwZGF0ZSIsInNob3VsZFVwZGF0ZSIsIndpbGxVcGRhdGUiLCJob3N0VXBkYXRlIiwiX19tYXJrVXBkYXRlZCIsIl8kZGlkVXBkYXRlIiwiX2NoYW5nZWRQcm9wZXJ0aWVzIiwiaG9zdFVwZGF0ZWQiLCJmaXJzdFVwZGF0ZWQiLCJ1cGRhdGVkIiwidXBkYXRlQ29tcGxldGUiLCJnZXRVcGRhdGVDb21wbGV0ZSIsIm1vZGUiLCJyZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucyIsInN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cyIsIlNoYWRvd1Jvb3QiLCJTaGFkeUNTUyIsIm5hdGl2ZVNoYWRvdyIsIkRvY3VtZW50IiwiQ1NTU3R5bGVTaGVldCIsImNvbnN0cnVjdGlvblRva2VuIiwiY3NzVGFnQ2FjaGUiLCJDU1NSZXN1bHQiLCJjc3NUZXh0Iiwic3RyaW5ncyIsInNhZmVUb2tlbiIsIkVycm9yIiwiX3N0cmluZ3MiLCJzdHlsZVNoZWV0IiwiX3N0eWxlU2hlZXQiLCJjYWNoZWFibGUiLCJsZW5ndGgiLCJyZXBsYWNlU3luYyIsInRvU3RyaW5nIiwidW5zYWZlQ1NTIiwiY3NzIiwidmFsdWVzIiwicmVkdWNlIiwiYWNjIiwiaWR4IiwidGV4dEZyb21DU1NSZXN1bHQiLCJhZG9wdGVkU3R5bGVTaGVldHMiLCJtYXAiLCJzdHlsZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm5vbmNlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInNoZWV0IiwicnVsZSIsImNzc1J1bGVzIiwiY3NzUmVzdWx0RnJvbVN0eWxlU2hlZXQiLCJwb2xpY3kiLCJjcmVhdGVQb2xpY3kiLCJjcmVhdGVIVE1MIiwiYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCJtYXJrZXIiLCJNYXRoIiwicmFuZG9tIiwidG9GaXhlZCIsInNsaWNlIiwibWFya2VyTWF0Y2giLCJub2RlTWFya2VyIiwiZCIsImNyZWF0ZU1hcmtlciIsImNyZWF0ZUNvbW1lbnQiLCJpc1ByaW1pdGl2ZSIsImlzSXRlcmFibGUiLCJpdGVyYXRvciIsIlNQQUNFX0NIQVIiLCJ0ZXh0RW5kUmVnZXgiLCJjb21tZW50RW5kUmVnZXgiLCJjb21tZW50MkVuZFJlZ2V4IiwidGFnRW5kUmVnZXgiLCJSZWdFeHAiLCJzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCIsImRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4IiwicmF3VGV4dEVsZW1lbnQiLCJ0YWciLCJfJGxpdFR5cGUkIiwiaHRtbCIsInN2ZyIsIm1hdGhtbCIsImZvciIsIm5vdGhpbmciLCJ0ZW1wbGF0ZUNhY2hlIiwid2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsInRydXN0RnJvbVRlbXBsYXRlU3RyaW5nIiwidHNhIiwic3RyaW5nRnJvbVRTQSIsImdldFRlbXBsYXRlSHRtbCIsImwiLCJhdHRyTmFtZXMiLCJyYXdUZXh0RW5kUmVnZXgiLCJyZWdleCIsImF0dHJOYW1lIiwibWF0Y2giLCJhdHRyTmFtZUVuZEluZGV4IiwibGFzdEluZGV4IiwiZXhlYyIsInRlc3QiLCJlbmQiLCJzdGFydHNXaXRoIiwiVGVtcGxhdGUiLCJub2RlIiwicGFydHMiLCJub2RlSW5kZXgiLCJhdHRyTmFtZUluZGV4IiwicGFydENvdW50IiwiY3VycmVudE5vZGUiLCJjb250ZW50Iiwid3JhcHBlciIsInJlcGxhY2VXaXRoIiwiY2hpbGROb2RlcyIsIm5leHROb2RlIiwibm9kZVR5cGUiLCJoYXNBdHRyaWJ1dGVzIiwiZ2V0QXR0cmlidXRlTmFtZXMiLCJlbmRzV2l0aCIsInJlYWxOYW1lIiwic3RhdGljcyIsImdldEF0dHJpYnV0ZSIsInNwbGl0IiwibSIsImluZGV4IiwiUHJvcGVydHlQYXJ0IiwiQm9vbGVhbkF0dHJpYnV0ZVBhcnQiLCJFdmVudFBhcnQiLCJBdHRyaWJ1dGVQYXJ0IiwidGFnTmFtZSIsImFwcGVuZCIsImRhdGEiLCJpbmRleE9mIiwiX29wdGlvbnMiLCJpbm5lckhUTUwiLCJyZXNvbHZlRGlyZWN0aXZlIiwicGFydCIsInBhcmVudCIsImF0dHJpYnV0ZUluZGV4IiwiY3VycmVudERpcmVjdGl2ZSIsIl9fZGlyZWN0aXZlcyIsIl9fZGlyZWN0aXZlIiwibmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yIiwiXyRpbml0aWFsaXplIiwiXyRyZXNvbHZlIiwiVGVtcGxhdGVJbnN0YW5jZSIsInRlbXBsYXRlIiwiXyRwYXJ0cyIsIl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiIsIl8kdGVtcGxhdGUiLCJfJHBhcmVudCIsInBhcmVudE5vZGUiLCJfJGlzQ29ubmVjdGVkIiwiX2Nsb25lIiwiZnJhZ21lbnQiLCJjcmVhdGlvblNjb3BlIiwiaW1wb3J0Tm9kZSIsInBhcnRJbmRleCIsInRlbXBsYXRlUGFydCIsIkNoaWxkUGFydCIsIm5leHRTaWJsaW5nIiwiRWxlbWVudFBhcnQiLCJfdXBkYXRlIiwiXyRzZXRWYWx1ZSIsIl9faXNDb25uZWN0ZWQiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwiXyRjb21taXR0ZWRWYWx1ZSIsIl8kc3RhcnROb2RlIiwiXyRlbmROb2RlIiwiZGlyZWN0aXZlUGFyZW50IiwiXyRjbGVhciIsIl9jb21taXRUZXh0IiwiX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiX2NvbW1pdE5vZGUiLCJfY29tbWl0SXRlcmFibGUiLCJfaW5zZXJ0IiwiaW5zZXJ0QmVmb3JlIiwiY3JlYXRlVGV4dE5vZGUiLCJfJGdldFRlbXBsYXRlIiwiaCIsImluc3RhbmNlIiwiaXRlbVBhcnRzIiwiaXRlbVBhcnQiLCJpdGVtIiwic3RhcnQiLCJmcm9tIiwiXyRub3RpZnlDb25uZWN0aW9uQ2hhbmdlZCIsIm4iLCJyZW1vdmUiLCJlbGVtZW50IiwiZmlsbCIsInZhbHVlSW5kZXgiLCJub0NvbW1pdCIsImNoYW5nZSIsIl9jb21taXRWYWx1ZSIsInRvZ2dsZUF0dHJpYnV0ZSIsIm5ld0xpc3RlbmVyIiwib2xkTGlzdGVuZXIiLCJzaG91bGRSZW1vdmVMaXN0ZW5lciIsImNhcHR1cmUiLCJvbmNlIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVFdmVudCIsImV2ZW50IiwiXyRMSCIsIl9ib3VuZEF0dHJpYnV0ZVN1ZmZpeCIsIl9tYXJrZXIiLCJfbWFya2VyTWF0Y2giLCJfSFRNTF9SRVNVTFQiLCJfZ2V0VGVtcGxhdGVIdG1sIiwiX1RlbXBsYXRlSW5zdGFuY2UiLCJfaXNJdGVyYWJsZSIsIl9yZXNvbHZlRGlyZWN0aXZlIiwiX0NoaWxkUGFydCIsIl9BdHRyaWJ1dGVQYXJ0IiwiX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiX0V2ZW50UGFydCIsIl9Qcm9wZXJ0eVBhcnQiLCJfRWxlbWVudFBhcnQiLCJsaXRIdG1sUG9seWZpbGxTdXBwb3J0IiwibGl0SHRtbFZlcnNpb25zIiwiY29udGFpbmVyIiwicGFydE93bmVyTm9kZSIsIml0ZW1zIiwiZiIsImNob29zZSIsImNhc2VzIiwiZGVmYXVsdENhc2UiLCJmbiIsIndoZW4iLCJjb25kaXRpb24iLCJ0cnVlQ2FzZSIsImZhbHNlQ2FzZSJdLCJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tYXJ5Lm1qcy5tYXAifQ==
