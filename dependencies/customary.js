
function $parcel$export(e, n, v, s) {
  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});
}

function $parcel$exportWildcard(dest, source) {
  Object.keys(source).forEach(function(key) {
    if (key === 'default' || key === '__esModule' || Object.prototype.hasOwnProperty.call(dest, key)) {
      return;
    }

    Object.defineProperty(dest, key, {
      enumerable: true,
      get: function get() {
        return source[key];
      }
    });
  });

  return dest;
}

      var $parcel$global =
        typeof globalThis !== 'undefined'
          ? globalThis
          : typeof self !== 'undefined'
          ? self
          : typeof window !== 'undefined'
          ? window
          : typeof global !== 'undefined'
          ? global
          : {};
  
var $parcel$modules = {};
var $parcel$inits = {};

var parcelRequire = $parcel$global["parcelRequire94c2"];

if (parcelRequire == null) {
  parcelRequire = function(id) {
    if (id in $parcel$modules) {
      return $parcel$modules[id].exports;
    }
    if (id in $parcel$inits) {
      var init = $parcel$inits[id];
      delete $parcel$inits[id];
      var module = {id: id, exports: {}};
      $parcel$modules[id] = module;
      init.call(module.exports, module, module.exports);
      return module.exports;
    }
    var err = new Error("Cannot find module '" + id + "'");
    err.code = 'MODULE_NOT_FOUND';
    throw err;
  };

  parcelRequire.register = function register(id, init) {
    $parcel$inits[id] = init;
  };

  $parcel$global["parcelRequire94c2"] = parcelRequire;
}

var parcelRegister = parcelRequire.register;
parcelRegister("j8ZkJ", function(module, exports) {

$parcel$export(module.exports, "CSSStyleSheetImporter", () => CSSStyleSheetImporter);

var $gkqDl = parcelRequire("gkqDl");
class CSSStyleSheetImporter {
    fetchText;
    constructor(fetchText = (0, $gkqDl.FetchText_DOM_singleton)){
        this.fetchText = fetchText;
        this.importFn = getImportFn();
    }
    async getCSSStyleSheet(location) {
        if (this.importFn) return await this.importCSSStyleSheet(location, this.importFn);
        return await this.fetchCSSStyleSheet(location);
    }
    async importCSSStyleSheet(location, importFn) {
        console.debug('import: ' + location);
        try {
            const cssModule = await importFn(location);
            return cssModule.default;
        } catch (error) {
            console.error(error);
            return undefined;
        }
    }
    async fetchCSSStyleSheet(location) {
        const text = await this.fetchText.fetchText(location);
        const cssStyleSheet = new CSSStyleSheet({
            baseURL: location
        });
        return cssStyleSheet.replace(text);
    }
    importFn;
}
/**
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import/with
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules#loading_non-javascript_resources
 */ function getImportFn() {
    try {
        return eval('location => import(location, {with: {type: "css"}})');
    } catch (error) {
        if (error instanceof SyntaxError) return undefined;
        throw error;
    }
}

});
parcelRegister("gkqDl", function(module, exports) {

$parcel$export(module.exports, "FetchText_DOM_singleton", () => $961a8c3f5b2d4f3f$export$d763ec234f19c958);
class $961a8c3f5b2d4f3f$var$FetchText_DOM {
    async fetchText(input) {
        console.debug('fetch: ' + input);
        const response = await fetch(input);
        if (response.ok) return await response.text();
        throw new Error(response.statusText, {
            cause: response
        });
    }
}
const $961a8c3f5b2d4f3f$export$d763ec234f19c958 = new $961a8c3f5b2d4f3f$var$FetchText_DOM();

});


var $07201b47c5f8d57a$exports = {};

$parcel$export($07201b47c5f8d57a$exports, "Customary", () => $dc3eede01c452bc5$export$7d556906c4a5f4a7);
$parcel$export($07201b47c5f8d57a$exports, "CustomaryElement", () => $98d0f6a447871cb0$export$4a183080d2c522d7);
class $16878b9af4c78a4c$export$2bcc17fb5433cbbf {
    document;
    globalThis;
    constructor(document, globalThis){
        this.document = document;
        this.globalThis = globalThis;
    }
    detect() {
        return this.detectElementNames().map((name)=>this.detectDeclaration(name));
    }
    detectElementNames() {
        const attribute = 'data-customary-name';
        const fromDocument = [
            ...this.document.querySelectorAll(`template[${attribute}]`)
        ].map((template)=>template.getAttribute(attribute));
        const prefix = 'customary:';
        const fromGlobalScope = Object.keys(this.globalThis).filter((name)=>name.startsWith(prefix)).map((name)=>name.substring(prefix.length));
        return [
            ...new Set([
                ...fromDocument,
                ...fromGlobalScope
            ])
        ];
    }
    detectDeclaration(name) {
        const fromGlobalScope = this.globalThis[`customary:${name}`];
        const config = fromGlobalScope?.config;
        const hooks = fromGlobalScope?.hooks;
        const values = fromGlobalScope?.values ?? this.detectValues(name);
        return {
            name: name,
            ...config ? {
                config: config
            } : {},
            ...hooks ? {
                hooks: hooks
            } : {},
            ...values ? {
                values: values
            } : {}
        };
    }
    detectValues(name) {
        const elements = this.document.querySelectorAll(`script[type="application/json"][data-customary-name='${name}']`);
        if (elements.length === 0) return undefined;
        const result = {};
        for (const element of elements)if (element.textContent) {
            // TODO Require a key and retire default 'state'
            const key = element.getAttribute('data-customary-value') ?? 'state';
            result[key] = JSON.parse(element.textContent);
        }
        return result;
    }
}


function $a6578a6f2ac293b9$export$3452ba782587c66f(constructor) {
    return $a6578a6f2ac293b9$var$definition_property in constructor;
}
function $a6578a6f2ac293b9$export$5c2b83001c88ec5b(constructor, definition) {
    constructor[$a6578a6f2ac293b9$var$definition_property] = definition;
}
function $a6578a6f2ac293b9$export$6dac8c184f86ad18(element) {
    const constructor = element.constructor;
    return constructor[$a6578a6f2ac293b9$var$definition_property] ?? (()=>{
        throw new Error(`${constructor.name}: element never defined`);
    })();
}
const $a6578a6f2ac293b9$var$definition_property = 'customary_definition';



var $j8ZkJ = parcelRequire("j8ZkJ");

var $gkqDl = parcelRequire("gkqDl");
async function $4e2d6dbcb29ca5b9$export$4b9207a613bd5d70(...locations) {
    await new $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9(new (0, $j8ZkJ.CSSStyleSheetImporter)((0, $gkqDl.FetchText_DOM_singleton)), document).adoptCSSStylesheets(...locations);
}
class $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9 {
    cssStyleSheetImporter;
    document;
    constructor(cssStyleSheetImporter, document1){
        this.cssStyleSheetImporter = cssStyleSheetImporter;
        this.document = document1;
    }
    async adoptCSSStylesheets(...locations) {
        const cssStyleSheetsMaybe = await Promise.all(locations.map((location)=>this.cssStyleSheetImporter.getCSSStyleSheet(location)));
        const cssStyleSheets = cssStyleSheetsMaybe.filter((cssStyleSheet)=>!!cssStyleSheet);
        if (cssStyleSheets.length > 0) this.adoptedStyleSheets_push(cssStyleSheets);
    }
    /**
     * adopter of font stylesheets can only be the root document dom, not the shadow dom.
     * @see https://github.com/microsoft/vscode/issues/159877#issuecomment-1262843952
     * @see https://github.com/mdn/interactive-examples/issues/887#issuecomment-432606925
     */ adoptedStyleSheets_push(cssStyleSheets) {
        this.document.adoptedStyleSheets.push(...cssStyleSheets);
    }
}


class $ee240c89551fb5d5$export$403d1949f253139e {
    fetchText;
    cssStyleSheetImporter;
    options;
    constructor(fetchText, cssStyleSheetImporter, options){
        this.fetchText = fetchText;
        this.cssStyleSheetImporter = cssStyleSheetImporter;
        this.options = options;
    }
    async loadHtml() {
        const location = this.resolveResourceLocation('html');
        return await this.fetchText.fetchText(location);
    }
    async loadCssStyleSheet() {
        const location = this.resolveResourceLocation('css');
        return await this.cssStyleSheetImporter.getCSSStyleSheet(location);
    }
    resolveResourceLocation(extension) {
        return this.options.import_meta.resolve(`./${this.options.name}.${extension}`);
    }
}



var $gkqDl = parcelRequire("gkqDl");

var $j8ZkJ = parcelRequire("j8ZkJ");
function $47456e589c7ad4a8$export$992aa6859e31245f(tag, value, template) {
    try {
        tag.outerHTML = value;
    } catch (error) {
        const chrome = "Failed to set the 'outerHTML' property on 'Element': This element's parent is of type '#document-fragment', which is not an element node.";
        if (error.message === chrome) template.innerHTML = value;
    }
}


class $3537c214ed9d7da0$export$b61252e7516ffc98 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector('for--');
            if (!tag) return;
            this.hydrateTree(tag, template);
            const items = tag.getAttribute('items') ?? (()=>{
                throw Error('Attribute "items" is required for "for--" markup');
            })();
            const value = tag.getAttribute('value') ?? 'value';
            const index = tag.getAttribute('index');
            const args = index ? `(${value}, ${index})` : value;
            const body = tag.innerHTML;
            const directive = `\${map(${items}, ${args} => html\`${body}\`)}`;
            (0, $47456e589c7ad4a8$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}



class $c0c2800b010a729d$export$23d99f65732e27fa {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector('if--');
            if (!tag) return;
            this.hydrateTree(tag, template);
            const condition = tag.getAttribute('condition') ?? (()=>{
                throw Error('Attribute "condition" is required for "if--" markup');
            })();
            const trueElements = [
                ...tag.querySelectorAll(':scope > true--')
            ];
            if (trueElements.length > 1) throw Error('Only one "true--" is allowed for "if--" markup');
            const trueElement = trueElements[0];
            const falseElements = [
                ...tag.querySelectorAll(':scope > false--')
            ];
            if (falseElements.length > 1) throw Error('Only one "false--" is allowed for "if--" markup');
            const falseElement = falseElements[0];
            if (falseElement && !trueElement) throw Error('One "true" is required if "false" present for "if--" markup');
            const trueCase = `() => html\`${trueElement?.innerHTML ?? tag.innerHTML}\``;
            const falseCase = falseElement ? `, () => html\`${falseElement.innerHTML}\`` : '';
            const directive = `\${when(${condition}, ${trueCase}${falseCase})}`;
            (0, $47456e589c7ad4a8$export$992aa6859e31245f)(tag, directive, template);
        }
    }
}


class $816f2c49f27978b4$export$c49a946df578cf2c {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const markup = node.querySelector('inside--');
            if (!markup) return;
            this.hydrateTree(markup, template);
            const selectors = markup.getAttribute('target');
            if (!selectors) throw new Error('Attribute "target" is required for "inside--" markup');
            const target = node.querySelector(selectors);
            if (!target) throw new Error(`No element matching ${selectors}`);
            target.innerHTML = markup.innerHTML;
            markup.parentNode.removeChild(markup);
        }
    }
}



class $36eb67525e009378$export$24f96fec0f695157 {
    static hydrate(template) {
        this.hydrateTree(template.content, template);
    }
    static hydrateTree(node, template) {
        while(true){
            const tag = node.querySelector('switch--');
            if (!tag) return;
            this.hydrateTree(tag, template);
            const value = tag.getAttribute('value') ?? (()=>{
                throw Error('Attribute "value" is required for "switch--" markup');
            })();
            const cases = this.toCases([
                ...tag.querySelectorAll(':scope > case--')
            ]);
            const valueCases = cases.valueCases.join(',\n');
            const defaultCase = cases.defaultCase ? `,\n${cases.defaultCase}` : '';
            const directive = `\${choose(${value},\n[${valueCases}]${defaultCase})}`;
            (0, $47456e589c7ad4a8$export$992aa6859e31245f)(tag, directive, template);
        }
    }
    static toCases(cases) {
        if (cases.length === 0) throw Error('At least one "case--" is required for "choose--" markup');
        const defaultElements = cases.filter((caseElement)=>!caseElement.hasAttribute('value'));
        if (defaultElements.length > 1) throw Error('Only one default "case--" is allowed for "choose--" markup');
        const defaultElement = defaultElements[0];
        const defaultCase = `() => html\`${defaultElement?.innerHTML}\``;
        const valueElements = cases.filter((caseElement)=>caseElement.hasAttribute('value'));
        const valueCases = valueElements.map((caseElement)=>{
            const value = caseElement.getAttribute('value');
            return `['${value}', () => html\`${caseElement.innerHTML}\`]`;
        });
        return {
            valueCases: valueCases,
            defaultCase: defaultCase
        };
    }
}


class $aa0e73906d8c1d1f$export$d2f740e6c972cdb4 {
    static injectProperties(constructor, propertyDeclaration, names) {
        if (!names.length) return;
        const properties = constructor.properties ??= {};
        for (const key of names){
            if (key in properties) throw new Error(`${key}: property already exists.`);
            properties[key] = propertyDeclaration;
        }
    }
}


class $c3a8716eb65e2738$export$5168145dca66f61b {
    static addProperties(constructor, declaration, template) {
        const fromDeclaration = declaration.config?.attributes ?? [];
        const fromTemplate = template.getAttribute('data-customary-attributes')?.split(',').map((s)=>s.trim()) ?? [];
        const names = [
            ...new Set([
                ...fromDeclaration,
                ...fromTemplate
            ])
        ];
        (0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, {
            reflect: true
        }, names);
    }
}



class $0fe9377839455810$export$a9f1901adeec51a7 {
    static addProperties(constructor, declaration) {
        const fromDeclaration = declaration.config?.state ?? [];
        const fromLegacy = [
            'state'
        ];
        const names = [
            ...new Set([
                ...fromDeclaration,
                ...fromLegacy
            ])
        ];
        (0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, {
            state: true
        }, names);
    }
}



class $240403f5828ff7e8$export$61ef374d05bfb1e {
    static addProperties(constructor, declaration) {
        const hooks = declaration.hooks?.properties;
        const hooksArray = hooks instanceof Array ? hooks : [];
        const hooksRecord = hooks && !(hooks instanceof Array) ? hooks : {};
        const fromArray = hooksArray.map((o)=>o.name);
        const fromRecord = Object.keys(hooksRecord);
        const names = [
            ...new Set([
                ...fromArray,
                ...fromRecord
            ])
        ];
        for (const key of names)(0, $aa0e73906d8c1d1f$export$d2f740e6c972cdb4).injectProperties(constructor, hooksArray.find((value)=>value.name === key)?.propertyDeclaration ?? hooksRecord[key], [
            key
        ]);
    }
}


class $f83be5948bd06259$export$1d2219be11768641 {
    declaration;
    async define(constructor) {
        const [definition] = await Promise.all([
            this.buildDefinition(constructor),
            this.adopt_font_cssStyleSheets()
        ]);
        return definition;
    }
    async buildDefinition(constructor) {
        const { template: template, templateInDocument: templateInDocument } = await this.resolveHTMLTemplateElement(this.name);
        this.addProperties(constructor, template);
        const cssStyleSheet = templateInDocument ? undefined : await this.loadExternalCSSStyleSheet();
        return {
            immutable_htmlString: this.getHtmlString(template),
            ...cssStyleSheet ? {
                cssStyleSheet: cssStyleSheet
            } : {},
            declaration: this.declaration
        };
    }
    async resolveHTMLTemplateElement(name) {
        try {
            const templateInDocument = $f83be5948bd06259$var$findHTMLTemplateElement(name, document);
            if (templateInDocument) return {
                template: templateInDocument,
                templateInDocument: templateInDocument
            };
            const templateInExternalFile = await this.findHTMLTemplateElementInExternalFile(name);
            return {
                template: templateInExternalFile,
                templateInDocument: undefined
            };
        } catch (error) {
            throw new Error('template unresolvable from current page or external html', {
                cause: error
            });
        }
    }
    addProperties(constructor, template) {
        (0, $c3a8716eb65e2738$export$5168145dca66f61b).addProperties(constructor, this.declaration, template);
        (0, $0fe9377839455810$export$a9f1901adeec51a7).addProperties(constructor, this.declaration);
        (0, $240403f5828ff7e8$export$61ef374d05bfb1e).addProperties(constructor, this.declaration);
    }
    getHtmlString(template) {
        (0, $3537c214ed9d7da0$export$b61252e7516ffc98).hydrate(template);
        (0, $c0c2800b010a729d$export$23d99f65732e27fa).hydrate(template);
        (0, $36eb67525e009378$export$24f96fec0f695157).hydrate(template);
        // must be last to accommodate all other directives
        (0, $816f2c49f27978b4$export$c49a946df578cf2c).hydrate(template);
        return $f83be5948bd06259$var$recode(template.innerHTML);
    }
    async findHTMLTemplateElementInExternalFile(name) {
        const htmlString = await this.loadExternalHtml();
        const template = document.createElement('template');
        template.innerHTML = htmlString;
        return $f83be5948bd06259$var$findHTMLTemplateElement(name, template.content) ?? template;
    }
    async loadExternalHtml() {
        try {
            return await (await this.externalLoader).loadHtml();
        } catch (error) {
            throw new Error('External html file out of reach.', {
                cause: error
            });
        }
    }
    async loadExternalCSSStyleSheet() {
        if (this.declaration.hooks?.externalLoader?.css_dont) return undefined;
        try {
            return await (await this.externalLoader).loadCssStyleSheet();
        } catch (error) {
            console.debug('External css file out of reach.', {
                cause: error
            });
            return undefined;
        }
    }
    async adopt_font_cssStyleSheets() {
        const locations = ((a)=>a.length > 0 ? a : undefined)([
            this.declaration.config?.define?.fontLocation,
            ...this.declaration.config?.define?.fontLocations ?? []
        ].filter((location)=>location != undefined));
        if (!locations) return;
        return await (await this.cssStyleSheetAdopter).adoptCSSStylesheets(...locations);
    }
    constructor(declaration){
        this.declaration = declaration;
        this.name = this.declaration.name;
    }
    name;
    get cssStyleSheetImporter() {
        return this._cssStyleSheetImporter ??= $f83be5948bd06259$var$loadCssStyleSheetImporter(this.fetchText);
    }
    _cssStyleSheetImporter;
    get cssStyleSheetAdopter() {
        return this._cssStyleSheetAdopter ??= $f83be5948bd06259$var$loadCssStyleSheetAdopter(this.cssStyleSheetImporter);
    }
    _cssStyleSheetAdopter;
    get externalLoader() {
        return this._externalLoader ??= $f83be5948bd06259$var$createExternalLoader(this.fetchText, this.cssStyleSheetImporter, {
            name: this.name,
            import_meta: this.get_import_meta()
        });
    }
    get_import_meta() {
        return this.declaration.hooks?.externalLoader?.import_meta ?? (()=>{
            throw new Error(`${this.name}: Customary needs "import.meta" if the custom element template ` + 'is to be loaded from an external file. ' + '(document did not have a named template element, and an html string was not provided.)');
        })();
    }
    _externalLoader;
    get fetchText() {
        return this._fetchText ??= $f83be5948bd06259$var$loadFetchText();
    }
    _fetchText;
}
async function $f83be5948bd06259$var$loadCssStyleSheetAdopter(cssStyleSheetImporter) {
    return new (0, $4e2d6dbcb29ca5b9$export$56c3e47a265c90f9)(await cssStyleSheetImporter, document);
}
async function $f83be5948bd06259$var$loadCssStyleSheetImporter(fetchText) {
    return new (0, $j8ZkJ.CSSStyleSheetImporter)(await fetchText);
}
async function $f83be5948bd06259$var$createExternalLoader(fetchText, cssStyleSheetImporter, options) {
    return new (0, $ee240c89551fb5d5$export$403d1949f253139e)(await fetchText, await cssStyleSheetImporter, options);
}
async function $f83be5948bd06259$var$loadFetchText() {
    return 0, $gkqDl.FetchText_DOM_singleton;
}
function $f83be5948bd06259$var$findHTMLTemplateElement(name, node) {
    return node.querySelector(`template[data-customary-name='${name}']`) ?? undefined;
}
/**
 innerHTML encodes some characters used by lit directives
 so we must decode them back into the HTML string.
 over time the need to do this should disappear,
 as we add directive markup for a larger number of lit directives.
 */ function $f83be5948bd06259$var$recode(htmlString) {
    // lit directives expressed as arrow functions
    return htmlString.replaceAll('=&gt;', '=>');
}


const $d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END = false;
class $d29bea016259bab1$export$d37a9068d840d1de {
    dom_customElementRegistry;
    static singleton() {
        return $d29bea016259bab1$export$d37a9068d840d1de.CustomaryRegistry_singleton;
    }
    async declare(constructor, declaration) {
        if (!declaration.name) throw new Error('A name must be provided to define a custom element.');
        if (!$d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) {
            await this.define(constructor, declaration);
            return;
        }
        this.declarations.set(constructor, declaration);
    }
    async settle() {
        if (!$d29bea016259bab1$var$WAIT_TO_DEFINE_EVERYTHING_IN_THE_END) return;
        const entries = [
            ...this.declarations.entries()
        ];
        const promises = entries.map((entry)=>{
            const [constructor, declaration] = entry;
            return this.define(constructor, declaration);
        });
        await Promise.all(promises);
    }
    async untilDefined(constructor) {
        const name = constructor.customary?.name;
        if (name === undefined) throw new Error('Class must have the "customary" declaration with a "name" property.');
        return await this.dom_customElementRegistry.whenDefined(name);
    }
    async define(constructor, declaration) {
        if ((0, $a6578a6f2ac293b9$export$3452ba782587c66f)(constructor)) {
            console.debug(`${constructor.name}: element already defined, skipping...`);
            return;
        }
        const definition = await new (0, $f83be5948bd06259$export$1d2219be11768641)(declaration).define(constructor);
        (0, $a6578a6f2ac293b9$export$5c2b83001c88ec5b)(constructor, definition);
        this.dom_customElementRegistry.define(declaration.name, constructor, declaration.hooks?.dom?.define?.options);
    }
    constructor(dom_customElementRegistry){
        this.dom_customElementRegistry = dom_customElementRegistry;
        this.declarations = new Map();
    }
    declarations;
    static CustomaryRegistry_singleton = new $d29bea016259bab1$export$d37a9068d840d1de(customElements);
}


var $6b52b5e2005fdcd9$exports = {};

$parcel$export($6b52b5e2005fdcd9$exports, "LitElement", () => $d812c34aed91105d$export$3f2f9f5909897157);
$parcel$export($6b52b5e2005fdcd9$exports, "html", () => $34c890d2bba8533a$export$c0bb0b647f701bb5);
$parcel$export($6b52b5e2005fdcd9$exports, "map", () => $2df088f3943a4311$export$871de8747c9eaa88);
$parcel$export($6b52b5e2005fdcd9$exports, "choose", () => $36ba9077c37f6d69$export$7877a478dd30fd3d);
$parcel$export($6b52b5e2005fdcd9$exports, "when", () => $5114a2a7e9d58c35$export$a55877ca9db47377);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $8986b12aaba1663b$var$t = globalThis, $8986b12aaba1663b$export$b4d10f6001c083c2 = $8986b12aaba1663b$var$t.ShadowRoot && (void 0 === $8986b12aaba1663b$var$t.ShadyCSS || $8986b12aaba1663b$var$t.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, $8986b12aaba1663b$var$s = Symbol(), $8986b12aaba1663b$var$o = new WeakMap;
class $8986b12aaba1663b$export$505d1e8739bad805 {
    constructor(t, e, o){
        if (this._$cssResult$ = !0, o !== $8986b12aaba1663b$var$s) throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
        this.cssText = t, this.t = e;
    }
    get styleSheet() {
        let t = this.o;
        const s = this.t;
        if ($8986b12aaba1663b$export$b4d10f6001c083c2 && void 0 === t) {
            const e = void 0 !== s && 1 === s.length;
            e && (t = $8986b12aaba1663b$var$o.get(s)), void 0 === t && ((this.o = t = new CSSStyleSheet).replaceSync(this.cssText), e && $8986b12aaba1663b$var$o.set(s, t));
        }
        return t;
    }
    toString() {
        return this.cssText;
    }
}
const $8986b12aaba1663b$export$8d80f9cac07cdb3 = (t)=>new $8986b12aaba1663b$export$505d1e8739bad805("string" == typeof t ? t : t + "", void 0, $8986b12aaba1663b$var$s), $8986b12aaba1663b$export$dbf350e5966cf602 = (t, ...e)=>{
    const o = 1 === t.length ? t[0] : e.reduce((e, s, o)=>e + ((t)=>{
            if (!0 === t._$cssResult$) return t.cssText;
            if ("number" == typeof t) return t;
            throw Error("Value passed to 'css' function must be a 'css' function result: " + t + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
        })(s) + t[o + 1], t[0]);
    return new $8986b12aaba1663b$export$505d1e8739bad805(o, t, $8986b12aaba1663b$var$s);
}, $8986b12aaba1663b$export$2ca4a66ec4cecb90 = (s, o)=>{
    if ($8986b12aaba1663b$export$b4d10f6001c083c2) s.adoptedStyleSheets = o.map((t)=>t instanceof CSSStyleSheet ? t : t.styleSheet);
    else for (const e of o){
        const o = document.createElement("style"), n = $8986b12aaba1663b$var$t.litNonce;
        void 0 !== n && o.setAttribute("nonce", n), o.textContent = e.cssText, s.appendChild(o);
    }
}, $8986b12aaba1663b$export$ee69dfd951e24778 = $8986b12aaba1663b$export$b4d10f6001c083c2 ? (t)=>t : (t)=>t instanceof CSSStyleSheet ? ((t)=>{
        let e = "";
        for (const s of t.cssRules)e += s.cssText;
        return $8986b12aaba1663b$export$8d80f9cac07cdb3(e);
    })(t) : t;


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const { is: $03b44d016d05e4a8$var$i, defineProperty: $03b44d016d05e4a8$var$e, getOwnPropertyDescriptor: $03b44d016d05e4a8$var$r, getOwnPropertyNames: $03b44d016d05e4a8$var$h, getOwnPropertySymbols: $03b44d016d05e4a8$var$o, getPrototypeOf: $03b44d016d05e4a8$var$n } = Object, $03b44d016d05e4a8$var$a = globalThis, $03b44d016d05e4a8$var$c = $03b44d016d05e4a8$var$a.trustedTypes, $03b44d016d05e4a8$var$l = $03b44d016d05e4a8$var$c ? $03b44d016d05e4a8$var$c.emptyScript : "", $03b44d016d05e4a8$var$p = $03b44d016d05e4a8$var$a.reactiveElementPolyfillSupport, $03b44d016d05e4a8$var$d = (t, s)=>t, $03b44d016d05e4a8$export$7312b35fbf521afb = {
    toAttribute (t, s) {
        switch(s){
            case Boolean:
                t = t ? $03b44d016d05e4a8$var$l : null;
                break;
            case Object:
            case Array:
                t = null == t ? t : JSON.stringify(t);
        }
        return t;
    },
    fromAttribute (t, s) {
        let i = t;
        switch(s){
            case Boolean:
                i = null !== t;
                break;
            case Number:
                i = null === t ? null : Number(t);
                break;
            case Object:
            case Array:
                try {
                    i = JSON.parse(t);
                } catch (t) {
                    i = null;
                }
        }
        return i;
    }
}, $03b44d016d05e4a8$export$53a6892c50694894 = (t, s)=>!$03b44d016d05e4a8$var$i(t, s), $03b44d016d05e4a8$var$y = {
    attribute: !0,
    type: String,
    converter: $03b44d016d05e4a8$export$7312b35fbf521afb,
    reflect: !1,
    hasChanged: $03b44d016d05e4a8$export$53a6892c50694894
};
Symbol.metadata ??= Symbol("metadata"), $03b44d016d05e4a8$var$a.litPropertyMetadata ??= new WeakMap;
class $03b44d016d05e4a8$export$c7c07a37856565d extends HTMLElement {
    static addInitializer(t) {
        this._$Ei(), (this.l ??= []).push(t);
    }
    static get observedAttributes() {
        return this.finalize(), this._$Eh && [
            ...this._$Eh.keys()
        ];
    }
    static createProperty(t, s = $03b44d016d05e4a8$var$y) {
        if (s.state && (s.attribute = !1), this._$Ei(), this.elementProperties.set(t, s), !s.noAccessor) {
            const i = Symbol(), r = this.getPropertyDescriptor(t, i, s);
            void 0 !== r && $03b44d016d05e4a8$var$e(this.prototype, t, r);
        }
    }
    static getPropertyDescriptor(t, s, i) {
        const { get: e, set: h } = $03b44d016d05e4a8$var$r(this.prototype, t) ?? {
            get () {
                return this[s];
            },
            set (t) {
                this[s] = t;
            }
        };
        return {
            get () {
                return e?.call(this);
            },
            set (s) {
                const r = e?.call(this);
                h.call(this, s), this.requestUpdate(t, r, i);
            },
            configurable: !0,
            enumerable: !0
        };
    }
    static getPropertyOptions(t) {
        return this.elementProperties.get(t) ?? $03b44d016d05e4a8$var$y;
    }
    static _$Ei() {
        if (this.hasOwnProperty($03b44d016d05e4a8$var$d("elementProperties"))) return;
        const t = $03b44d016d05e4a8$var$n(this);
        t.finalize(), void 0 !== t.l && (this.l = [
            ...t.l
        ]), this.elementProperties = new Map(t.elementProperties);
    }
    static finalize() {
        if (this.hasOwnProperty($03b44d016d05e4a8$var$d("finalized"))) return;
        if (this.finalized = !0, this._$Ei(), this.hasOwnProperty($03b44d016d05e4a8$var$d("properties"))) {
            const t = this.properties, s = [
                ...$03b44d016d05e4a8$var$h(t),
                ...$03b44d016d05e4a8$var$o(t)
            ];
            for (const i of s)this.createProperty(i, t[i]);
        }
        const t = this[Symbol.metadata];
        if (null !== t) {
            const s = litPropertyMetadata.get(t);
            if (void 0 !== s) for (const [t, i] of s)this.elementProperties.set(t, i);
        }
        this._$Eh = new Map;
        for (const [t, s] of this.elementProperties){
            const i = this._$Eu(t, s);
            void 0 !== i && this._$Eh.set(i, t);
        }
        this.elementStyles = this.finalizeStyles(this.styles);
    }
    static finalizeStyles(s) {
        const i = [];
        if (Array.isArray(s)) {
            const e = new Set(s.flat(1 / 0).reverse());
            for (const s of e)i.unshift((0, $8986b12aaba1663b$export$ee69dfd951e24778)(s));
        } else void 0 !== s && i.push((0, $8986b12aaba1663b$export$ee69dfd951e24778)(s));
        return i;
    }
    static _$Eu(t, s) {
        const i = s.attribute;
        return !1 === i ? void 0 : "string" == typeof i ? i : "string" == typeof t ? t.toLowerCase() : void 0;
    }
    constructor(){
        super(), this._$Ep = void 0, this.isUpdatePending = !1, this.hasUpdated = !1, this._$Em = null, this._$Ev();
    }
    _$Ev() {
        this._$ES = new Promise((t)=>this.enableUpdating = t), this._$AL = new Map, this._$E_(), this.requestUpdate(), this.constructor.l?.forEach((t)=>t(this));
    }
    addController(t) {
        (this._$EO ??= new Set).add(t), void 0 !== this.renderRoot && this.isConnected && t.hostConnected?.();
    }
    removeController(t) {
        this._$EO?.delete(t);
    }
    _$E_() {
        const t = new Map, s = this.constructor.elementProperties;
        for (const i of s.keys())this.hasOwnProperty(i) && (t.set(i, this[i]), delete this[i]);
        t.size > 0 && (this._$Ep = t);
    }
    createRenderRoot() {
        const t = this.shadowRoot ?? this.attachShadow(this.constructor.shadowRootOptions);
        return (0, $8986b12aaba1663b$export$2ca4a66ec4cecb90)(t, this.constructor.elementStyles), t;
    }
    connectedCallback() {
        this.renderRoot ??= this.createRenderRoot(), this.enableUpdating(!0), this._$EO?.forEach((t)=>t.hostConnected?.());
    }
    enableUpdating(t) {}
    disconnectedCallback() {
        this._$EO?.forEach((t)=>t.hostDisconnected?.());
    }
    attributeChangedCallback(t, s, i) {
        this._$AK(t, i);
    }
    _$EC(t, s) {
        const i = this.constructor.elementProperties.get(t), e = this.constructor._$Eu(t, i);
        if (void 0 !== e && !0 === i.reflect) {
            const r = (void 0 !== i.converter?.toAttribute ? i.converter : $03b44d016d05e4a8$export$7312b35fbf521afb).toAttribute(s, i.type);
            this._$Em = t, null == r ? this.removeAttribute(e) : this.setAttribute(e, r), this._$Em = null;
        }
    }
    _$AK(t, s) {
        const i = this.constructor, e = i._$Eh.get(t);
        if (void 0 !== e && this._$Em !== e) {
            const t = i.getPropertyOptions(e), r = "function" == typeof t.converter ? {
                fromAttribute: t.converter
            } : void 0 !== t.converter?.fromAttribute ? t.converter : $03b44d016d05e4a8$export$7312b35fbf521afb;
            this._$Em = e, this[e] = r.fromAttribute(s, t.type), this._$Em = null;
        }
    }
    requestUpdate(t, s, i) {
        if (void 0 !== t) {
            if (i ??= this.constructor.getPropertyOptions(t), !(i.hasChanged ?? $03b44d016d05e4a8$export$53a6892c50694894)(this[t], s)) return;
            this.P(t, s, i);
        }
        !1 === this.isUpdatePending && (this._$ES = this._$ET());
    }
    P(t, s, i) {
        this._$AL.has(t) || this._$AL.set(t, s), !0 === i.reflect && this._$Em !== t && (this._$Ej ??= new Set).add(t);
    }
    async _$ET() {
        this.isUpdatePending = !0;
        try {
            await this._$ES;
        } catch (t) {
            Promise.reject(t);
        }
        const t = this.scheduleUpdate();
        return null != t && await t, !this.isUpdatePending;
    }
    scheduleUpdate() {
        return this.performUpdate();
    }
    performUpdate() {
        if (!this.isUpdatePending) return;
        if (!this.hasUpdated) {
            if (this.renderRoot ??= this.createRenderRoot(), this._$Ep) {
                for (const [t, s] of this._$Ep)this[t] = s;
                this._$Ep = void 0;
            }
            const t = this.constructor.elementProperties;
            if (t.size > 0) for (const [s, i] of t)!0 !== i.wrapped || this._$AL.has(s) || void 0 === this[s] || this.P(s, this[s], i);
        }
        let t = !1;
        const s = this._$AL;
        try {
            t = this.shouldUpdate(s), t ? (this.willUpdate(s), this._$EO?.forEach((t)=>t.hostUpdate?.()), this.update(s)) : this._$EU();
        } catch (s) {
            throw t = !1, this._$EU(), s;
        }
        t && this._$AE(s);
    }
    willUpdate(t) {}
    _$AE(t) {
        this._$EO?.forEach((t)=>t.hostUpdated?.()), this.hasUpdated || (this.hasUpdated = !0, this.firstUpdated(t)), this.updated(t);
    }
    _$EU() {
        this._$AL = new Map, this.isUpdatePending = !1;
    }
    get updateComplete() {
        return this.getUpdateComplete();
    }
    getUpdateComplete() {
        return this._$ES;
    }
    shouldUpdate(t) {
        return !0;
    }
    update(t) {
        this._$Ej &&= this._$Ej.forEach((t)=>this._$EC(t, this[t])), this._$EU();
    }
    updated(t) {}
    firstUpdated(t) {}
}
$03b44d016d05e4a8$export$c7c07a37856565d.elementStyles = [], $03b44d016d05e4a8$export$c7c07a37856565d.shadowRootOptions = {
    mode: "open"
}, $03b44d016d05e4a8$export$c7c07a37856565d[$03b44d016d05e4a8$var$d("elementProperties")] = new Map, $03b44d016d05e4a8$export$c7c07a37856565d[$03b44d016d05e4a8$var$d("finalized")] = new Map, $03b44d016d05e4a8$var$p?.({
    ReactiveElement: $03b44d016d05e4a8$export$c7c07a37856565d
}), ($03b44d016d05e4a8$var$a.reactiveElementVersions ??= []).push("2.0.4");


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $34c890d2bba8533a$var$t = globalThis, $34c890d2bba8533a$var$i = $34c890d2bba8533a$var$t.trustedTypes, $34c890d2bba8533a$var$s = $34c890d2bba8533a$var$i ? $34c890d2bba8533a$var$i.createPolicy("lit-html", {
    createHTML: (t)=>t
}) : void 0, $34c890d2bba8533a$var$e = "$lit$", $34c890d2bba8533a$var$h = `lit$${Math.random().toFixed(9).slice(2)}$`, $34c890d2bba8533a$var$o = "?" + $34c890d2bba8533a$var$h, $34c890d2bba8533a$var$n = `<${$34c890d2bba8533a$var$o}>`, $34c890d2bba8533a$var$r = document, $34c890d2bba8533a$var$l = ()=>$34c890d2bba8533a$var$r.createComment(""), $34c890d2bba8533a$var$c = (t)=>null === t || "object" != typeof t && "function" != typeof t, $34c890d2bba8533a$var$a = Array.isArray, $34c890d2bba8533a$var$u = (t)=>$34c890d2bba8533a$var$a(t) || "function" == typeof t?.[Symbol.iterator], $34c890d2bba8533a$var$d = "[ \t\n\f\r]", $34c890d2bba8533a$var$f = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, $34c890d2bba8533a$var$v = /-->/g, $34c890d2bba8533a$var$_ = />/g, $34c890d2bba8533a$var$m = RegExp(`>|${$34c890d2bba8533a$var$d}(?:([^\\s"'>=/]+)(${$34c890d2bba8533a$var$d}*=${$34c890d2bba8533a$var$d}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`, "g"), $34c890d2bba8533a$var$p = /'/g, $34c890d2bba8533a$var$g = /"/g, $34c890d2bba8533a$var$$ = /^(?:script|style|textarea|title)$/i, $34c890d2bba8533a$var$y = (t)=>(i, ...s)=>({
            _$litType$: t,
            strings: i,
            values: s
        }), $34c890d2bba8533a$export$c0bb0b647f701bb5 = $34c890d2bba8533a$var$y(1), $34c890d2bba8533a$export$7ed1367e7fa1ad68 = $34c890d2bba8533a$var$y(2), $34c890d2bba8533a$export$47d5b44d225be5b4 = $34c890d2bba8533a$var$y(3), $34c890d2bba8533a$export$9c068ae9cc5db4e8 = Symbol.for("lit-noChange"), $34c890d2bba8533a$export$45b790e32b2810ee = Symbol.for("lit-nothing"), $34c890d2bba8533a$var$A = new WeakMap, $34c890d2bba8533a$var$C = $34c890d2bba8533a$var$r.createTreeWalker($34c890d2bba8533a$var$r, 129);
function $34c890d2bba8533a$var$P(t, i) {
    if (!$34c890d2bba8533a$var$a(t) || !t.hasOwnProperty("raw")) throw Error("invalid template strings array");
    return void 0 !== $34c890d2bba8533a$var$s ? $34c890d2bba8533a$var$s.createHTML(i) : i;
}
const $34c890d2bba8533a$var$V = (t, i)=>{
    const s = t.length - 1, o = [];
    let r, l = 2 === i ? "<svg>" : 3 === i ? "<math>" : "", c = $34c890d2bba8533a$var$f;
    for(let i = 0; i < s; i++){
        const s = t[i];
        let a, u, d = -1, y = 0;
        for(; y < s.length && (c.lastIndex = y, u = c.exec(s), null !== u);)y = c.lastIndex, c === $34c890d2bba8533a$var$f ? "!--" === u[1] ? c = $34c890d2bba8533a$var$v : void 0 !== u[1] ? c = $34c890d2bba8533a$var$_ : void 0 !== u[2] ? ($34c890d2bba8533a$var$$.test(u[2]) && (r = RegExp("</" + u[2], "g")), c = $34c890d2bba8533a$var$m) : void 0 !== u[3] && (c = $34c890d2bba8533a$var$m) : c === $34c890d2bba8533a$var$m ? ">" === u[0] ? (c = r ?? $34c890d2bba8533a$var$f, d = -1) : void 0 === u[1] ? d = -2 : (d = c.lastIndex - u[2].length, a = u[1], c = void 0 === u[3] ? $34c890d2bba8533a$var$m : '"' === u[3] ? $34c890d2bba8533a$var$g : $34c890d2bba8533a$var$p) : c === $34c890d2bba8533a$var$g || c === $34c890d2bba8533a$var$p ? c = $34c890d2bba8533a$var$m : c === $34c890d2bba8533a$var$v || c === $34c890d2bba8533a$var$_ ? c = $34c890d2bba8533a$var$f : (c = $34c890d2bba8533a$var$m, r = void 0);
        const x = c === $34c890d2bba8533a$var$m && t[i + 1].startsWith("/>") ? " " : "";
        l += c === $34c890d2bba8533a$var$f ? s + $34c890d2bba8533a$var$n : d >= 0 ? (o.push(a), s.slice(0, d) + $34c890d2bba8533a$var$e + s.slice(d) + $34c890d2bba8533a$var$h + x) : s + $34c890d2bba8533a$var$h + (-2 === d ? i : x);
    }
    return [
        $34c890d2bba8533a$var$P(t, l + (t[s] || "<?>") + (2 === i ? "</svg>" : 3 === i ? "</math>" : "")),
        o
    ];
};
class $34c890d2bba8533a$var$N {
    constructor({ strings: t, _$litType$: s }, n){
        let r;
        this.parts = [];
        let c = 0, a = 0;
        const u = t.length - 1, d = this.parts, [f, v] = $34c890d2bba8533a$var$V(t, s);
        if (this.el = $34c890d2bba8533a$var$N.createElement(f, n), $34c890d2bba8533a$var$C.currentNode = this.el.content, 2 === s || 3 === s) {
            const t = this.el.content.firstChild;
            t.replaceWith(...t.childNodes);
        }
        for(; null !== (r = $34c890d2bba8533a$var$C.nextNode()) && d.length < u;){
            if (1 === r.nodeType) {
                if (r.hasAttributes()) for (const t of r.getAttributeNames())if (t.endsWith($34c890d2bba8533a$var$e)) {
                    const i = v[a++], s = r.getAttribute(t).split($34c890d2bba8533a$var$h), e = /([.?@])?(.*)/.exec(i);
                    d.push({
                        type: 1,
                        index: c,
                        name: e[2],
                        strings: s,
                        ctor: "." === e[1] ? $34c890d2bba8533a$var$H : "?" === e[1] ? $34c890d2bba8533a$var$I : "@" === e[1] ? $34c890d2bba8533a$var$L : $34c890d2bba8533a$var$k
                    }), r.removeAttribute(t);
                } else t.startsWith($34c890d2bba8533a$var$h) && (d.push({
                    type: 6,
                    index: c
                }), r.removeAttribute(t));
                if ($34c890d2bba8533a$var$$.test(r.tagName)) {
                    const t = r.textContent.split($34c890d2bba8533a$var$h), s = t.length - 1;
                    if (s > 0) {
                        r.textContent = $34c890d2bba8533a$var$i ? $34c890d2bba8533a$var$i.emptyScript : "";
                        for(let i = 0; i < s; i++)r.append(t[i], $34c890d2bba8533a$var$l()), $34c890d2bba8533a$var$C.nextNode(), d.push({
                            type: 2,
                            index: ++c
                        });
                        r.append(t[s], $34c890d2bba8533a$var$l());
                    }
                }
            } else if (8 === r.nodeType) {
                if (r.data === $34c890d2bba8533a$var$o) d.push({
                    type: 2,
                    index: c
                });
                else {
                    let t = -1;
                    for(; -1 !== (t = r.data.indexOf($34c890d2bba8533a$var$h, t + 1));)d.push({
                        type: 7,
                        index: c
                    }), t += $34c890d2bba8533a$var$h.length - 1;
                }
            }
            c++;
        }
    }
    static createElement(t, i) {
        const s = $34c890d2bba8533a$var$r.createElement("template");
        return s.innerHTML = t, s;
    }
}
function $34c890d2bba8533a$var$S(t, i, s = t, e) {
    if (i === $34c890d2bba8533a$export$9c068ae9cc5db4e8) return i;
    let h = void 0 !== e ? s._$Co?.[e] : s._$Cl;
    const o = $34c890d2bba8533a$var$c(i) ? void 0 : i._$litDirective$;
    return h?.constructor !== o && (h?._$AO?.(!1), void 0 === o ? h = void 0 : (h = new o(t), h._$AT(t, s, e)), void 0 !== e ? (s._$Co ??= [])[e] = h : s._$Cl = h), void 0 !== h && (i = $34c890d2bba8533a$var$S(t, h._$AS(t, i.values), h, e)), i;
}
class $34c890d2bba8533a$var$M {
    constructor(t, i){
        this._$AV = [], this._$AN = void 0, this._$AD = t, this._$AM = i;
    }
    get parentNode() {
        return this._$AM.parentNode;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    u(t) {
        const { el: { content: i }, parts: s } = this._$AD, e = (t?.creationScope ?? $34c890d2bba8533a$var$r).importNode(i, !0);
        $34c890d2bba8533a$var$C.currentNode = e;
        let h = $34c890d2bba8533a$var$C.nextNode(), o = 0, n = 0, l = s[0];
        for(; void 0 !== l;){
            if (o === l.index) {
                let i;
                2 === l.type ? i = new $34c890d2bba8533a$var$R(h, h.nextSibling, this, t) : 1 === l.type ? i = new l.ctor(h, l.name, l.strings, this, t) : 6 === l.type && (i = new $34c890d2bba8533a$var$z(h, this, t)), this._$AV.push(i), l = s[++n];
            }
            o !== l?.index && (h = $34c890d2bba8533a$var$C.nextNode(), o++);
        }
        return $34c890d2bba8533a$var$C.currentNode = $34c890d2bba8533a$var$r, e;
    }
    p(t) {
        let i = 0;
        for (const s of this._$AV)void 0 !== s && (void 0 !== s.strings ? (s._$AI(t, s, i), i += s.strings.length - 2) : s._$AI(t[i])), i++;
    }
}
class $34c890d2bba8533a$var$R {
    get _$AU() {
        return this._$AM?._$AU ?? this._$Cv;
    }
    constructor(t, i, s, e){
        this.type = 2, this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee, this._$AN = void 0, this._$AA = t, this._$AB = i, this._$AM = s, this.options = e, this._$Cv = e?.isConnected ?? !0;
    }
    get parentNode() {
        let t = this._$AA.parentNode;
        const i = this._$AM;
        return void 0 !== i && 11 === t?.nodeType && (t = i.parentNode), t;
    }
    get startNode() {
        return this._$AA;
    }
    get endNode() {
        return this._$AB;
    }
    _$AI(t, i = this) {
        t = $34c890d2bba8533a$var$S(this, t, i), $34c890d2bba8533a$var$c(t) ? t === $34c890d2bba8533a$export$45b790e32b2810ee || null == t || "" === t ? (this._$AH !== $34c890d2bba8533a$export$45b790e32b2810ee && this._$AR(), this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee) : t !== this._$AH && t !== $34c890d2bba8533a$export$9c068ae9cc5db4e8 && this._(t) : void 0 !== t._$litType$ ? this.$(t) : void 0 !== t.nodeType ? this.T(t) : $34c890d2bba8533a$var$u(t) ? this.k(t) : this._(t);
    }
    O(t) {
        return this._$AA.parentNode.insertBefore(t, this._$AB);
    }
    T(t) {
        this._$AH !== t && (this._$AR(), this._$AH = this.O(t));
    }
    _(t) {
        this._$AH !== $34c890d2bba8533a$export$45b790e32b2810ee && $34c890d2bba8533a$var$c(this._$AH) ? this._$AA.nextSibling.data = t : this.T($34c890d2bba8533a$var$r.createTextNode(t)), this._$AH = t;
    }
    $(t) {
        const { values: i, _$litType$: s } = t, e = "number" == typeof s ? this._$AC(t) : (void 0 === s.el && (s.el = $34c890d2bba8533a$var$N.createElement($34c890d2bba8533a$var$P(s.h, s.h[0]), this.options)), s);
        if (this._$AH?._$AD === e) this._$AH.p(i);
        else {
            const t = new $34c890d2bba8533a$var$M(e, this), s = t.u(this.options);
            t.p(i), this.T(s), this._$AH = t;
        }
    }
    _$AC(t) {
        let i = $34c890d2bba8533a$var$A.get(t.strings);
        return void 0 === i && $34c890d2bba8533a$var$A.set(t.strings, i = new $34c890d2bba8533a$var$N(t)), i;
    }
    k(t) {
        $34c890d2bba8533a$var$a(this._$AH) || (this._$AH = [], this._$AR());
        const i = this._$AH;
        let s, e = 0;
        for (const h of t)e === i.length ? i.push(s = new $34c890d2bba8533a$var$R(this.O($34c890d2bba8533a$var$l()), this.O($34c890d2bba8533a$var$l()), this, this.options)) : s = i[e], s._$AI(h), e++;
        e < i.length && (this._$AR(s && s._$AB.nextSibling, e), i.length = e);
    }
    _$AR(t = this._$AA.nextSibling, i) {
        for(this._$AP?.(!1, !0, i); t && t !== this._$AB;){
            const i = t.nextSibling;
            t.remove(), t = i;
        }
    }
    setConnected(t) {
        void 0 === this._$AM && (this._$Cv = t, this._$AP?.(t));
    }
}
class $34c890d2bba8533a$var$k {
    get tagName() {
        return this.element.tagName;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    constructor(t, i, s, e, h){
        this.type = 1, this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee, this._$AN = void 0, this.element = t, this.name = i, this._$AM = e, this.options = h, s.length > 2 || "" !== s[0] || "" !== s[1] ? (this._$AH = Array(s.length - 1).fill(new String), this.strings = s) : this._$AH = $34c890d2bba8533a$export$45b790e32b2810ee;
    }
    _$AI(t, i = this, s, e) {
        const h = this.strings;
        let o = !1;
        if (void 0 === h) t = $34c890d2bba8533a$var$S(this, t, i, 0), o = !$34c890d2bba8533a$var$c(t) || t !== this._$AH && t !== $34c890d2bba8533a$export$9c068ae9cc5db4e8, o && (this._$AH = t);
        else {
            const e = t;
            let n, r;
            for(t = h[0], n = 0; n < h.length - 1; n++)r = $34c890d2bba8533a$var$S(this, e[s + n], i, n), r === $34c890d2bba8533a$export$9c068ae9cc5db4e8 && (r = this._$AH[n]), o ||= !$34c890d2bba8533a$var$c(r) || r !== this._$AH[n], r === $34c890d2bba8533a$export$45b790e32b2810ee ? t = $34c890d2bba8533a$export$45b790e32b2810ee : t !== $34c890d2bba8533a$export$45b790e32b2810ee && (t += (r ?? "") + h[n + 1]), this._$AH[n] = r;
        }
        o && !e && this.j(t);
    }
    j(t) {
        t === $34c890d2bba8533a$export$45b790e32b2810ee ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t ?? "");
    }
}
class $34c890d2bba8533a$var$H extends $34c890d2bba8533a$var$k {
    constructor(){
        super(...arguments), this.type = 3;
    }
    j(t) {
        this.element[this.name] = t === $34c890d2bba8533a$export$45b790e32b2810ee ? void 0 : t;
    }
}
class $34c890d2bba8533a$var$I extends $34c890d2bba8533a$var$k {
    constructor(){
        super(...arguments), this.type = 4;
    }
    j(t) {
        this.element.toggleAttribute(this.name, !!t && t !== $34c890d2bba8533a$export$45b790e32b2810ee);
    }
}
class $34c890d2bba8533a$var$L extends $34c890d2bba8533a$var$k {
    constructor(t, i, s, e, h){
        super(t, i, s, e, h), this.type = 5;
    }
    _$AI(t, i = this) {
        if ((t = $34c890d2bba8533a$var$S(this, t, i, 0) ?? $34c890d2bba8533a$export$45b790e32b2810ee) === $34c890d2bba8533a$export$9c068ae9cc5db4e8) return;
        const s = this._$AH, e = t === $34c890d2bba8533a$export$45b790e32b2810ee && s !== $34c890d2bba8533a$export$45b790e32b2810ee || t.capture !== s.capture || t.once !== s.once || t.passive !== s.passive, h = t !== $34c890d2bba8533a$export$45b790e32b2810ee && (s === $34c890d2bba8533a$export$45b790e32b2810ee || e);
        e && this.element.removeEventListener(this.name, this, s), h && this.element.addEventListener(this.name, this, t), this._$AH = t;
    }
    handleEvent(t) {
        "function" == typeof this._$AH ? this._$AH.call(this.options?.host ?? this.element, t) : this._$AH.handleEvent(t);
    }
}
class $34c890d2bba8533a$var$z {
    constructor(t, i, s){
        this.element = t, this.type = 6, this._$AN = void 0, this._$AM = i, this.options = s;
    }
    get _$AU() {
        return this._$AM._$AU;
    }
    _$AI(t) {
        $34c890d2bba8533a$var$S(this, t);
    }
}
const $34c890d2bba8533a$export$8613d1ca9052b22e = {
    M: $34c890d2bba8533a$var$e,
    P: $34c890d2bba8533a$var$h,
    A: $34c890d2bba8533a$var$o,
    C: 1,
    L: $34c890d2bba8533a$var$V,
    R: $34c890d2bba8533a$var$M,
    D: $34c890d2bba8533a$var$u,
    V: $34c890d2bba8533a$var$S,
    I: $34c890d2bba8533a$var$R,
    H: $34c890d2bba8533a$var$k,
    N: $34c890d2bba8533a$var$I,
    U: $34c890d2bba8533a$var$L,
    B: $34c890d2bba8533a$var$H,
    F: $34c890d2bba8533a$var$z
}, $34c890d2bba8533a$var$j = $34c890d2bba8533a$var$t.litHtmlPolyfillSupport;
$34c890d2bba8533a$var$j?.($34c890d2bba8533a$var$N, $34c890d2bba8533a$var$R), ($34c890d2bba8533a$var$t.litHtmlVersions ??= []).push("3.2.1");
const $34c890d2bba8533a$export$b3890eb0ae9dca99 = (t, i, s)=>{
    const e = s?.renderBefore ?? i;
    let h = e._$litPart$;
    if (void 0 === h) {
        const t = s?.renderBefore ?? null;
        e._$litPart$ = h = new $34c890d2bba8533a$var$R(i.insertBefore($34c890d2bba8533a$var$l(), t), t, void 0, s ?? {});
    }
    return h._$AI(t), h;
};


/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ class $d812c34aed91105d$export$3f2f9f5909897157 extends (0, $03b44d016d05e4a8$export$c7c07a37856565d) {
    constructor(){
        super(...arguments), this.renderOptions = {
            host: this
        }, this._$Do = void 0;
    }
    createRenderRoot() {
        const t = super.createRenderRoot();
        return this.renderOptions.renderBefore ??= t.firstChild, t;
    }
    update(t) {
        const s = this.render();
        this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t), this._$Do = (0, $34c890d2bba8533a$export$b3890eb0ae9dca99)(s, this.renderRoot, this.renderOptions);
    }
    connectedCallback() {
        super.connectedCallback(), this._$Do?.setConnected(!0);
    }
    disconnectedCallback() {
        super.disconnectedCallback(), this._$Do?.setConnected(!1);
    }
    render() {
        return 0, $34c890d2bba8533a$export$9c068ae9cc5db4e8;
    }
}
$d812c34aed91105d$export$3f2f9f5909897157._$litElement$ = !0, $d812c34aed91105d$export$3f2f9f5909897157["finalized"] = !0, globalThis.litElementHydrateSupport?.({
    LitElement: $d812c34aed91105d$export$3f2f9f5909897157
});
const $d812c34aed91105d$var$i = globalThis.litElementPolyfillSupport;
$d812c34aed91105d$var$i?.({
    LitElement: $d812c34aed91105d$export$3f2f9f5909897157
});
const $d812c34aed91105d$export$f5c524615a7708d6 = {
    _$AK: (t, e, s)=>{
        t._$AK(e, s);
    },
    _$AL: (t)=>t._$AL
};
(globalThis.litElementVersions ??= []).push("4.1.1");



/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function* $2df088f3943a4311$export$871de8747c9eaa88(o, f) {
    if (void 0 !== o) {
        let i = 0;
        for (const t of o)yield f(t, i++);
    }
}


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ const $36ba9077c37f6d69$export$7877a478dd30fd3d = (r, o, t)=>{
    for (const t of o)if (t[0] === r) return (0, t[1])();
    return t?.();
};


/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */ function $5114a2a7e9d58c35$export$a55877ca9db47377(n, r, t) {
    return n ? r(n) : t?.(n);
}





function $9a10e2e209e09f92$export$f47f8d932ddd1f76(superClass) {
    class Mixin_addEventHandlers_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        updated(changedProperties) {
            super.updated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const events = definition.declaration.hooks?.events;
            if (!events) return;
            if (events instanceof Array) for (const customaryEvent of events){
                const selector = customaryEvent.selector;
                const type = customaryEvent.type;
                const listener = customaryEvent.listener;
                this.addEventHandler(selector, type, listener);
            }
            else for (const [selector, listener] of Object.entries(events)){
                const type = undefined;
                this.addEventHandler(selector, type, listener);
            }
        }
        addEventHandler(selector, type, listener) {
            if (!selector) {
                this.addCustomEventListener(this, type, listener);
                return;
            }
            const parent = this.shadowRoot ?? this;
            const elements = parent.querySelectorAll(selector);
            for (const element of elements)this.addCustomEventListener(element, type, listener);
        }
        addCustomEventListener(element, type, listener) {
            const listeners = element.__customary_listeners ??= [];
            if (listeners.includes(listener)) return;
            const tagName = element.tagName;
            element.addEventListener(type ?? $9a10e2e209e09f92$var$DEFAULT_EVENT_TYPES[tagName] ?? (()=>{
                throw new Error(`${this.tagName.toLowerCase()}: ${tagName} elements` + ' require you to provide an event type' + ' because Customary has not defined a default yet');
            })(), (event)=>listener(this, event));
            listeners.push(listener);
        }
    }
    return Mixin_addEventHandlers_Class;
}
const $9a10e2e209e09f92$var$DEFAULT_EVENT_TYPES = {
    'A': 'click',
    'BUTTON': 'click',
    'FORM': 'submit',
    'INPUT': 'input',
    'SELECT': 'input',
    'TABLE': 'click',
    'TEXTAREA': 'input'
};



function $d1f471c42208303b$export$3bf0fa7e728730a3(superClass) {
    class Mixin_adoptStyleSheet_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { cssStyleSheet: cssStyleSheet } = definition;
            if (!cssStyleSheet) return;
            const adopter = this.shadowRoot ?? document;
            adopter.adoptedStyleSheets.push(cssStyleSheet);
        }
    }
    return Mixin_adoptStyleSheet_Class;
}



function $2f505a9241dbdaaf$export$38b25fab905694b5(superClass) {
    class Mixin_attributeChangedCallback_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        attributeChangedCallback(name, oldValue, newValue) {
            super.attributeChangedCallback(name, oldValue, newValue);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.dom?.attributeChangedCallback?.(this, name, oldValue, newValue);
        }
    }
    return Mixin_attributeChangedCallback_Class;
}



function $68c41a7f90dfd20d$export$d321c1d718f409fd(superClass) {
    class Mixin_connected_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        connectedCallback() {
            super.connectedCallback?.();
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.lifecycle?.connected?.(this);
        }
    }
    return Mixin_connected_Class;
}



function $fd54020cbaa519b8$export$2cfc5030c386ebbd(superClass) {
    class Mixin_disconnected_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        disconnectedCallback() {
            super.disconnectedCallback?.();
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            definition.declaration.hooks?.lifecycle?.disconnected?.(this);
        }
    }
    return Mixin_disconnected_Class;
}



function $d2c535d050b19a85$export$768be97ad3d2f262(superClass) {
    class Mixin_firstUpdated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.firstUpdated?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, firstUpdated: firstUpdated } = change;
                if (firstUpdated && changedProperties.has(name)) firstUpdated(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_firstUpdated_Class;
}




function $f3d00108616e5be0$export$b1f65ab33c708f24(superClass) {
    class Mixin_renderFromTemplate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        render() {
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const templateResult = $f3d00108616e5be0$var$render_lit_html_TemplateResult(this, definition.immutable_htmlString, this.state);
            this.reuse_immutable_TemplateStringsArray(templateResult);
            return templateResult;
        }
        reuse_immutable_TemplateStringsArray(templateResult) {
            const templateStringsArray = templateResult.strings;
            if (!this.immutable_templateStringsArray) {
                this.immutable_templateStringsArray = templateStringsArray;
                return;
            }
            for(let i = 0; i < templateStringsArray.length; i++){
                if (templateStringsArray[i] !== this.immutable_templateStringsArray[i]) throw new Error(`
Original html first registered only once from named template tag in page
(or first registered only once from external html file)
could not have possibly changed structure inbetween calls to render.... tampering??
(see https://github.com/lit/lit/pull/3987)
`);
            }
            templateResult.strings = this.immutable_templateStringsArray;
        }
        immutable_templateStringsArray;
    }
    return Mixin_renderFromTemplate_Class;
}
/**
 lit "html" is a tag function.
 at runtime, the tagged template comes from htmlString.
 only JS compilation can parse the tagged template into a proper function call,
 so we need JS compilation to happen at runtime.
 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#tagged_templates
*/ function $f3d00108616e5be0$var$render_lit_html_TemplateResult(element, htmlString, state) {
    const thisArg = element;
    const fn = new Function('state', 'html', 'map', 'choose', 'when', '"use strict"; return html\`' + htmlString + '\`');
    return fn.call(thisArg, state, (0, $34c890d2bba8533a$export$c0bb0b647f701bb5), (0, $2df088f3943a4311$export$871de8747c9eaa88), (0, $36ba9077c37f6d69$export$7877a478dd30fd3d), (0, $5114a2a7e9d58c35$export$a55877ca9db47377));
}



function $adb7a522f246ac7a$export$2b1301cd2cb0c945(superClass) {
    class Mixin_slotChange_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        firstUpdated(changedProperties) {
            super.firstUpdated(changedProperties);
            const element = this;
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(element);
            const slotchange = definition.declaration.hooks?.slots?.slotchange;
            if (!slotchange) return;
            // on first render, execute once for the first time without an event
            slotchange(element);
            /*
					https://stackoverflow.com/questions/67332635/slots-does-not-work-on-a-html-web-component-without-shadow-dom
					*/ element.shadowRoot.addEventListener('slotchange', (event)=>slotchange(element, event));
        }
    }
    return Mixin_slotChange_Class;
}



function $e62fef1729ff12df$export$73d040748d682301(superClass) {
    class Mixin_state_Class extends superClass {
        constructor(...args){
            super(args);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { values: values } = definition.declaration;
            if (!values) return;
            Object.assign(this, values);
        }
        // noinspection JSUnusedGlobalSymbols
        setState(state_or_fn) {
            $e62fef1729ff12df$var$_setState(state_or_fn, ()=>this.state, (state)=>this.state = state);
        }
    }
    return Mixin_state_Class;
}
function $e62fef1729ff12df$var$_setState(state_or_fn, getStateFn, setStateFn) {
    if (state_or_fn === null || state_or_fn === undefined) return;
    const _state = getStateFn();
    const state = state_or_fn instanceof Function ? state_or_fn(_state) : state_or_fn;
    setStateFn(typeof _state === 'object' ? {
        ..._state,
        ...state
    } : state);
}



function $16ab248eb66956f2$export$2c20b62da00ad27c(superClass) {
    class Mixin_updated_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        updated(changedProperties) {
            super.updated?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.updated?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, updated: updated } = change;
                if (updated && changedProperties.has(name)) updated(this, this[name], changedProperties.get(name));
            }
            else for(const name in changes){
                const updated = changes[name];
                if (changedProperties.has(name)) updated(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_updated_Class;
}



function $a4f30597a6143fad$export$441bf0c9f46b950d(superClass) {
    class Mixin_willUpdate_Class extends superClass {
        // noinspection JSUnusedGlobalSymbols
        willUpdate(changedProperties) {
            super.willUpdate?.(changedProperties);
            const definition = (0, $a6578a6f2ac293b9$export$6dac8c184f86ad18)(this);
            const { lifecycle: lifecycle, changes: changes } = definition.declaration.hooks ?? {};
            lifecycle?.willUpdate?.(this, changedProperties);
            if (changes instanceof Array) for (const change of changes){
                const { name: name, willUpdate: willUpdate } = change;
                if (willUpdate && changedProperties.has(name)) willUpdate(this, this[name], changedProperties.get(name));
            }
        }
    }
    return Mixin_willUpdate_Class;
}


class $98d0f6a447871cb0$export$4a183080d2c522d7 extends (0, $9a10e2e209e09f92$export$f47f8d932ddd1f76)((0, $d1f471c42208303b$export$3bf0fa7e728730a3)((0, $2f505a9241dbdaaf$export$38b25fab905694b5)((0, $68c41a7f90dfd20d$export$d321c1d718f409fd)((0, $fd54020cbaa519b8$export$2cfc5030c386ebbd)((0, $d2c535d050b19a85$export$768be97ad3d2f262)((0, $f3d00108616e5be0$export$b1f65ab33c708f24)((0, $adb7a522f246ac7a$export$2b1301cd2cb0c945)((0, $e62fef1729ff12df$export$73d040748d682301)((0, $16ab248eb66956f2$export$2c20b62da00ad27c)((0, $a4f30597a6143fad$export$441bf0c9f46b950d)((0, $d812c34aed91105d$export$3f2f9f5909897157)))))))))))) {
    constructor(){
        try {
            super();
        } catch (error) {
            if (error instanceof TypeError) {
                if (error.message.startsWith("Illegal constructor")) throw new Error("Custom element must be fully defined before you can instantiate it. Try this:\n    await Customary.untilDefined(MyCustomElement);\n    const element = new MyCustomElement();", {
                    cause: error
                });
            }
            throw error;
        }
    }
}


class $dc3eede01c452bc5$export$7d556906c4a5f4a7 {
    // noinspection JSUnusedGlobalSymbols
    static async autodetect() {
        await this.detect();
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        await customaryRegistry.settle();
    }
    // noinspection JSUnusedGlobalSymbols
    static declare(constructor) {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        customaryRegistry.declare(constructor, constructor?.customary);
    }
    // noinspection JSUnusedGlobalSymbols
    static async untilDefined(constructor) {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        return await customaryRegistry.untilDefined(constructor);
    }
    static async detect() {
        const customaryRegistry = (0, $d29bea016259bab1$export$d37a9068d840d1de).singleton();
        const detector = new (0, $16878b9af4c78a4c$export$2bcc17fb5433cbbf)(document, globalThis);
        const declarations = detector.detect();
        const promises = declarations.map((declaration)=>customaryRegistry.declare(class EphemeralCustomaryElement extends (0, $98d0f6a447871cb0$export$4a183080d2c522d7) {
            }, declaration));
        await Promise.all(promises);
    }
}




$parcel$exportWildcard($07201b47c5f8d57a$exports, $6b52b5e2005fdcd9$exports);


document.addEventListener("DOMContentLoaded", (event)=>{
    if (!globalThis[`customary-options:autodetect-dont`]) (0, $dc3eede01c452bc5$export$7d556906c4a5f4a7).autodetect();
});


export {$dc3eede01c452bc5$export$7d556906c4a5f4a7 as Customary, $98d0f6a447871cb0$export$4a183080d2c522d7 as CustomaryElement, $d812c34aed91105d$export$3f2f9f5909897157 as LitElement, $34c890d2bba8533a$export$c0bb0b647f701bb5 as html, $2df088f3943a4311$export$871de8747c9eaa88 as map, $36ba9077c37f6d69$export$7877a478dd30fd3d as choose, $5114a2a7e9d58c35$export$a55877ca9db47377 as when};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLFNBQVM7UUFDckQsT0FBTyxNQUFNLGtCQUFrQixZQUFZLENBQUM7SUFDN0M7SUFFQSxhQUFxQixTQUF3QjtRQUM1QyxNQUFNLG9CQUFvQixDQUFBLEdBQUEseUNBQWdCLEVBQUUsU0FBUztRQUNyRCxNQUFNLFdBQVcsSUFBSSxDQUFBLEdBQUEseUNBQWdCLEVBQUUsVUFBVTtRQUNqRCxNQUFNLGVBQTRDLFNBQVMsTUFBTTtRQUNqRSxNQUFNLFdBQVcsYUFBYSxHQUFHLENBQUMsQ0FBQSxjQUNoQyxrQkFBa0IsT0FBTyxDQUN2QixNQUFNLGtDQUFrQyxDQUFBLEdBQUEseUNBQWU7WUFBRyxHQUMxRDtRQUdKLE1BQU0sUUFBUSxHQUFHLENBQUM7SUFDbkI7QUFDRDs7Ozs7Ozs7QUZ6Q0EsU0FBUyxnQkFBZ0IsQ0FBQyxvQkFBb0IsQ0FBQztJQUM5QyxJQUFJLENBQUMsQUFBQyxVQUFrQixDQUFDLENBQUMsaUNBQWlDLENBQUMsQ0FBQyxFQUN2RCxDQUFBLEdBQUEseUNBQVEsRUFBRSxVQUFVO0FBRTNCIiwic291cmNlcyI6WyJzcmMvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0SW1wb3J0ZXIudHMiLCJzcmMvZmV0Y2gvRmV0Y2hUZXh0LnRzIiwic3JjL25vdy50cyIsInNyYy9pbmRleC50cyIsInNyYy9DdXN0b21hcnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGV0ZWN0b3IudHMiLCJzcmMvcmVnaXN0cnkvQ3VzdG9tYXJ5UmVnaXN0cnkudHMiLCJzcmMvQ3VzdG9tYXJ5RGVmaW5pdGlvbi50cyIsInNyYy9DdXN0b21hcnlEZWZpbmUudHMiLCJzcmMvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0QWRvcHRlci50cyIsInNyYy9leHRlcm5hbC9FeHRlcm5hbExvYWRlci50cyIsInNyYy9kaXJlY3RpdmVzL0RpcmVjdGl2ZV9mb3IudHMiLCJzcmMvZGlyZWN0aXZlcy9zZXRfb3V0ZXJIVE1MLmpzIiwic3JjL2RpcmVjdGl2ZXMvc2V0X291dGVySFRNTC50cyIsInNyYy9kaXJlY3RpdmVzL0RpcmVjdGl2ZV9pZi50cyIsInNyYy9kaXJlY3RpdmVzL0RpcmVjdGl2ZV9pbnNpZGUudHMiLCJzcmMvZGlyZWN0aXZlcy9EaXJlY3RpdmVfc3dpdGNoLnRzIiwic3JjL2F0dHJpYnV0ZXMvQXR0cmlidXRlUHJvcGVydGllcy50cyIsInNyYy9wcm9wZXJ0aWVzL1Byb3BlcnRpZXNJbmplY3Rvci50cyIsInNyYy9zdGF0ZS9TdGF0ZVByb3BlcnRpZXMudHMiLCJzcmMvcHJvcGVydGllcy9Qcm9wZXJ0aWVzUHJvcGVydGllcy50cyIsInNyYy9DdXN0b21hcnlFbGVtZW50LnRzIiwic3JjL2xpdC9pbmRleC50cyIsIm5vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9saXQtZWxlbWVudC9zcmMvbGl0LWVsZW1lbnQudHMiLCJub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3JlYWN0aXZlLWVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMvQGxpdC9yZWFjdGl2ZS1lbGVtZW50L3NyYy9yZWFjdGl2ZS1lbGVtZW50LnRzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9jc3MtdGFnLmpzIiwibm9kZV9tb2R1bGVzL0BsaXQvcmVhY3RpdmUtZWxlbWVudC9zcmMvY3NzLXRhZy50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9saXQtaHRtbC5qcyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9zcmMvbGl0LWh0bWwudHMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvZGlyZWN0aXZlcy9tYXAuanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvbWFwLnRzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL2RpcmVjdGl2ZXMvY2hvb3NlLmpzIiwibm9kZV9tb2R1bGVzL2xpdC1odG1sL3NyYy9kaXJlY3RpdmVzL2Nob29zZS50cyIsIm5vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL3doZW4uanMiLCJub2RlX21vZHVsZXMvbGl0LWh0bWwvc3JjL2RpcmVjdGl2ZXMvd2hlbi50cyIsInNyYy9ldmVudHMvTWl4aW5fYWRkRXZlbnRIYW5kbGVycy50cyIsInNyYy9zdHlsZS9NaXhpbl9hZG9wdFN0eWxlU2hlZXQudHMiLCJzcmMvYXR0cmlidXRlcy9NaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sudHMiLCJzcmMvbGlmZWN5Y2xlL2Nvbm5lY3RlZC9NaXhpbl9jb25uZWN0ZWQudHMiLCJzcmMvbGlmZWN5Y2xlL2Rpc2Nvbm5lY3RlZC9NaXhpbl9kaXNjb25uZWN0ZWQudHMiLCJzcmMvbGlmZWN5Y2xlL2ZpcnN0VXBkYXRlZC9NaXhpbl9maXJzdFVwZGF0ZWQudHMiLCJzcmMvcmVuZGVyL01peGluX3JlbmRlckZyb21UZW1wbGF0ZS50cyIsInNyYy9zbG90cy9NaXhpbl9zbG90Q2hhbmdlLnRzIiwic3JjL3N0YXRlL01peGluX3N0YXRlLnRzIiwic3JjL2xpZmVjeWNsZS91cGRhdGVkL01peGluX3VwZGF0ZWQudHMiLCJzcmMvbGlmZWN5Y2xlL3dpbGxVcGRhdGUvTWl4aW5fd2lsbFVwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZldGNoVGV4dCwgRmV0Y2hUZXh0X0RPTV9zaW5nbGV0b259IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENTU1N0eWxlU2hlZXRJbXBvcnRlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBmZXRjaFRleHQ6IEZldGNoVGV4dCA9IEZldGNoVGV4dF9ET01fc2luZ2xldG9uKSB7XHJcbiAgICAgICAgdGhpcy5pbXBvcnRGbiA9IGdldEltcG9ydEZuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Q1NTU3R5bGVTaGVldChsb2NhdGlvbjogc3RyaW5nKTogUHJvbWlzZTxDU1NTdHlsZVNoZWV0IHwgdW5kZWZpbmVkPiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmltcG9ydEZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbXBvcnRDU1NTdHlsZVNoZWV0KGxvY2F0aW9uLCB0aGlzLmltcG9ydEZuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaENTU1N0eWxlU2hlZXQobG9jYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgaW1wb3J0Q1NTU3R5bGVTaGVldChsb2NhdGlvbjogc3RyaW5nLCBpbXBvcnRGbjogSW1wb3J0Rm4pIHtcclxuICAgICAgICBjb25zb2xlLmRlYnVnKCdpbXBvcnQ6ICcgKyBsb2NhdGlvbik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY3NzTW9kdWxlOiBhbnkgPSBhd2FpdCBpbXBvcnRGbihsb2NhdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiBjc3NNb2R1bGUuZGVmYXVsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGZldGNoQ1NTU3R5bGVTaGVldChsb2NhdGlvbjogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dDogc3RyaW5nID0gYXdhaXQgdGhpcy5mZXRjaFRleHQuZmV0Y2hUZXh0KGxvY2F0aW9uKTtcclxuICAgICAgICBjb25zdCBjc3NTdHlsZVNoZWV0ID0gbmV3IENTU1N0eWxlU2hlZXQoe2Jhc2VVUkw6IGxvY2F0aW9ufSk7XHJcbiAgICAgICAgcmV0dXJuIGNzc1N0eWxlU2hlZXQucmVwbGFjZSh0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IGltcG9ydEZuOiBJbXBvcnRGbiB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxudHlwZSBJbXBvcnRGbiA9IChsb2NhdGlvbjogc3RyaW5nKSA9PiBQcm9taXNlPENTU1N0eWxlU2hlZXQ+O1xyXG5cclxuLyoqXHJcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1N0YXRlbWVudHMvaW1wb3J0L3dpdGhcclxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9Nb2R1bGVzI2xvYWRpbmdfbm9uLWphdmFzY3JpcHRfcmVzb3VyY2VzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRJbXBvcnRGbigpOiBJbXBvcnRGbiB8IHVuZGVmaW5lZCB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBldmFsKCdsb2NhdGlvbiA9PiBpbXBvcnQobG9jYXRpb24sIHt3aXRoOiB7dHlwZTogXCJjc3NcIn19KScpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGludGVyZmFjZSBGZXRjaFRleHQge1xyXG4gICAgZmV0Y2hUZXh0KGlucHV0OiBSZXF1ZXN0SW5mbyB8IFVSTCk6IFByb21pc2U8c3RyaW5nPjtcclxufVxyXG5cclxuY2xhc3MgRmV0Y2hUZXh0X0RPTSBpbXBsZW1lbnRzIEZldGNoVGV4dCB7XHJcbiAgICBwdWJsaWMgYXN5bmMgZmV0Y2hUZXh0KGlucHV0OiBSZXF1ZXN0SW5mbyB8IFVSTCk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnZmV0Y2g6ICcgKyBpbnB1dCk7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChpbnB1dCk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0LCB7Y2F1c2U6IHJlc3BvbnNlfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBGZXRjaFRleHRfRE9NX3NpbmdsZXRvbiA9IG5ldyBGZXRjaFRleHRfRE9NKCk7XHJcbiIsImltcG9ydCB7Q3VzdG9tYXJ5fSBmcm9tIFwiI2N1c3RvbWFyeS9pbmRleC5qc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKGV2ZW50KSA9PiB7XHJcblx0aWYgKCEoZ2xvYmFsVGhpcyBhcyBhbnkpW2BjdXN0b21hcnktb3B0aW9uczphdXRvZGV0ZWN0LWRvbnRgXSkge1xyXG5cdFx0dm9pZCBDdXN0b21hcnkuYXV0b2RldGVjdCgpO1xyXG5cdH1cclxufSk7XHJcblxyXG5leHBvcnQgKiBmcm9tICcjY3VzdG9tYXJ5L2luZGV4LmpzJztcclxuIiwiaW1wb3J0IHtDdXN0b21hcnl9IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeS5qc1wiO1xyXG5pbXBvcnQgdHlwZSB7Q3VzdG9tYXJ5RGVjbGFyYXRpb24gYXMgQ30gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcclxuaW1wb3J0IHtDdXN0b21hcnlFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlFbGVtZW50LmpzXCI7XHJcblxyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcGFyY2VsLWJ1bmRsZXIvcGFyY2VsL2lzc3Vlcy80Nzk2I2lzc3VlY29tbWVudC02NjAzNTYwNjJcclxuLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xyXG5leHBvcnQgdHlwZSBDdXN0b21hcnlEZWNsYXJhdGlvbjxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+ID0gQzxUPjtcclxuXHJcbmV4cG9ydCAqIGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xyXG5leHBvcnQge0N1c3RvbWFyeSwgQ3VzdG9tYXJ5RWxlbWVudH07XHJcbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGV0ZWN0b3J9IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURldGVjdG9yLmpzXCI7XHJcbmltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uLmpzXCI7XHJcbmltcG9ydCB7Q3VzdG9tYXJ5UmVnaXN0cnl9IGZyb20gXCIjY3VzdG9tYXJ5L3JlZ2lzdHJ5L0N1c3RvbWFyeVJlZ2lzdHJ5LmpzXCI7XHJcbmltcG9ydCB7Q3VzdG9tYXJ5RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RWxlbWVudC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeVxyXG57XHJcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xyXG5cdHN0YXRpYyBhc3luYyBhdXRvZGV0ZWN0KCkge1xyXG5cdFx0YXdhaXQgdGhpcy5kZXRlY3QoKTtcclxuXHJcblx0XHRjb25zdCBjdXN0b21hcnlSZWdpc3RyeSA9IEN1c3RvbWFyeVJlZ2lzdHJ5LnNpbmdsZXRvbigpO1xyXG5cdFx0YXdhaXQgY3VzdG9tYXJ5UmVnaXN0cnkuc2V0dGxlKCk7XHJcblx0fVxyXG5cclxuXHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXHJcblx0c3RhdGljIGRlY2xhcmU8VCBleHRlbmRzIEhUTUxFbGVtZW50Pihjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yKVxyXG5cdHtcclxuXHRcdGNvbnN0IGN1c3RvbWFyeVJlZ2lzdHJ5ID0gQ3VzdG9tYXJ5UmVnaXN0cnkuc2luZ2xldG9uKCk7XHJcblx0XHR2b2lkIGN1c3RvbWFyeVJlZ2lzdHJ5LmRlY2xhcmUoXHJcblx0XHRcdFx0Y29uc3RydWN0b3IsXHJcblx0XHRcdFx0KGNvbnN0cnVjdG9yIGFzIGFueSk/LmN1c3RvbWFyeSBhcyBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPlxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRzdGF0aWMgYXN5bmMgdW50aWxEZWZpbmVkKGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IpOiBQcm9taXNlPEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcj4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tYXJ5UmVnaXN0cnkgPSBDdXN0b21hcnlSZWdpc3RyeS5zaW5nbGV0b24oKTtcclxuXHRcdHJldHVybiBhd2FpdCBjdXN0b21hcnlSZWdpc3RyeS51bnRpbERlZmluZWQoY29uc3RydWN0b3IpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgYXN5bmMgZGV0ZWN0KCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y29uc3QgY3VzdG9tYXJ5UmVnaXN0cnkgPSBDdXN0b21hcnlSZWdpc3RyeS5zaW5nbGV0b24oKTtcclxuXHRcdGNvbnN0IGRldGVjdG9yID0gbmV3IEN1c3RvbWFyeURldGVjdG9yKGRvY3VtZW50LCBnbG9iYWxUaGlzKTtcclxuXHRcdGNvbnN0IGRlY2xhcmF0aW9uczogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PltdID0gZGV0ZWN0b3IuZGV0ZWN0KCk7XHJcblx0XHRjb25zdCBwcm9taXNlcyA9IGRlY2xhcmF0aW9ucy5tYXAoZGVjbGFyYXRpb24gPT5cclxuXHRcdFx0XHRjdXN0b21hcnlSZWdpc3RyeS5kZWNsYXJlKFxyXG5cdFx0XHRcdFx0XHRjbGFzcyBFcGhlbWVyYWxDdXN0b21hcnlFbGVtZW50IGV4dGVuZHMgQ3VzdG9tYXJ5RWxlbWVudCB7fSxcclxuXHRcdFx0XHRcdFx0ZGVjbGFyYXRpb25cclxuXHRcdFx0XHQpXHJcblx0XHQpO1xyXG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeURldGVjdG9yIHtcclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdFx0cHJpdmF0ZSByZWFkb25seSBkb2N1bWVudDogRG9jdW1lbnQsXHJcblx0XHRcdHByaXZhdGUgcmVhZG9ubHkgZ2xvYmFsVGhpczogYW55XHJcblx0KSB7fVxyXG5cclxuXHRkZXRlY3QoKTogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PltdIHtcclxuXHRcdHJldHVybiB0aGlzLmRldGVjdEVsZW1lbnROYW1lcygpLm1hcChuYW1lID0+IHRoaXMuZGV0ZWN0RGVjbGFyYXRpb24obmFtZSkpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkZXRlY3RFbGVtZW50TmFtZXMoKTogc3RyaW5nW10ge1xyXG5cdFx0Y29uc3QgYXR0cmlidXRlID0gJ2RhdGEtY3VzdG9tYXJ5LW5hbWUnO1xyXG5cdFx0Y29uc3QgZnJvbURvY3VtZW50ID0gWy4uLnRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgdGVtcGxhdGVbJHthdHRyaWJ1dGV9XWApXVxyXG5cdFx0XHRcdC5tYXAodGVtcGxhdGUgPT4gdGVtcGxhdGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkhKTtcclxuXHJcblx0XHRjb25zdCBwcmVmaXggPSAnY3VzdG9tYXJ5Oic7XHJcblx0XHRjb25zdCBmcm9tR2xvYmFsU2NvcGUgPSBPYmplY3Qua2V5cyh0aGlzLmdsb2JhbFRoaXMpXHJcblx0XHRcdFx0LmZpbHRlcihuYW1lID0+IG5hbWUuc3RhcnRzV2l0aChwcmVmaXgpKVxyXG5cdFx0XHRcdC5tYXAobmFtZSA9PiBuYW1lLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSk7XHJcblxyXG5cdFx0cmV0dXJuIFsuLi5uZXcgU2V0KFsuLi5mcm9tRG9jdW1lbnQsIC4uLmZyb21HbG9iYWxTY29wZV0pXTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGV0ZWN0RGVjbGFyYXRpb24obmFtZTogc3RyaW5nKTogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PiB7XHJcblx0XHRjb25zdCBmcm9tR2xvYmFsU2NvcGU6IFBhcnRpYWw8Q3VzdG9tYXJ5RGVjbGFyYXRpb248YW55Pj4gPSB0aGlzLmdsb2JhbFRoaXNbYGN1c3RvbWFyeToke25hbWV9YF07XHJcblxyXG5cdFx0Y29uc3QgY29uZmlnID0gZnJvbUdsb2JhbFNjb3BlPy5jb25maWc7XHJcblx0XHRjb25zdCBob29rcyA9IGZyb21HbG9iYWxTY29wZT8uaG9va3M7XHJcblx0XHRjb25zdCB2YWx1ZXMgPSBmcm9tR2xvYmFsU2NvcGU/LnZhbHVlcyA/PyB0aGlzLmRldGVjdFZhbHVlcyhuYW1lKTtcclxuXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRuYW1lLFxyXG5cdFx0XHQuLi4oY29uZmlnID8ge2NvbmZpZ30gOiB7fSksXHJcblx0XHRcdC4uLihob29rcyA/IHtob29rc30gOiB7fSksXHJcblx0XHRcdC4uLih2YWx1ZXMgPyB7dmFsdWVzfSA6IHt9KSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRldGVjdFZhbHVlcyhuYW1lOiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBvYmplY3QgfCBvYmplY3RbXT4gfCB1bmRlZmluZWQge1xyXG5cdFx0Y29uc3QgZWxlbWVudHMgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcdFx0YHNjcmlwdFt0eXBlPVwiYXBwbGljYXRpb24vanNvblwiXVtkYXRhLWN1c3RvbWFyeS1uYW1lPScke25hbWV9J11gXHJcblx0XHQpO1xyXG5cdFx0aWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCBvYmplY3QgfCBvYmplY3RbXT4gPSB7fTtcclxuXHRcdGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG5cdFx0XHRpZiAoZWxlbWVudC50ZXh0Q29udGVudCkge1xyXG5cdFx0XHRcdC8vIFRPRE8gUmVxdWlyZSBhIGtleSBhbmQgcmV0aXJlIGRlZmF1bHQgJ3N0YXRlJ1xyXG5cdFx0XHRcdGNvbnN0IGtleSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbWFyeS12YWx1ZScpID8/ICdzdGF0ZSc7XHJcblx0XHRcdFx0cmVzdWx0W2tleV0gPSBKU09OLnBhcnNlKGVsZW1lbnQudGV4dENvbnRlbnQpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxufVxyXG4iLCJpbXBvcnQge0N1c3RvbWFyeURlZmluaXRpb24sIGhhc0RlZmluaXRpb24sIHNldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb24uanNcIjtcclxuaW1wb3J0IHtDdXN0b21hcnlEZWZpbmV9IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluZS5qc1wiO1xyXG5cclxuY29uc3QgV0FJVF9UT19ERUZJTkVfRVZFUllUSElOR19JTl9USEVfRU5EID0gZmFsc2U7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3VzdG9tYXJ5UmVnaXN0cnlcclxue1xyXG4gICAgc3RhdGljIHNpbmdsZXRvbigpOiBDdXN0b21hcnlSZWdpc3RyeSB7XHJcbiAgICAgICAgcmV0dXJuIEN1c3RvbWFyeVJlZ2lzdHJ5LkN1c3RvbWFyeVJlZ2lzdHJ5X3NpbmdsZXRvblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlY2xhcmUoXHJcbiAgICAgICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvcixcclxuICAgICAgICBkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PlxyXG4gICAgKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKCFkZWNsYXJhdGlvbi5uYW1lKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBuYW1lIG11c3QgYmUgcHJvdmlkZWQgdG8gZGVmaW5lIGEgY3VzdG9tIGVsZW1lbnQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIVdBSVRfVE9fREVGSU5FX0VWRVJZVEhJTkdfSU5fVEhFX0VORCkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlZmluZShjb25zdHJ1Y3RvciwgZGVjbGFyYXRpb24pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRlY2xhcmF0aW9ucy5zZXQoY29uc3RydWN0b3IsIGRlY2xhcmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZXR0bGUoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgaWYgKCFXQUlUX1RPX0RFRklORV9FVkVSWVRISU5HX0lOX1RIRV9FTkQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZW50cmllcyA9IFsuLi50aGlzLmRlY2xhcmF0aW9ucy5lbnRyaWVzKCldO1xyXG5cclxuICAgICAgICBjb25zdCBwcm9taXNlcyA9IGVudHJpZXMubWFwKFxyXG4gICAgICAgICAgICBlbnRyeSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdFxyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yLCBkZWNsYXJhdGlvblxyXG4gICAgICAgICAgICAgICAgXTogW1xyXG4gICAgICAgICAgICAgICAgQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yLCBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+XHJcbiAgICAgICAgICAgIF0gPSBlbnRyeTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmluZShjb25zdHJ1Y3RvciwgZGVjbGFyYXRpb24pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdW50aWxEZWZpbmVkKGNvbnN0cnVjdG9yOiBDdXN0b21FbGVtZW50Q29uc3RydWN0b3IpOiBQcm9taXNlPEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3Rvcj4ge1xyXG4gICAgICAgIGNvbnN0IG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IChjb25zdHJ1Y3RvciBhcyBhbnkpLmN1c3RvbWFyeT8ubmFtZTtcclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NsYXNzIG11c3QgaGF2ZSB0aGUgXCJjdXN0b21hcnlcIiBkZWNsYXJhdGlvbiB3aXRoIGEgXCJuYW1lXCIgcHJvcGVydHkuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5kb21fY3VzdG9tRWxlbWVudFJlZ2lzdHJ5LndoZW5EZWZpbmVkKG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZGVmaW5lPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXHJcbiAgICAgICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvcixcclxuICAgICAgICBkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248YW55PlxyXG4gICAgKTogUHJvbWlzZTx2b2lkPlxyXG4gICAge1xyXG4gICAgICAgIGlmIChoYXNEZWZpbml0aW9uKGNvbnN0cnVjdG9yKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGAke2NvbnN0cnVjdG9yLm5hbWV9OiBlbGVtZW50IGFscmVhZHkgZGVmaW5lZCwgc2tpcHBpbmcuLi5gKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPiA9XHJcbiAgICAgICAgICAgIGF3YWl0IG5ldyBDdXN0b21hcnlEZWZpbmUoZGVjbGFyYXRpb24pLmRlZmluZShjb25zdHJ1Y3Rvcik7XHJcblxyXG4gICAgICAgIHNldERlZmluaXRpb24oY29uc3RydWN0b3IsIGRlZmluaXRpb24pO1xyXG5cclxuICAgICAgICB0aGlzLmRvbV9jdXN0b21FbGVtZW50UmVnaXN0cnkuZGVmaW5lKFxyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5uYW1lISwgY29uc3RydWN0b3IsXHJcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uLmhvb2tzPy5kb20/LmRlZmluZT8ub3B0aW9uc1xyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBkb21fY3VzdG9tRWxlbWVudFJlZ2lzdHJ5OiBDdXN0b21FbGVtZW50UmVnaXN0cnkpIHt9XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBkZWNsYXJhdGlvbnM6IE1hcDxDdXN0b21FbGVtZW50Q29uc3RydWN0b3IsIEN1c3RvbWFyeURlY2xhcmF0aW9uPGFueT4+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IEN1c3RvbWFyeVJlZ2lzdHJ5X3NpbmdsZXRvbjogQ3VzdG9tYXJ5UmVnaXN0cnkgPSBuZXcgQ3VzdG9tYXJ5UmVnaXN0cnkoY3VzdG9tRWxlbWVudHMpO1xyXG59XHJcbiIsImltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgdHlwZSBDdXN0b21hcnlEZWZpbml0aW9uPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4gPVxyXG57XHJcbiAgICByZWFkb25seSBkZWNsYXJhdGlvbjogQ3VzdG9tYXJ5RGVjbGFyYXRpb248VD47XHJcbiAgICByZWFkb25seSBjc3NTdHlsZVNoZWV0PzogQ1NTU3R5bGVTaGVldDtcclxuICAgIHJlYWRvbmx5IGltbXV0YWJsZV9odG1sU3RyaW5nOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNEZWZpbml0aW9uKFxyXG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvclxyXG4pXHJcbntcclxuICAgIHJldHVybiBkZWZpbml0aW9uX3Byb3BlcnR5IGluIGNvbnN0cnVjdG9yO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmaW5pdGlvbjxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxyXG4gICAgY29uc3RydWN0b3I6IEN1c3RvbUVsZW1lbnRDb25zdHJ1Y3RvciwgZGVmaW5pdGlvbjogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxyXG4pXHJcbntcclxuICAgIChjb25zdHJ1Y3RvciBhcyBhbnkpW2RlZmluaXRpb25fcHJvcGVydHldID0gZGVmaW5pdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmluaXRpb248VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKTogQ3VzdG9tYXJ5RGVmaW5pdGlvbjxUPlxyXG57XHJcbiAgICBjb25zdCBjb25zdHJ1Y3RvciA9IGVsZW1lbnQuY29uc3RydWN0b3I7XHJcbiAgICByZXR1cm4gKGNvbnN0cnVjdG9yIGFzIGFueSlbZGVmaW5pdGlvbl9wcm9wZXJ0eV0gPz8gKCgpID0+IHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7Y29uc3RydWN0b3IubmFtZX06IGVsZW1lbnQgbmV2ZXIgZGVmaW5lZGApXHJcbiAgICB9KSgpO1xyXG59XHJcblxyXG5jb25zdCBkZWZpbml0aW9uX3Byb3BlcnR5ID0gJ2N1c3RvbWFyeV9kZWZpbml0aW9uJztcclxuIiwiaW1wb3J0IHtDU1NTdHlsZVNoZWV0QWRvcHRlcn0gZnJvbSBcIiNjdXN0b21hcnkvY3Nzc3R5bGVzaGVldC9DU1NTdHlsZVNoZWV0QWRvcHRlci5qc1wiO1xyXG5pbXBvcnQge0N1c3RvbWFyeURlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb24uanNcIjtcclxuaW1wb3J0IHtFeHRlcm5hbExvYWRlcn0gZnJvbSBcIiNjdXN0b21hcnkvZXh0ZXJuYWwvRXh0ZXJuYWxMb2FkZXIuanNcIjtcclxuaW1wb3J0IHtGZXRjaFRleHQsIEZldGNoVGV4dF9ET01fc2luZ2xldG9ufSBmcm9tIFwiI2N1c3RvbWFyeS9mZXRjaC9GZXRjaFRleHQuanNcIjtcclxuaW1wb3J0IHtDU1NTdHlsZVNoZWV0SW1wb3J0ZXJ9IGZyb20gXCIjY3VzdG9tYXJ5L2Nzc3N0eWxlc2hlZXQvQ1NTU3R5bGVTaGVldEltcG9ydGVyLmpzXCI7XHJcbmltcG9ydCB7RGlyZWN0aXZlX2Zvcn0gZnJvbSBcIiNjdXN0b21hcnkvZGlyZWN0aXZlcy9EaXJlY3RpdmVfZm9yLmpzXCI7XHJcbmltcG9ydCB7RGlyZWN0aXZlX2lmfSBmcm9tIFwiI2N1c3RvbWFyeS9kaXJlY3RpdmVzL0RpcmVjdGl2ZV9pZi5qc1wiO1xyXG5pbXBvcnQge0RpcmVjdGl2ZV9pbnNpZGV9IGZyb20gXCIjY3VzdG9tYXJ5L2RpcmVjdGl2ZXMvRGlyZWN0aXZlX2luc2lkZS5qc1wiO1xyXG5pbXBvcnQge0RpcmVjdGl2ZV9zd2l0Y2h9IGZyb20gXCIjY3VzdG9tYXJ5L2RpcmVjdGl2ZXMvRGlyZWN0aXZlX3N3aXRjaC5qc1wiO1xyXG5pbXBvcnQge0F0dHJpYnV0ZVByb3BlcnRpZXN9IGZyb20gXCIjY3VzdG9tYXJ5L2F0dHJpYnV0ZXMvQXR0cmlidXRlUHJvcGVydGllcy5qc1wiO1xyXG5pbXBvcnQge1N0YXRlUHJvcGVydGllc30gZnJvbSBcIiNjdXN0b21hcnkvc3RhdGUvU3RhdGVQcm9wZXJ0aWVzLmpzXCI7XHJcbmltcG9ydCB7UHJvcGVydGllc1Byb3BlcnRpZXN9IGZyb20gXCIjY3VzdG9tYXJ5L3Byb3BlcnRpZXMvUHJvcGVydGllc1Byb3BlcnRpZXMuanNcIjtcclxuaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDdXN0b21hcnlEZWZpbmU8VCBleHRlbmRzIEhUTUxFbGVtZW50PiB7XHJcblxyXG5cdGFzeW5jIGRlZmluZShjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yKTogUHJvbWlzZTxDdXN0b21hcnlEZWZpbml0aW9uPFQ+PiB7XHJcblx0XHRjb25zdCBbZGVmaW5pdGlvbiwgXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuXHRcdFx0dGhpcy5idWlsZERlZmluaXRpb24oY29uc3RydWN0b3IpLFxyXG5cdFx0XHR0aGlzLmFkb3B0X2ZvbnRfY3NzU3R5bGVTaGVldHMoKSxcclxuXHRcdF0pXHJcblx0XHRyZXR1cm4gZGVmaW5pdGlvbjtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgYnVpbGREZWZpbml0aW9uKFxyXG5cdFx0XHRjb25zdHJ1Y3RvcjogQ3VzdG9tRWxlbWVudENvbnN0cnVjdG9yXHJcblx0KTogUHJvbWlzZTxDdXN0b21hcnlEZWZpbml0aW9uPFQ+PlxyXG5cdHtcclxuXHRcdGNvbnN0IHt0ZW1wbGF0ZSwgdGVtcGxhdGVJbkRvY3VtZW50fSA9XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5yZXNvbHZlSFRNTFRlbXBsYXRlRWxlbWVudCh0aGlzLm5hbWUpO1xyXG5cclxuXHRcdHRoaXMuYWRkUHJvcGVydGllcyhjb25zdHJ1Y3RvciBhcyB0eXBlb2YgTGl0RWxlbWVudCwgdGVtcGxhdGUpO1xyXG5cclxuXHRcdGNvbnN0IGNzc1N0eWxlU2hlZXQ6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQgPSB0ZW1wbGF0ZUluRG9jdW1lbnRcclxuXHRcdFx0XHQ/IHVuZGVmaW5lZCA6IGF3YWl0IHRoaXMubG9hZEV4dGVybmFsQ1NTU3R5bGVTaGVldCgpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGltbXV0YWJsZV9odG1sU3RyaW5nOiB0aGlzLmdldEh0bWxTdHJpbmcodGVtcGxhdGUpLFxyXG5cdFx0XHQuLi4oY3NzU3R5bGVTaGVldCA/IHtjc3NTdHlsZVNoZWV0fSA6IHt9KSxcclxuXHRcdFx0ZGVjbGFyYXRpb246IHRoaXMuZGVjbGFyYXRpb24sXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyByZXNvbHZlSFRNTFRlbXBsYXRlRWxlbWVudChcclxuXHRcdFx0bmFtZTogc3RyaW5nXHJcblx0KTogUHJvbWlzZTx7XHJcblx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcblx0XHR0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudDtcclxuXHR9PiB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0ZW1wbGF0ZUluRG9jdW1lbnQ6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgfCB1bmRlZmluZWQgPVxyXG5cdFx0XHRcdFx0ZmluZEhUTUxUZW1wbGF0ZUVsZW1lbnQobmFtZSwgZG9jdW1lbnQpO1xyXG5cclxuXHRcdFx0aWYgKHRlbXBsYXRlSW5Eb2N1bWVudCkgcmV0dXJuIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZTogdGVtcGxhdGVJbkRvY3VtZW50LFxyXG5cdFx0XHRcdHRlbXBsYXRlSW5Eb2N1bWVudCxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHRlbXBsYXRlSW5FeHRlcm5hbEZpbGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQgPVxyXG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5maW5kSFRNTFRlbXBsYXRlRWxlbWVudEluRXh0ZXJuYWxGaWxlKG5hbWUpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHR0ZW1wbGF0ZTogdGVtcGxhdGVJbkV4dGVybmFsRmlsZSxcclxuXHRcdFx0XHR0ZW1wbGF0ZUluRG9jdW1lbnQ6IHVuZGVmaW5lZCxcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0Y2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcclxuXHRcdFx0XHRcdCd0ZW1wbGF0ZSB1bnJlc29sdmFibGUgZnJvbSBjdXJyZW50IHBhZ2Ugb3IgZXh0ZXJuYWwgaHRtbCcsXHJcblx0XHRcdFx0XHR7Y2F1c2U6IGVycm9yfVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhZGRQcm9wZXJ0aWVzKFxyXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXHJcblx0XHRcdHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50XHJcblx0KVxyXG5cdHtcclxuXHRcdEF0dHJpYnV0ZVByb3BlcnRpZXMuYWRkUHJvcGVydGllcyhjb25zdHJ1Y3RvciwgdGhpcy5kZWNsYXJhdGlvbiwgdGVtcGxhdGUpO1xyXG5cdFx0U3RhdGVQcm9wZXJ0aWVzLmFkZFByb3BlcnRpZXMoY29uc3RydWN0b3IsIHRoaXMuZGVjbGFyYXRpb24pO1xyXG5cdFx0UHJvcGVydGllc1Byb3BlcnRpZXMuYWRkUHJvcGVydGllcyhjb25zdHJ1Y3RvciwgdGhpcy5kZWNsYXJhdGlvbik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEh0bWxTdHJpbmcodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpOiBzdHJpbmdcclxuXHR7XHJcblx0XHREaXJlY3RpdmVfZm9yLmh5ZHJhdGUodGVtcGxhdGUpO1xyXG5cdFx0RGlyZWN0aXZlX2lmLmh5ZHJhdGUodGVtcGxhdGUpO1xyXG5cdFx0RGlyZWN0aXZlX3N3aXRjaC5oeWRyYXRlKHRlbXBsYXRlKTtcclxuXHJcblx0XHQvLyBtdXN0IGJlIGxhc3QgdG8gYWNjb21tb2RhdGUgYWxsIG90aGVyIGRpcmVjdGl2ZXNcclxuXHRcdERpcmVjdGl2ZV9pbnNpZGUuaHlkcmF0ZSh0ZW1wbGF0ZSk7XHJcblxyXG5cdFx0cmV0dXJuIHJlY29kZSh0ZW1wbGF0ZS5pbm5lckhUTUwpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBmaW5kSFRNTFRlbXBsYXRlRWxlbWVudEluRXh0ZXJuYWxGaWxlKFxyXG5cdFx0XHRuYW1lOiBzdHJpbmdcclxuXHQpOiBQcm9taXNlPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IHtcclxuXHRcdGNvbnN0IGh0bWxTdHJpbmcgPSBhd2FpdCB0aGlzLmxvYWRFeHRlcm5hbEh0bWwoKTtcclxuXHRcdGNvbnN0IHRlbXBsYXRlOiBIVE1MVGVtcGxhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcclxuXHRcdHRlbXBsYXRlLmlubmVySFRNTCA9IGh0bWxTdHJpbmc7XHJcblx0XHRyZXR1cm4gZmluZEhUTUxUZW1wbGF0ZUVsZW1lbnQobmFtZSwgdGVtcGxhdGUuY29udGVudCkgPz8gdGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGxvYWRFeHRlcm5hbEh0bWwoKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCAoYXdhaXQgdGhpcy5leHRlcm5hbExvYWRlcikubG9hZEh0bWwoKTtcclxuXHRcdH1cclxuXHRcdGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0V4dGVybmFsIGh0bWwgZmlsZSBvdXQgb2YgcmVhY2guJywge2NhdXNlOiBlcnJvcn0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBsb2FkRXh0ZXJuYWxDU1NTdHlsZVNoZWV0KCk6IFByb21pc2U8dW5kZWZpbmVkIHwgQ1NTU3R5bGVTaGVldD4ge1xyXG5cdFx0aWYgKHRoaXMuZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5jc3NfZG9udCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBhd2FpdCAoYXdhaXQgdGhpcy5leHRlcm5hbExvYWRlcikubG9hZENzc1N0eWxlU2hlZXQoKTtcclxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdGNvbnNvbGUuZGVidWcoJ0V4dGVybmFsIGNzcyBmaWxlIG91dCBvZiByZWFjaC4nLCB7Y2F1c2U6IGVycm9yfSk7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIGFkb3B0X2ZvbnRfY3NzU3R5bGVTaGVldHMoKSB7XHJcblx0XHRjb25zdCBsb2NhdGlvbnMgPSAoKGE6IHN0cmluZ1tdKSA9PiBhLmxlbmd0aCA+IDAgPyBhIDogdW5kZWZpbmVkKShcclxuXHRcdFx0XHRbXHJcblx0XHRcdFx0XHR0aGlzLmRlY2xhcmF0aW9uLmNvbmZpZz8uZGVmaW5lPy5mb250TG9jYXRpb24sXHJcblx0XHRcdFx0XHQuLi4odGhpcy5kZWNsYXJhdGlvbi5jb25maWc/LmRlZmluZT8uZm9udExvY2F0aW9ucyA/PyBbXSksXHJcblx0XHRcdFx0XVxyXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGxvY2F0aW9uID0+IGxvY2F0aW9uICE9IHVuZGVmaW5lZClcclxuXHRcdCk7XHJcblx0XHRpZiAoIWxvY2F0aW9ucykgcmV0dXJuO1xyXG5cdFx0cmV0dXJuIGF3YWl0IChhd2FpdCB0aGlzLmNzc1N0eWxlU2hlZXRBZG9wdGVyKS5hZG9wdENTU1N0eWxlc2hlZXRzKC4uLmxvY2F0aW9ucyk7XHJcblx0fVxyXG5cclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxhbnk+KSB7fVxyXG5cdHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nID0gdGhpcy5kZWNsYXJhdGlvbi5uYW1lITtcclxuXHJcblx0cHJpdmF0ZSBnZXQgY3NzU3R5bGVTaGVldEltcG9ydGVyKCk6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY3NzU3R5bGVTaGVldEltcG9ydGVyID8/PSBsb2FkQ3NzU3R5bGVTaGVldEltcG9ydGVyKHRoaXMuZmV0Y2hUZXh0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2Nzc1N0eWxlU2hlZXRJbXBvcnRlcjogUHJvbWlzZTxDU1NTdHlsZVNoZWV0SW1wb3J0ZXI+IHwgdW5kZWZpbmVkO1xyXG5cclxuXHRwcml2YXRlIGdldCBjc3NTdHlsZVNoZWV0QWRvcHRlcigpOiBQcm9taXNlPENTU1N0eWxlU2hlZXRBZG9wdGVyPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fY3NzU3R5bGVTaGVldEFkb3B0ZXIgPz89IGxvYWRDc3NTdHlsZVNoZWV0QWRvcHRlcih0aGlzLmNzc1N0eWxlU2hlZXRJbXBvcnRlcik7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9jc3NTdHlsZVNoZWV0QWRvcHRlcjogUHJvbWlzZTxDU1NTdHlsZVNoZWV0QWRvcHRlcj4gfCB1bmRlZmluZWQ7XHJcblxyXG5cdHByaXZhdGUgZ2V0IGV4dGVybmFsTG9hZGVyKCk6IFByb21pc2U8RXh0ZXJuYWxMb2FkZXI+IHtcclxuXHRcdHJldHVybiB0aGlzLl9leHRlcm5hbExvYWRlciA/Pz0gY3JlYXRlRXh0ZXJuYWxMb2FkZXIoXHJcblx0XHRcdFx0dGhpcy5mZXRjaFRleHQsXHJcblx0XHRcdFx0dGhpcy5jc3NTdHlsZVNoZWV0SW1wb3J0ZXIsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0bmFtZTogdGhpcy5uYW1lLFxyXG5cdFx0XHRcdFx0aW1wb3J0X21ldGE6IHRoaXMuZ2V0X2ltcG9ydF9tZXRhKCksXHJcblx0XHRcdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0X2ltcG9ydF9tZXRhKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGVjbGFyYXRpb24uaG9va3M/LmV4dGVybmFsTG9hZGVyPy5pbXBvcnRfbWV0YSA/PyAoKCkgPT4ge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5uYW1lfTogQ3VzdG9tYXJ5IG5lZWRzIFwiaW1wb3J0Lm1ldGFcIiBpZiB0aGUgY3VzdG9tIGVsZW1lbnQgdGVtcGxhdGUgYCArXHJcblx0XHRcdFx0XHQnaXMgdG8gYmUgbG9hZGVkIGZyb20gYW4gZXh0ZXJuYWwgZmlsZS4gJyArXHJcblx0XHRcdFx0XHQnKGRvY3VtZW50IGRpZCBub3QgaGF2ZSBhIG5hbWVkIHRlbXBsYXRlIGVsZW1lbnQsIGFuZCBhbiBodG1sIHN0cmluZyB3YXMgbm90IHByb3ZpZGVkLiknKVxyXG5cdFx0fSkoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgX2V4dGVybmFsTG9hZGVyOiBQcm9taXNlPEV4dGVybmFsTG9hZGVyPiB8IHVuZGVmaW5lZDtcclxuXHJcblx0cHJpdmF0ZSBnZXQgZmV0Y2hUZXh0KCk6IFByb21pc2U8RmV0Y2hUZXh0PiB7XHJcblx0XHRyZXR1cm4gdGhpcy5fZmV0Y2hUZXh0ID8/PSBsb2FkRmV0Y2hUZXh0KCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIF9mZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0PiB8IHVuZGVmaW5lZDtcclxuXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDc3NTdHlsZVNoZWV0QWRvcHRlcihjc3NTdHlsZVNoZWV0SW1wb3J0ZXI6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPik6IFByb21pc2U8Q1NTU3R5bGVTaGVldEFkb3B0ZXI+IHtcclxuXHRyZXR1cm4gbmV3IENTU1N0eWxlU2hlZXRBZG9wdGVyKGF3YWl0IGNzc1N0eWxlU2hlZXRJbXBvcnRlciBhcyBhbnksIGRvY3VtZW50KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gbG9hZENzc1N0eWxlU2hlZXRJbXBvcnRlcihmZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0Pik6IFByb21pc2U8Q1NTU3R5bGVTaGVldEltcG9ydGVyPiB7XHJcblx0cmV0dXJuIG5ldyBDU1NTdHlsZVNoZWV0SW1wb3J0ZXIoYXdhaXQgZmV0Y2hUZXh0KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlRXh0ZXJuYWxMb2FkZXIoXHJcblx0XHRmZXRjaFRleHQ6IFByb21pc2U8RmV0Y2hUZXh0PixcclxuXHRcdGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogUHJvbWlzZTxDU1NTdHlsZVNoZWV0SW1wb3J0ZXI+LFxyXG5cdFx0b3B0aW9uczoge1xyXG5cdFx0XHRuYW1lOiBzdHJpbmcsXHJcblx0XHRcdGltcG9ydF9tZXRhOiBJbXBvcnRNZXRhO1xyXG5cdFx0fVxyXG4pOiBQcm9taXNlPEV4dGVybmFsTG9hZGVyPiB7XHJcblx0cmV0dXJuIG5ldyBFeHRlcm5hbExvYWRlcihcclxuXHRcdFx0YXdhaXQgZmV0Y2hUZXh0LFxyXG5cdFx0XHRhd2FpdCBjc3NTdHlsZVNoZWV0SW1wb3J0ZXIsXHJcblx0XHRcdG9wdGlvbnNcclxuXHQpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2FkRmV0Y2hUZXh0KCk6IFByb21pc2U8RmV0Y2hUZXh0PiB7XHJcblx0cmV0dXJuIEZldGNoVGV4dF9ET01fc2luZ2xldG9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kSFRNTFRlbXBsYXRlRWxlbWVudChuYW1lOiBzdHJpbmcsIG5vZGU6IFBhcmVudE5vZGUpOiBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkIHtcclxuXHRyZXR1cm4gbm9kZS5xdWVyeVNlbGVjdG9yKGB0ZW1wbGF0ZVtkYXRhLWN1c3RvbWFyeS1uYW1lPScke25hbWV9J11gKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50ID8/IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLyoqXHJcbiBpbm5lckhUTUwgZW5jb2RlcyBzb21lIGNoYXJhY3RlcnMgdXNlZCBieSBsaXQgZGlyZWN0aXZlc1xyXG4gc28gd2UgbXVzdCBkZWNvZGUgdGhlbSBiYWNrIGludG8gdGhlIEhUTUwgc3RyaW5nLlxyXG4gb3ZlciB0aW1lIHRoZSBuZWVkIHRvIGRvIHRoaXMgc2hvdWxkIGRpc2FwcGVhcixcclxuIGFzIHdlIGFkZCBkaXJlY3RpdmUgbWFya3VwIGZvciBhIGxhcmdlciBudW1iZXIgb2YgbGl0IGRpcmVjdGl2ZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWNvZGUoaHRtbFN0cmluZzogc3RyaW5nKSB7XHJcblx0Ly8gbGl0IGRpcmVjdGl2ZXMgZXhwcmVzc2VkIGFzIGFycm93IGZ1bmN0aW9uc1xyXG5cdHJldHVybiBodG1sU3RyaW5nLnJlcGxhY2VBbGwoJz0mZ3Q7JywgJz0+Jyk7XHJcbn1cclxuIiwiaW1wb3J0IHtDU1NTdHlsZVNoZWV0SW1wb3J0ZXJ9IGZyb20gXCIjY3VzdG9tYXJ5L2Nzc3N0eWxlc2hlZXQvQ1NTU3R5bGVTaGVldEltcG9ydGVyLmpzXCI7XHJcbmltcG9ydCB7RmV0Y2hUZXh0X0RPTV9zaW5nbGV0b259IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xyXG5cclxuLy8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRvcHRDU1NTdHlsZXNoZWV0cyguLi5sb2NhdGlvbnM6IHN0cmluZ1tdKSB7XHJcbiAgICBhd2FpdCBuZXcgQ1NTU3R5bGVTaGVldEFkb3B0ZXIoXHJcbiAgICAgICAgbmV3IENTU1N0eWxlU2hlZXRJbXBvcnRlcihGZXRjaFRleHRfRE9NX3NpbmdsZXRvbiksIGRvY3VtZW50XHJcbiAgICApLmFkb3B0Q1NTU3R5bGVzaGVldHMoLi4ubG9jYXRpb25zKTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENTU1N0eWxlU2hlZXRBZG9wdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgY3NzU3R5bGVTaGVldEltcG9ydGVyOiBDU1NTdHlsZVNoZWV0SW1wb3J0ZXIsXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBkb2N1bWVudDogRG9jdW1lbnQsXHJcbiAgICApIHt9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGFkb3B0Q1NTU3R5bGVzaGVldHMoLi4ubG9jYXRpb25zOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIGNvbnN0IGNzc1N0eWxlU2hlZXRzTWF5YmU6IChDU1NTdHlsZVNoZWV0IHwgdW5kZWZpbmVkKVtdID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgICAgICAgIGxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4gdGhpcy5jc3NTdHlsZVNoZWV0SW1wb3J0ZXIuZ2V0Q1NTU3R5bGVTaGVldChsb2NhdGlvbikpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBjc3NTdHlsZVNoZWV0czogQ1NTU3R5bGVTaGVldFtdID0gY3NzU3R5bGVTaGVldHNNYXliZS5maWx0ZXIoXHJcbiAgICAgICAgICAgIGNzc1N0eWxlU2hlZXQgPT4gISFjc3NTdHlsZVNoZWV0XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoY3NzU3R5bGVTaGVldHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmFkb3B0ZWRTdHlsZVNoZWV0c19wdXNoKGNzc1N0eWxlU2hlZXRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBhZG9wdGVyIG9mIGZvbnQgc3R5bGVzaGVldHMgY2FuIG9ubHkgYmUgdGhlIHJvb3QgZG9jdW1lbnQgZG9tLCBub3QgdGhlIHNoYWRvdyBkb20uXHJcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xNTk4NzcjaXNzdWVjb21tZW50LTEyNjI4NDM5NTJcclxuICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21kbi9pbnRlcmFjdGl2ZS1leGFtcGxlcy9pc3N1ZXMvODg3I2lzc3VlY29tbWVudC00MzI2MDY5MjVcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBhZG9wdGVkU3R5bGVTaGVldHNfcHVzaChjc3NTdHlsZVNoZWV0czogQ1NTU3R5bGVTaGVldFtdKSB7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudC5hZG9wdGVkU3R5bGVTaGVldHMucHVzaCguLi5jc3NTdHlsZVNoZWV0cyk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IHtGZXRjaFRleHR9IGZyb20gXCIjY3VzdG9tYXJ5L2ZldGNoL0ZldGNoVGV4dC5qc1wiO1xyXG5cclxuaW50ZXJmYWNlIENTU1N0eWxlU2hlZXRJbXBvcnRlciB7XHJcbiAgICBnZXRDU1NTdHlsZVNoZWV0KGxvY2F0aW9uOiBzdHJpbmcpOiBQcm9taXNlPENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQ+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRXh0ZXJuYWxMb2FkZXIge1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSBmZXRjaFRleHQ6IEZldGNoVGV4dCxcclxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGNzc1N0eWxlU2hlZXRJbXBvcnRlcjogQ1NTU3R5bGVTaGVldEltcG9ydGVyLFxyXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczoge1xyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIGltcG9ydF9tZXRhOiBJbXBvcnRNZXRhO1xyXG4gICAgICAgIH1cclxuICAgICkge31cclxuXHJcbiAgICBhc3luYyBsb2FkSHRtbCgpOiBQcm9taXNlPHN0cmluZz5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHRoaXMucmVzb2x2ZVJlc291cmNlTG9jYXRpb24oJ2h0bWwnKTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaFRleHQuZmV0Y2hUZXh0KGxvY2F0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkQ3NzU3R5bGVTaGVldCgpOiBQcm9taXNlPHVuZGVmaW5lZCB8IENTU1N0eWxlU2hlZXQ+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSB0aGlzLnJlc29sdmVSZXNvdXJjZUxvY2F0aW9uKCdjc3MnKTtcclxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jc3NTdHlsZVNoZWV0SW1wb3J0ZXIuZ2V0Q1NTU3R5bGVTaGVldChsb2NhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZXNvbHZlUmVzb3VyY2VMb2NhdGlvbihleHRlbnNpb246IHN0cmluZyk6IHN0cmluZ1xyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW1wb3J0X21ldGEucmVzb2x2ZShgLi8ke3RoaXMub3B0aW9ucy5uYW1lfS4ke2V4dGVuc2lvbn1gKTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHtzZXRfb3V0ZXJIVE1MfSBmcm9tIFwiLi9zZXRfb3V0ZXJIVE1MLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlyZWN0aXZlX2ZvclxyXG57XHJcblx0c3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcclxuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXHJcblx0e1xyXG5cdFx0d2hpbGUgKHRydWUpIHtcclxuXHRcdFx0Y29uc3QgdGFnID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdmb3ItLScpO1xyXG5cdFx0XHRpZiAoIXRhZykgcmV0dXJuO1xyXG5cclxuXHRcdFx0dGhpcy5oeWRyYXRlVHJlZSh0YWcsIHRlbXBsYXRlKTtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW1zID0gdGFnLmdldEF0dHJpYnV0ZSgnaXRlbXMnKSA/P1xyXG5cdFx0XHRcdFx0KCgpPT57XHJcblx0XHRcdFx0XHRcdHRocm93IEVycm9yKCdBdHRyaWJ1dGUgXCJpdGVtc1wiIGlzIHJlcXVpcmVkIGZvciBcImZvci0tXCIgbWFya3VwJylcclxuXHRcdFx0XHRcdH0pKCk7XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRhZy5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPz8gJ3ZhbHVlJztcclxuXHJcblx0XHRcdGNvbnN0IGluZGV4ID0gdGFnLmdldEF0dHJpYnV0ZSgnaW5kZXgnKTtcclxuXHRcdFx0Y29uc3QgYXJncyA9IGluZGV4ID8gYCgke3ZhbHVlfSwgJHtpbmRleH0pYCA6IHZhbHVlO1xyXG5cclxuXHRcdFx0Y29uc3QgYm9keSA9IHRhZy5pbm5lckhUTUw7XHJcblxyXG5cdFx0XHRjb25zdCBkaXJlY3RpdmUgPSBgXFwke21hcCgke2l0ZW1zfSwgJHthcmdzfSA9PiBodG1sXFxgJHtib2R5fVxcYCl9YDtcclxuXHJcblx0XHRcdHNldF9vdXRlckhUTUwodGFnLCBkaXJlY3RpdmUsIHRlbXBsYXRlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNldF9vdXRlckhUTUwodGFnLCB2YWx1ZSwgdGVtcGxhdGUpIHtcbiAgICB0cnkge1xuICAgICAgICB0YWcub3V0ZXJIVE1MID0gdmFsdWU7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBjaHJvbWUgPSBcIkZhaWxlZCB0byBzZXQgdGhlICdvdXRlckhUTUwnIHByb3BlcnR5IG9uICdFbGVtZW50JzogXCIgK1xuICAgICAgICAgICAgXCJUaGlzIGVsZW1lbnQncyBwYXJlbnQgaXMgb2YgdHlwZSAnI2RvY3VtZW50LWZyYWdtZW50Jywgd2hpY2ggaXMgbm90IGFuIGVsZW1lbnQgbm9kZS5cIjtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09IGNocm9tZSkge1xuICAgICAgICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXRfb3V0ZXJIVE1MLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBzZXRfb3V0ZXJIVE1MKFxyXG5cdFx0dGFnOiBFbGVtZW50LCB2YWx1ZTogc3RyaW5nLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudFxyXG4pIHtcclxuXHR0cnkge1xyXG5cdFx0dGFnLm91dGVySFRNTCA9IHZhbHVlO1xyXG5cdH1cclxuXHRjYXRjaCAoZXJyb3I6IGFueSkge1xyXG5cdFx0Y29uc3QgY2hyb21lID1cclxuXHRcdFx0XHRcIkZhaWxlZCB0byBzZXQgdGhlICdvdXRlckhUTUwnIHByb3BlcnR5IG9uICdFbGVtZW50JzogXCIgK1xyXG5cdFx0XHRcdFwiVGhpcyBlbGVtZW50J3MgcGFyZW50IGlzIG9mIHR5cGUgJyNkb2N1bWVudC1mcmFnbWVudCcsIHdoaWNoIGlzIG5vdCBhbiBlbGVtZW50IG5vZGUuXCI7XHJcblx0XHRpZiAoZXJyb3IubWVzc2FnZSA9PT0gY2hyb21lKSB7XHJcblx0XHRcdHRlbXBsYXRlLmlubmVySFRNTCA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImltcG9ydCB7c2V0X291dGVySFRNTH0gZnJvbSBcIi4vc2V0X291dGVySFRNTC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERpcmVjdGl2ZV9pZlxyXG57XHJcblx0c3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcclxuXHRcdHRoaXMuaHlkcmF0ZVRyZWUodGVtcGxhdGUuY29udGVudCwgdGVtcGxhdGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgaHlkcmF0ZVRyZWUobm9kZTogUGFyZW50Tm9kZSwgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXHJcblx0e1xyXG5cdFx0d2hpbGUgKHRydWUpIHtcclxuXHRcdFx0Y29uc3QgdGFnID0gbm9kZS5xdWVyeVNlbGVjdG9yKCdpZi0tJyk7XHJcblx0XHRcdGlmICghdGFnKSByZXR1cm47XHJcblxyXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRhZywgdGVtcGxhdGUpO1xyXG5cclxuXHRcdFx0Y29uc3QgY29uZGl0aW9uID0gdGFnLmdldEF0dHJpYnV0ZSgnY29uZGl0aW9uJykgPz9cclxuXHRcdFx0XHRcdCgoKT0+e1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBFcnJvcignQXR0cmlidXRlIFwiY29uZGl0aW9uXCIgaXMgcmVxdWlyZWQgZm9yIFwiaWYtLVwiIG1hcmt1cCcpXHJcblx0XHRcdFx0XHR9KSgpO1xyXG5cclxuXHRcdFx0Y29uc3QgdHJ1ZUVsZW1lbnRzID0gWy4uLnRhZy5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiB0cnVlLS0nKV07XHJcblx0XHRcdGlmICh0cnVlRWxlbWVudHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdHRocm93IEVycm9yKCdPbmx5IG9uZSBcInRydWUtLVwiIGlzIGFsbG93ZWQgZm9yIFwiaWYtLVwiIG1hcmt1cCcpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IHRydWVFbGVtZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkID0gdHJ1ZUVsZW1lbnRzWzBdO1xyXG5cclxuXHRcdFx0Y29uc3QgZmFsc2VFbGVtZW50cyA9IFsuLi50YWcucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gZmFsc2UtLScpXTtcclxuXHRcdFx0aWYgKGZhbHNlRWxlbWVudHMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHRcdHRocm93IEVycm9yKCdPbmx5IG9uZSBcImZhbHNlLS1cIiBpcyBhbGxvd2VkIGZvciBcImlmLS1cIiBtYXJrdXAnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBmYWxzZUVsZW1lbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgPSBmYWxzZUVsZW1lbnRzWzBdO1xyXG5cclxuXHRcdFx0aWYgKGZhbHNlRWxlbWVudCAmJiAhdHJ1ZUVsZW1lbnQpIHtcclxuXHRcdFx0XHR0aHJvdyBFcnJvcignT25lIFwidHJ1ZVwiIGlzIHJlcXVpcmVkIGlmIFwiZmFsc2VcIiBwcmVzZW50IGZvciBcImlmLS1cIiBtYXJrdXAnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgdHJ1ZUNhc2UgPSBgKCkgPT4gaHRtbFxcYCR7dHJ1ZUVsZW1lbnQ/LmlubmVySFRNTCA/PyB0YWcuaW5uZXJIVE1MfVxcYGA7XHJcblxyXG5cdFx0XHRjb25zdCBmYWxzZUNhc2UgPSBmYWxzZUVsZW1lbnQgPyBgLCAoKSA9PiBodG1sXFxgJHtmYWxzZUVsZW1lbnQuaW5uZXJIVE1MfVxcYGAgOiAnJztcclxuXHJcblx0XHRcdGNvbnN0IGRpcmVjdGl2ZSA9IGBcXCR7d2hlbigke2NvbmRpdGlvbn0sICR7dHJ1ZUNhc2V9JHtmYWxzZUNhc2V9KX1gO1xyXG5cclxuXHRcdFx0c2V0X291dGVySFRNTCh0YWcsIGRpcmVjdGl2ZSwgdGVtcGxhdGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufSIsImV4cG9ydCBjbGFzcyBEaXJlY3RpdmVfaW5zaWRlXHJcbntcclxuXHRzdGF0aWMgaHlkcmF0ZSh0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudCkge1xyXG5cdFx0dGhpcy5oeWRyYXRlVHJlZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBoeWRyYXRlVHJlZShub2RlOiBQYXJlbnROb2RlLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudClcclxuXHR7XHJcblx0XHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0XHRjb25zdCBtYXJrdXAgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoJ2luc2lkZS0tJyk7XHJcblx0XHRcdGlmICghbWFya3VwKSByZXR1cm47XHJcblxyXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKG1hcmt1cCwgdGVtcGxhdGUpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2VsZWN0b3JzID0gbWFya3VwLmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XHJcblx0XHRcdGlmICghc2VsZWN0b3JzKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdBdHRyaWJ1dGUgXCJ0YXJnZXRcIiBpcyByZXF1aXJlZCBmb3IgXCJpbnNpZGUtLVwiIG1hcmt1cCcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBub2RlLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKTtcclxuXHRcdFx0aWYgKCF0YXJnZXQpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYE5vIGVsZW1lbnQgbWF0Y2hpbmcgJHtzZWxlY3RvcnN9YCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRhcmdldC5pbm5lckhUTUwgPSBtYXJrdXAuaW5uZXJIVE1MO1xyXG5cclxuXHRcdFx0bWFya3VwLnBhcmVudE5vZGUhLnJlbW92ZUNoaWxkKG1hcmt1cCk7XHJcblx0XHR9XHJcblx0fVxyXG59IiwiaW1wb3J0IHtzZXRfb3V0ZXJIVE1MfSBmcm9tIFwiLi9zZXRfb3V0ZXJIVE1MLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGlyZWN0aXZlX3N3aXRjaFxyXG57XHJcblx0c3RhdGljIGh5ZHJhdGUodGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQpXHJcblx0e1xyXG5cdFx0dGhpcy5oeWRyYXRlVHJlZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBoeWRyYXRlVHJlZShub2RlOiBQYXJlbnROb2RlLCB0ZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudClcclxuXHR7XHJcblx0XHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0XHRjb25zdCB0YWcgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoJ3N3aXRjaC0tJyk7XHJcblx0XHRcdGlmICghdGFnKSByZXR1cm47XHJcblxyXG5cdFx0XHR0aGlzLmh5ZHJhdGVUcmVlKHRhZywgdGVtcGxhdGUpO1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsdWUgPSB0YWcuZ2V0QXR0cmlidXRlKCd2YWx1ZScpID8/XHJcblx0XHRcdFx0XHQoKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBFcnJvcignQXR0cmlidXRlIFwidmFsdWVcIiBpcyByZXF1aXJlZCBmb3IgXCJzd2l0Y2gtLVwiIG1hcmt1cCcpXHJcblx0XHRcdFx0XHR9KSgpO1xyXG5cclxuXHRcdFx0Y29uc3QgY2FzZXMgPSB0aGlzLnRvQ2FzZXMoWy4uLnRhZy5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBjYXNlLS0nKV0pO1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsdWVDYXNlcyA9IGNhc2VzLnZhbHVlQ2FzZXMuam9pbignLFxcbicpO1xyXG5cclxuXHRcdFx0Y29uc3QgZGVmYXVsdENhc2UgPSBjYXNlcy5kZWZhdWx0Q2FzZSA/IGAsXFxuJHtjYXNlcy5kZWZhdWx0Q2FzZX1gIDogJyc7XHJcblxyXG5cdFx0XHRjb25zdCBkaXJlY3RpdmUgPSBgXFwke2Nob29zZSgke3ZhbHVlfSxcXG5bJHt2YWx1ZUNhc2VzfV0ke2RlZmF1bHRDYXNlfSl9YDtcclxuXHJcblx0XHRcdHNldF9vdXRlckhUTUwodGFnLCBkaXJlY3RpdmUsIHRlbXBsYXRlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHRvQ2FzZXMoY2FzZXM6IEVsZW1lbnRbXSk6IHtcclxuXHRcdHZhbHVlQ2FzZXM6IHN0cmluZ1tdO1xyXG5cdFx0ZGVmYXVsdENhc2U/OiBzdHJpbmdcclxuXHR9IHtcclxuXHRcdGlmIChjYXNlcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0dGhyb3cgRXJyb3IoJ0F0IGxlYXN0IG9uZSBcImNhc2UtLVwiIGlzIHJlcXVpcmVkIGZvciBcImNob29zZS0tXCIgbWFya3VwJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGVmYXVsdEVsZW1lbnRzID1cclxuXHRcdFx0XHRjYXNlcy5maWx0ZXIoY2FzZUVsZW1lbnQgPT4gIWNhc2VFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndmFsdWUnKSk7XHJcblx0XHRpZiAoZGVmYXVsdEVsZW1lbnRzLmxlbmd0aCA+IDEpIHtcclxuXHRcdFx0dGhyb3cgRXJyb3IoJ09ubHkgb25lIGRlZmF1bHQgXCJjYXNlLS1cIiBpcyBhbGxvd2VkIGZvciBcImNob29zZS0tXCIgbWFya3VwJyk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBkZWZhdWx0RWxlbWVudCA9IGRlZmF1bHRFbGVtZW50c1swXTtcclxuXHRcdGNvbnN0IGRlZmF1bHRDYXNlID0gYCgpID0+IGh0bWxcXGAke2RlZmF1bHRFbGVtZW50Py5pbm5lckhUTUx9XFxgYDtcclxuXHJcblx0XHRjb25zdCB2YWx1ZUVsZW1lbnRzID1cclxuXHRcdFx0XHRjYXNlcy5maWx0ZXIoY2FzZUVsZW1lbnQgPT4gY2FzZUVsZW1lbnQuaGFzQXR0cmlidXRlKCd2YWx1ZScpKTtcclxuXHRcdGNvbnN0IHZhbHVlQ2FzZXMgPSB2YWx1ZUVsZW1lbnRzLm1hcChjYXNlRWxlbWVudCA9PiB7XHJcblx0XHRcdGNvbnN0IHZhbHVlID0gY2FzZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpITtcclxuXHRcdFx0cmV0dXJuIGBbJyR7dmFsdWV9JywgKCkgPT4gaHRtbFxcYCR7Y2FzZUVsZW1lbnQuaW5uZXJIVE1MfVxcYF1gO1xyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4ge3ZhbHVlQ2FzZXMsIGRlZmF1bHRDYXNlfTtcclxuXHR9XHJcbn0iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpdFwiO1xyXG5pbXBvcnQge1Byb3BlcnRpZXNJbmplY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IuanNcIjtcclxuaW1wb3J0IHtDdXN0b21hcnlEZWNsYXJhdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVjbGFyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVQcm9wZXJ0aWVzXHJcbntcclxuXHRzdGF0aWMgYWRkUHJvcGVydGllczxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KFxyXG5cdFx0XHRjb25zdHJ1Y3RvcjogdHlwZW9mIExpdEVsZW1lbnQsXHJcblx0XHRcdGRlY2xhcmF0aW9uOiBDdXN0b21hcnlEZWNsYXJhdGlvbjxUPixcclxuXHRcdFx0dGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnRcclxuXHQpXHJcblx0e1xyXG5cdFx0Y29uc3QgZnJvbURlY2xhcmF0aW9uID0gZGVjbGFyYXRpb24uY29uZmlnPy5hdHRyaWJ1dGVzID8/IFtdO1xyXG5cdFx0Y29uc3QgZnJvbVRlbXBsYXRlID1cclxuXHRcdFx0XHR0ZW1wbGF0ZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tYXJ5LWF0dHJpYnV0ZXMnKT8uXHJcblx0XHRcdFx0c3BsaXQoJywnKS5tYXAocyA9PiBzLnRyaW0oKSkgPz8gW107XHJcblx0XHRjb25zdCBuYW1lcyA9IFsuLi5uZXcgU2V0KFsuLi5mcm9tRGVjbGFyYXRpb24sIC4uLmZyb21UZW1wbGF0ZV0pXTtcclxuXHRcdFByb3BlcnRpZXNJbmplY3Rvci5pbmplY3RQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCB7cmVmbGVjdDogdHJ1ZX0sIG5hbWVzKTtcclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcclxuaW1wb3J0IHtQcm9wZXJ0eURlY2xhcmF0aW9uLCBQcm9wZXJ0eURlY2xhcmF0aW9uc30gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb3BlcnRpZXNJbmplY3RvciB7XHJcblx0c3RhdGljIGluamVjdFByb3BlcnRpZXMoXHJcblx0XHRcdGNvbnN0cnVjdG9yOiB0eXBlb2YgTGl0RWxlbWVudCxcclxuXHRcdFx0cHJvcGVydHlEZWNsYXJhdGlvbjogUHJvcGVydHlEZWNsYXJhdGlvbixcclxuXHRcdFx0bmFtZXM6IHN0cmluZ1tdXHJcblx0KSB7XHJcblx0XHRpZiAoIW5hbWVzLmxlbmd0aCkgcmV0dXJuO1xyXG5cdFx0Y29uc3QgcHJvcGVydGllczogV3JpdGFibGU8UHJvcGVydHlEZWNsYXJhdGlvbnM+ID0gY29uc3RydWN0b3IucHJvcGVydGllcyA/Pz0ge307XHJcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBuYW1lcykge1xyXG5cdFx0XHRpZiAoa2V5IGluIHByb3BlcnRpZXMpIHRocm93IG5ldyBFcnJvcihgJHtrZXl9OiBwcm9wZXJ0eSBhbHJlYWR5IGV4aXN0cy5gKTtcclxuXHRcdFx0cHJvcGVydGllc1trZXldID0gcHJvcGVydHlEZWNsYXJhdGlvbjtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbnR5cGUgV3JpdGFibGU8VD4gPSB7LXJlYWRvbmx5IFtQIGluIGtleW9mIFRdOiBUW1BdfTtcclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcclxuaW1wb3J0IHtDdXN0b21hcnlEZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XHJcbmltcG9ydCB7UHJvcGVydGllc0luamVjdG9yfSBmcm9tIFwiI2N1c3RvbWFyeS9wcm9wZXJ0aWVzL1Byb3BlcnRpZXNJbmplY3Rvci5qc1wiO1xyXG5pbXBvcnQge0N1c3RvbWFyeURlY2xhcmF0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWNsYXJhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlUHJvcGVydGllcyB7XHJcblxyXG5cdHN0YXRpYyBhZGRQcm9wZXJ0aWVzPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXHJcblx0XHRcdGNvbnN0cnVjdG9yOiB0eXBlb2YgTGl0RWxlbWVudCxcclxuXHRcdFx0ZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+XHJcblx0KVxyXG5cdHtcclxuXHRcdGNvbnN0IGZyb21EZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uLmNvbmZpZz8uc3RhdGUgPz8gW107XHJcblx0XHRjb25zdCBmcm9tTGVnYWN5ID0gWydzdGF0ZSddO1xyXG5cdFx0Y29uc3QgbmFtZXMgPSBbLi4ubmV3IFNldChbLi4uZnJvbURlY2xhcmF0aW9uLCAuLi5mcm9tTGVnYWN5XSldO1xyXG5cdFx0UHJvcGVydGllc0luamVjdG9yLmluamVjdFByb3BlcnRpZXMoY29uc3RydWN0b3IsIHtzdGF0ZTogdHJ1ZX0sIG5hbWVzKTtcclxuXHR9XHJcblxyXG59XHJcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSBcIiNjdXN0b21hcnkvbGl0XCI7XHJcbmltcG9ydCB7Q3VzdG9tYXJ5RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5pbXBvcnQge1Byb3BlcnRpZXNJbmplY3Rvcn0gZnJvbSBcIiNjdXN0b21hcnkvcHJvcGVydGllcy9Qcm9wZXJ0aWVzSW5qZWN0b3IuanNcIjtcclxuaW1wb3J0IHtQcm9wZXJ0eURlY2xhcmF0aW9ufSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XHJcbmltcG9ydCB7Q3VzdG9tYXJ5RGVjbGFyYXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlY2xhcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvcGVydGllc1Byb3BlcnRpZXNcclxue1xyXG5cdHN0YXRpYyBhZGRQcm9wZXJ0aWVzPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXHJcblx0XHRcdGNvbnN0cnVjdG9yOiB0eXBlb2YgTGl0RWxlbWVudCxcclxuXHRcdFx0ZGVjbGFyYXRpb246IEN1c3RvbWFyeURlY2xhcmF0aW9uPFQ+XHJcblx0KSB7XHJcblx0XHRjb25zdCBob29rcyA9IGRlY2xhcmF0aW9uLmhvb2tzPy5wcm9wZXJ0aWVzO1xyXG5cdFx0Y29uc3QgaG9va3NBcnJheTogQXR0cmliW10gPSBob29rcyBpbnN0YW5jZW9mIEFycmF5ID8gaG9va3MgYXMgQXR0cmliW10gOiBbXTtcclxuXHRcdGNvbnN0IGhvb2tzUmVjb3JkID0gaG9va3MgJiYgIShob29rcyBpbnN0YW5jZW9mIEFycmF5KSA/IGhvb2tzIDoge307XHJcblxyXG5cdFx0Y29uc3QgZnJvbUFycmF5OiBzdHJpbmdbXSA9IGhvb2tzQXJyYXkubWFwKG8gPT4gby5uYW1lKTtcclxuXHRcdGNvbnN0IGZyb21SZWNvcmQ6IHN0cmluZ1tdID0gT2JqZWN0LmtleXMoaG9va3NSZWNvcmQpO1xyXG5cclxuXHRcdGNvbnN0IG5hbWVzID0gWy4uLm5ldyBTZXQoWy4uLmZyb21BcnJheSwgLi4uZnJvbVJlY29yZF0pXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBvZiBuYW1lcykge1xyXG5cdFx0XHRQcm9wZXJ0aWVzSW5qZWN0b3IuaW5qZWN0UHJvcGVydGllcyhjb25zdHJ1Y3RvcixcclxuXHRcdFx0XHRcdGhvb2tzQXJyYXkuZmluZCh2YWx1ZSA9PiB2YWx1ZS5uYW1lID09PSBrZXkpPy5wcm9wZXJ0eURlY2xhcmF0aW9uXHJcblx0XHRcdFx0XHQ/PyBob29rc1JlY29yZFtrZXldLFxyXG5cdFx0XHRcdFx0W2tleV0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxudHlwZSBBdHRyaWIgPSB7bmFtZTogc3RyaW5nLCBwcm9wZXJ0eURlY2xhcmF0aW9uOiBQcm9wZXJ0eURlY2xhcmF0aW9ufTtcclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcclxuaW1wb3J0IHtNaXhpbl9hZGRFdmVudEhhbmRsZXJzfSBmcm9tIFwiI2N1c3RvbWFyeS9ldmVudHMvTWl4aW5fYWRkRXZlbnRIYW5kbGVycy5qc1wiO1xyXG5pbXBvcnQge01peGluX2Fkb3B0U3R5bGVTaGVldH0gZnJvbSBcIiNjdXN0b21hcnkvc3R5bGUvTWl4aW5fYWRvcHRTdHlsZVNoZWV0LmpzXCI7XHJcbmltcG9ydCB7TWl4aW5fYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrfSBmcm9tIFwiI2N1c3RvbWFyeS9hdHRyaWJ1dGVzL01peGluX2F0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjay5qc1wiO1xyXG5pbXBvcnQge01peGluX2Nvbm5lY3RlZH0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL2Nvbm5lY3RlZC9NaXhpbl9jb25uZWN0ZWQuanNcIjtcclxuaW1wb3J0IHtNaXhpbl9kaXNjb25uZWN0ZWR9IGZyb20gXCIjY3VzdG9tYXJ5L2xpZmVjeWNsZS9kaXNjb25uZWN0ZWQvTWl4aW5fZGlzY29ubmVjdGVkLmpzXCI7XHJcbmltcG9ydCB7TWl4aW5fZmlyc3RVcGRhdGVkfSBmcm9tIFwiI2N1c3RvbWFyeS9saWZlY3ljbGUvZmlyc3RVcGRhdGVkL01peGluX2ZpcnN0VXBkYXRlZC5qc1wiO1xyXG5pbXBvcnQge01peGluX3JlbmRlckZyb21UZW1wbGF0ZX0gZnJvbSBcIiNjdXN0b21hcnkvcmVuZGVyL01peGluX3JlbmRlckZyb21UZW1wbGF0ZS5qc1wiO1xyXG5pbXBvcnQge01peGluX3Nsb3RDaGFuZ2V9IGZyb20gXCIjY3VzdG9tYXJ5L3Nsb3RzL01peGluX3Nsb3RDaGFuZ2UuanNcIjtcclxuaW1wb3J0IHtNaXhpbl9zdGF0ZX0gZnJvbSBcIiNjdXN0b21hcnkvc3RhdGUvTWl4aW5fc3RhdGUuanNcIjtcclxuaW1wb3J0IHtNaXhpbl91cGRhdGVkfSBmcm9tIFwiI2N1c3RvbWFyeS9saWZlY3ljbGUvdXBkYXRlZC9NaXhpbl91cGRhdGVkLmpzXCI7XHJcbmltcG9ydCB7TWl4aW5fd2lsbFVwZGF0ZX0gZnJvbSBcIiNjdXN0b21hcnkvbGlmZWN5Y2xlL3dpbGxVcGRhdGUvTWl4aW5fd2lsbFVwZGF0ZS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEN1c3RvbWFyeUVsZW1lbnRcclxuXHRcdGV4dGVuZHNcclxuXHRcdFx0XHRNaXhpbl9hZGRFdmVudEhhbmRsZXJzKFxyXG5cdFx0XHRcdE1peGluX2Fkb3B0U3R5bGVTaGVldChcclxuXHRcdFx0XHRNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soXHJcblx0XHRcdFx0TWl4aW5fY29ubmVjdGVkKFxyXG5cdFx0XHRcdE1peGluX2Rpc2Nvbm5lY3RlZChcclxuXHRcdFx0XHRNaXhpbl9maXJzdFVwZGF0ZWQoXHJcblx0XHRcdFx0TWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlKFxyXG5cdFx0XHRcdE1peGluX3Nsb3RDaGFuZ2UoXHJcblx0XHRcdFx0TWl4aW5fc3RhdGUoXHJcblx0XHRcdFx0TWl4aW5fdXBkYXRlZChcclxuXHRcdFx0XHRNaXhpbl93aWxsVXBkYXRlKFxyXG5cdFx0XHRcdFx0XHRMaXRFbGVtZW50XHJcblx0XHRcdFx0KSkpKSkpKSkpKSlcclxue1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0c3VwZXIoKTtcclxuXHRcdH1cclxuXHRcdGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IpIHtcclxuXHRcdFx0XHRpZiAoZXJyb3IubWVzc2FnZS5zdGFydHNXaXRoKFwiSWxsZWdhbCBjb25zdHJ1Y3RvclwiKSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxyXG5cdFx0XHRcdFx0XHRcdFwiQ3VzdG9tIGVsZW1lbnQgbXVzdCBiZSBmdWxseSBkZWZpbmVkIGJlZm9yZSB5b3UgY2FuIGluc3RhbnRpYXRlIGl0LiBUcnkgdGhpczpcXG5cIiArXHJcblx0XHRcdFx0XHRcdFx0XCIgICAgYXdhaXQgQ3VzdG9tYXJ5LnVudGlsRGVmaW5lZChNeUN1c3RvbUVsZW1lbnQpO1xcblwiICtcclxuXHRcdFx0XHRcdFx0XHRcIiAgICBjb25zdCBlbGVtZW50ID0gbmV3IE15Q3VzdG9tRWxlbWVudCgpO1wiLFxyXG5cdFx0XHRcdFx0XHRcdHtjYXVzZTogZXJyb3J9XHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHR0aHJvdyBlcnJvcjtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tIFwibGl0LWVsZW1lbnQvbGl0LWVsZW1lbnQuanNcIjtcclxuaW1wb3J0IHtodG1sfSBmcm9tIFwibGl0LWh0bWxcIjtcclxuaW1wb3J0IHttYXB9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvbWFwLmpzJztcclxuaW1wb3J0IHtjaG9vc2V9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvY2hvb3NlLmpzJztcclxuaW1wb3J0IHt3aGVufSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3doZW4uanMnO1xyXG5cclxuZXhwb3J0IHtMaXRFbGVtZW50LCBodG1sLCBtYXAsIGNob29zZSwgd2hlbn07XHJcbiIsImltcG9ydHtSZWFjdGl2ZUVsZW1lbnQgYXMgdH1mcm9tXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtleHBvcnQqZnJvbVwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7aW1wb3J0e3JlbmRlciBhcyBlLG5vQ2hhbmdlIGFzIHN9ZnJvbVwibGl0LWh0bWxcIjtleHBvcnQqZnJvbVwibGl0LWh0bWxcIjtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL2NsYXNzIHIgZXh0ZW5kcyB0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnJlbmRlck9wdGlvbnM9e2hvc3Q6dGhpc30sdGhpcy5fJERvPXZvaWQgMH1jcmVhdGVSZW5kZXJSb290KCl7Y29uc3QgdD1zdXBlci5jcmVhdGVSZW5kZXJSb290KCk7cmV0dXJuIHRoaXMucmVuZGVyT3B0aW9ucy5yZW5kZXJCZWZvcmU/Pz10LmZpcnN0Q2hpbGQsdH11cGRhdGUodCl7Y29uc3Qgcz10aGlzLnJlbmRlcigpO3RoaXMuaGFzVXBkYXRlZHx8KHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZD10aGlzLmlzQ29ubmVjdGVkKSxzdXBlci51cGRhdGUodCksdGhpcy5fJERvPWUocyx0aGlzLnJlbmRlclJvb3QsdGhpcy5yZW5kZXJPcHRpb25zKX1jb25uZWN0ZWRDYWxsYmFjaygpe3N1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCksdGhpcy5fJERvPy5zZXRDb25uZWN0ZWQoITApfWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7c3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKSx0aGlzLl8kRG8/LnNldENvbm5lY3RlZCghMSl9cmVuZGVyKCl7cmV0dXJuIHN9fXIuXyRsaXRFbGVtZW50JD0hMCxyW1wiZmluYWxpemVkXCJdPSEwLGdsb2JhbFRoaXMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0Py4oe0xpdEVsZW1lbnQ6cn0pO2NvbnN0IGk9Z2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O2k/Lih7TGl0RWxlbWVudDpyfSk7Y29uc3Qgbz17XyRBSzoodCxlLHMpPT57dC5fJEFLKGUscyl9LF8kQUw6dD0+dC5fJEFMfTsoZ2xvYmFsVGhpcy5saXRFbGVtZW50VmVyc2lvbnM/Pz1bXSkucHVzaChcIjQuMS4xXCIpO2V4cG9ydHtyIGFzIExpdEVsZW1lbnQsbyBhcyBfJExFfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbi8qKlxuICogVGhlIG1haW4gTGl0RWxlbWVudCBtb2R1bGUsIHdoaWNoIGRlZmluZXMgdGhlIHtAbGlua2NvZGUgTGl0RWxlbWVudH0gYmFzZVxuICogY2xhc3MgYW5kIHJlbGF0ZWQgQVBJcy5cbiAqXG4gKiBMaXRFbGVtZW50IGNvbXBvbmVudHMgY2FuIGRlZmluZSBhIHRlbXBsYXRlIGFuZCBhIHNldCBvZiBvYnNlcnZlZFxuICogcHJvcGVydGllcy4gQ2hhbmdpbmcgYW4gb2JzZXJ2ZWQgcHJvcGVydHkgdHJpZ2dlcnMgYSByZS1yZW5kZXIgb2YgdGhlXG4gKiBlbGVtZW50LlxuICpcbiAqIEltcG9ydCB7QGxpbmtjb2RlIExpdEVsZW1lbnR9IGFuZCB7QGxpbmtjb2RlIGh0bWx9IGZyb20gdGhpcyBtb2R1bGUgdG9cbiAqIGNyZWF0ZSBhIGNvbXBvbmVudDpcbiAqXG4gKiAgYGBganNcbiAqIGltcG9ydCB7TGl0RWxlbWVudCwgaHRtbH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuICpcbiAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICpcbiAqICAgLy8gRGVjbGFyZSBvYnNlcnZlZCBwcm9wZXJ0aWVzXG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgYWRqZWN0aXZlOiB7fVxuICogICAgIH1cbiAqICAgfVxuICpcbiAqICAgY29uc3RydWN0b3IoKSB7XG4gKiAgICAgdGhpcy5hZGplY3RpdmUgPSAnYXdlc29tZSc7XG4gKiAgIH1cbiAqXG4gKiAgIC8vIERlZmluZSB0aGUgZWxlbWVudCdzIHRlbXBsYXRlXG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gaHRtbGA8cD55b3VyICR7YWRqZWN0aXZlfSB0ZW1wbGF0ZSBoZXJlPC9wPmA7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjdXN0b21FbGVtZW50cy5kZWZpbmUoJ215LWVsZW1lbnQnLCBNeUVsZW1lbnQpO1xuICogYGBgXG4gKlxuICogYExpdEVsZW1lbnRgIGV4dGVuZHMge0BsaW5rY29kZSBSZWFjdGl2ZUVsZW1lbnR9IGFuZCBhZGRzIGxpdC1odG1sXG4gKiB0ZW1wbGF0aW5nLiBUaGUgYFJlYWN0aXZlRWxlbWVudGAgY2xhc3MgaXMgcHJvdmlkZWQgZm9yIHVzZXJzIHRoYXQgd2FudCB0b1xuICogYnVpbGQgdGhlaXIgb3duIGN1c3RvbSBlbGVtZW50IGJhc2UgY2xhc3NlcyB0aGF0IGRvbid0IHVzZSBsaXQtaHRtbC5cbiAqXG4gKiBAcGFja2FnZURvY3VtZW50YXRpb25cbiAqL1xuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlcywgUmVhY3RpdmVFbGVtZW50fSBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuaW1wb3J0IHtyZW5kZXIsIFJlbmRlck9wdGlvbnMsIG5vQ2hhbmdlLCBSb290UGFydH0gZnJvbSAnbGl0LWh0bWwnO1xuZXhwb3J0ICogZnJvbSAnQGxpdC9yZWFjdGl2ZS1lbGVtZW50JztcbmV4cG9ydCAqIGZyb20gJ2xpdC1odG1sJztcblxuaW1wb3J0IHtMaXRVbnN0YWJsZX0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IHtSZWFjdGl2ZVVuc3RhYmxlfSBmcm9tICdAbGl0L3JlYWN0aXZlLWVsZW1lbnQnO1xuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgVW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID1cbiAgICAgIHwgTGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnlcbiAgICAgIHwgUmVhY3RpdmVVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeTtcbiAgfVxufVxuLypcbiAqIFdoZW4gdXNpbmcgQ2xvc3VyZSBDb21waWxlciwgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eShwcm9wZXJ0eSwgb2JqZWN0KSBpc1xuICogcmVwbGFjZWQgYXQgY29tcGlsZSB0aW1lIGJ5IHRoZSBtdW5nZWQgbmFtZSBmb3Igb2JqZWN0W3Byb3BlcnR5XS4gV2UgY2Fubm90XG4gKiBhbGlhcyB0aGlzIGZ1bmN0aW9uLCBzbyB3ZSBoYXZlIHRvIHVzZSBhIHNtYWxsIHNoaW0gdGhhdCBoYXMgdGhlIHNhbWVcbiAqIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqL1xuLypAX19JTkxJTkVfXyovXG5jb25zdCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5ID0gPFAgZXh0ZW5kcyBQcm9wZXJ0eUtleT4oXG4gIHByb3A6IFAsXG4gIF9vYmo6IHVua25vd25cbik6IFAgPT4gcHJvcDtcblxuY29uc3QgREVWX01PREUgPSB0cnVlO1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmlmIChERVZfTU9ERSkge1xuICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAvLyBhcmUgbG9hZGVkLlxuICBjb25zdCBpc3N1ZWRXYXJuaW5nczogU2V0PHN0cmluZyB8IHVuZGVmaW5lZD4gPVxuICAgIChnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzID8/PSBuZXcgU2V0KCkpO1xuXG4gIC8vIElzc3VlIGEgd2FybmluZywgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LlxuICBpc3N1ZVdhcm5pbmcgPSAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHtcbiAgICB3YXJuaW5nICs9IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gO1xuICAgIGlmICghaXNzdWVkV2FybmluZ3MuaGFzKHdhcm5pbmcpKSB7XG4gICAgICBjb25zb2xlLndhcm4od2FybmluZyk7XG4gICAgICBpc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEJhc2UgZWxlbWVudCBjbGFzcyB0aGF0IG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLCBhbmRcbiAqIHJlbmRlcnMgYSBsaXQtaHRtbCB0ZW1wbGF0ZS5cbiAqXG4gKiBUbyBkZWZpbmUgYSBjb21wb25lbnQsIHN1YmNsYXNzIGBMaXRFbGVtZW50YCBhbmQgaW1wbGVtZW50IGFcbiAqIGByZW5kZXJgIG1ldGhvZCB0byBwcm92aWRlIHRoZSBjb21wb25lbnQncyB0ZW1wbGF0ZS4gRGVmaW5lIHByb3BlcnRpZXNcbiAqIHVzaW5nIHRoZSB7QGxpbmtjb2RlIExpdEVsZW1lbnQucHJvcGVydGllcyBwcm9wZXJ0aWVzfSBwcm9wZXJ0eSBvciB0aGVcbiAqIHtAbGlua2NvZGUgcHJvcGVydHl9IGRlY29yYXRvci5cbiAqL1xuZXhwb3J0IGNsYXNzIExpdEVsZW1lbnQgZXh0ZW5kcyBSZWFjdGl2ZUVsZW1lbnQge1xuICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICBzdGF0aWMgWydfJGxpdEVsZW1lbnQkJ10gPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICByZWFkb25seSByZW5kZXJPcHRpb25zOiBSZW5kZXJPcHRpb25zID0ge2hvc3Q6IHRoaXN9O1xuXG4gIHByaXZhdGUgX19jaGlsZFBhcnQ6IFJvb3RQYXJ0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgb3ZlcnJpZGUgY3JlYXRlUmVuZGVyUm9vdCgpIHtcbiAgICBjb25zdCByZW5kZXJSb290ID0gc3VwZXIuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgIC8vIFdoZW4gYWRvcHRlZFN0eWxlU2hlZXRzIGFyZSBzaGltbWVkLCB0aGV5IGFyZSBpbnNlcnRlZCBpbnRvIHRoZVxuICAgIC8vIHNoYWRvd1Jvb3QgYnkgY3JlYXRlUmVuZGVyUm9vdC4gQWRqdXN0IHRoZSByZW5kZXJCZWZvcmUgbm9kZSBzbyB0aGF0XG4gICAgLy8gYW55IHN0eWxlcyBpbiBMaXQgY29udGVudCByZW5kZXIgYmVmb3JlIGFkb3B0ZWRTdHlsZVNoZWV0cy4gVGhpcyBpc1xuICAgIC8vIGltcG9ydGFudCBzbyB0aGF0IGFkb3B0ZWRTdHlsZVNoZWV0cyBoYXZlIHByZWNlZGVuY2Ugb3ZlciBzdHlsZXMgaW5cbiAgICAvLyB0aGUgc2hhZG93Um9vdC5cbiAgICB0aGlzLnJlbmRlck9wdGlvbnMucmVuZGVyQmVmb3JlID8/PSByZW5kZXJSb290IS5maXJzdENoaWxkIGFzIENoaWxkTm9kZTtcbiAgICByZXR1cm4gcmVuZGVyUm9vdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBlbGVtZW50LiBUaGlzIG1ldGhvZCByZWZsZWN0cyBwcm9wZXJ0eSB2YWx1ZXMgdG8gYXR0cmlidXRlc1xuICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICogdGhpcyBtZXRob2Qgd2lsbCAqbm90KiB0cmlnZ2VyIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBvdmVycmlkZSB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gU2V0dGluZyBwcm9wZXJ0aWVzIGluIGByZW5kZXJgIHNob3VsZCBub3QgdHJpZ2dlciBhbiB1cGRhdGUuIFNpbmNlXG4gICAgLy8gdXBkYXRlcyBhcmUgYWxsb3dlZCBhZnRlciBzdXBlci51cGRhdGUsIGl0J3MgaW1wb3J0YW50IHRvIGNhbGwgYHJlbmRlcmBcbiAgICAvLyBiZWZvcmUgdGhhdC5cbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIHRoaXMucmVuZGVyT3B0aW9ucy5pc0Nvbm5lY3RlZCA9IHRoaXMuaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgdGhpcy5fX2NoaWxkUGFydCA9IHJlbmRlcih2YWx1ZSwgdGhpcy5yZW5kZXJSb290LCB0aGlzLnJlbmRlck9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFkZGVkIHRvIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogSW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHlvdSBzaG91bGQgc2V0dXAgdGFza3MgdGhhdCBzaG91bGQgb25seSBvY2N1ciB3aGVuXG4gICAqIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQuIFRoZSBtb3N0IGNvbW1vbiBvZiB0aGVzZSBpc1xuICAgKiBhZGRpbmcgZXZlbnQgbGlzdGVuZXJzIHRvIG5vZGVzIGV4dGVybmFsIHRvIHRoZSBlbGVtZW50LCBsaWtlIGEga2V5ZG93blxuICAgKiBldmVudCBoYW5kbGVyIGFkZGVkIHRvIHRoZSB3aW5kb3cuXG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgKiAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAqICAgYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBUeXBpY2FsbHksIGFueXRoaW5nIGRvbmUgaW4gYGNvbm5lY3RlZENhbGxiYWNrKClgIHNob3VsZCBiZSB1bmRvbmUgd2hlbiB0aGVcbiAgICogZWxlbWVudCBpcyBkaXNjb25uZWN0ZWQsIGluIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYC5cbiAgICpcbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgb3ZlcnJpZGUgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICB0aGlzLl9fY2hpbGRQYXJ0Py5zZXRDb25uZWN0ZWQodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkb2N1bWVudCdzIERPTS5cbiAgICpcbiAgICogVGhpcyBjYWxsYmFjayBpcyB0aGUgbWFpbiBzaWduYWwgdG8gdGhlIGVsZW1lbnQgdGhhdCBpdCBtYXkgbm8gbG9uZ2VyIGJlXG4gICAqIHVzZWQuIGBkaXNjb25uZWN0ZWRDYWxsYmFjaygpYCBzaG91bGQgZW5zdXJlIHRoYXQgbm90aGluZyBpcyBob2xkaW5nIGFcbiAgICogcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IChzdWNoIGFzIGV2ZW50IGxpc3RlbmVycyBhZGRlZCB0byBub2RlcyBleHRlcm5hbFxuICAgKiB0byB0aGUgZWxlbWVudCksIHNvIHRoYXQgaXQgaXMgZnJlZSB0byBiZSBnYXJiYWdlIGNvbGxlY3RlZC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAqICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICogICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleWRvd24pO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBBbiBlbGVtZW50IG1heSBiZSByZS1jb25uZWN0ZWQgYWZ0ZXIgYmVpbmcgZGlzY29ubmVjdGVkLlxuICAgKlxuICAgKiBAY2F0ZWdvcnkgbGlmZWN5Y2xlXG4gICAqL1xuICBvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIHRoaXMuX19jaGlsZFBhcnQ/LnNldENvbm5lY3RlZChmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbWF5IHJldHVyblxuICAgKiBhbnkgdmFsdWUgcmVuZGVyYWJsZSBieSBsaXQtaHRtbCdzIGBDaGlsZFBhcnRgIC0gdHlwaWNhbGx5IGFcbiAgICogYFRlbXBsYXRlUmVzdWx0YC4gU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICogdGhlIGVsZW1lbnQgdG8gdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgcmVuZGVyKCk6IHVua25vd24ge1xuICAgIHJldHVybiBub0NoYW5nZTtcbiAgfVxufVxuXG4vKipcbiAqIEVuc3VyZSB0aGlzIGNsYXNzIGlzIG1hcmtlZCBhcyBgZmluYWxpemVkYCBhcyBhbiBvcHRpbWl6YXRpb24gZW5zdXJpbmdcbiAqIGl0IHdpbGwgbm90IG5lZWRsZXNzbHkgdHJ5IHRvIGBmaW5hbGl6ZWAuXG4gKlxuICogTm90ZSB0aGlzIHByb3BlcnR5IG5hbWUgaXMgYSBzdHJpbmcgdG8gcHJldmVudCBicmVha2luZyBDbG9zdXJlIEpTIENvbXBpbGVyXG4gKiBvcHRpbWl6YXRpb25zLiBTZWUgQGxpdC9yZWFjdGl2ZS1lbGVtZW50IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICovXG4oTGl0RWxlbWVudCBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+KVtcbiAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZmluYWxpemVkJywgTGl0RWxlbWVudClcbl0gPSB0cnVlO1xuXG4vLyBJbnN0YWxsIGh5ZHJhdGlvbiBpZiBhdmFpbGFibGVcbmdsb2JhbFRoaXMubGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWxUaGlzLmxpdEVsZW1lbnRQb2x5ZmlsbFN1cHBvcnREZXZNb2RlXG4gIDogZ2xvYmFsVGhpcy5saXRFbGVtZW50UG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oe0xpdEVsZW1lbnR9KTtcblxuLyoqXG4gKiBFTkQgVVNFUlMgU0hPVUxEIE5PVCBSRUxZIE9OIFRISVMgT0JKRUNULlxuICpcbiAqIFByaXZhdGUgZXhwb3J0cyBmb3IgdXNlIGJ5IG90aGVyIExpdCBwYWNrYWdlcywgbm90IGludGVuZGVkIGZvciB1c2UgYnlcbiAqIGV4dGVybmFsIHVzZXJzLlxuICpcbiAqIFdlIGN1cnJlbnRseSBkbyBub3QgbWFrZSBhIG1hbmdsZWQgcm9sbHVwIGJ1aWxkIG9mIHRoZSBsaXQtc3NyIGNvZGUuIEluIG9yZGVyXG4gKiB0byBrZWVwIGEgbnVtYmVyIG9mIChvdGhlcndpc2UgcHJpdmF0ZSkgdG9wLWxldmVsIGV4cG9ydHMgIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExFIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWh0bWwsIHNpbmNlIHRoaXMgbW9kdWxlIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExFID0ge1xuICBfJGF0dHJpYnV0ZVRvUHJvcGVydHk6IChcbiAgICBlbDogTGl0RWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGxcbiAgKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgKGVsIGFzIGFueSkuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIF8kY2hhbmdlZFByb3BlcnRpZXM6IChlbDogTGl0RWxlbWVudCkgPT4gKGVsIGFzIGFueSkuXyRjaGFuZ2VkUHJvcGVydGllcyxcbn07XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgTGl0RWxlbWVudCB1c2FnZS5cbihnbG9iYWxUaGlzLmxpdEVsZW1lbnRWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzQuMS4xJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsVGhpcy5saXRFbGVtZW50VmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICBpc3N1ZVdhcm5pbmchKFxuICAgICdtdWx0aXBsZS12ZXJzaW9ucycsXG4gICAgYE11bHRpcGxlIHZlcnNpb25zIG9mIExpdCBsb2FkZWQuIExvYWRpbmcgbXVsdGlwbGUgdmVyc2lvbnMgYCArXG4gICAgICBgaXMgbm90IHJlY29tbWVuZGVkLmBcbiAgKTtcbn1cbiIsImltcG9ydHtnZXRDb21wYXRpYmxlU3R5bGUgYXMgdCxhZG9wdFN0eWxlcyBhcyBzfWZyb21cIi4vY3NzLXRhZy5qc1wiO2V4cG9ydHtDU1NSZXN1bHQsYWRvcHRTdHlsZXMsY3NzLGdldENvbXBhdGlibGVTdHlsZSxzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsdW5zYWZlQ1NTfWZyb21cIi4vY3NzLXRhZy5qc1wiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovY29uc3R7aXM6aSxkZWZpbmVQcm9wZXJ0eTplLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpyLGdldE93blByb3BlcnR5TmFtZXM6aCxnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6byxnZXRQcm90b3R5cGVPZjpufT1PYmplY3QsYT1nbG9iYWxUaGlzLGM9YS50cnVzdGVkVHlwZXMsbD1jP2MuZW1wdHlTY3JpcHQ6XCJcIixwPWEucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0LGQ9KHQscyk9PnQsdT17dG9BdHRyaWJ1dGUodCxzKXtzd2l0Y2gocyl7Y2FzZSBCb29sZWFuOnQ9dD9sOm51bGw7YnJlYWs7Y2FzZSBPYmplY3Q6Y2FzZSBBcnJheTp0PW51bGw9PXQ/dDpKU09OLnN0cmluZ2lmeSh0KX1yZXR1cm4gdH0sZnJvbUF0dHJpYnV0ZSh0LHMpe2xldCBpPXQ7c3dpdGNoKHMpe2Nhc2UgQm9vbGVhbjppPW51bGwhPT10O2JyZWFrO2Nhc2UgTnVtYmVyOmk9bnVsbD09PXQ/bnVsbDpOdW1iZXIodCk7YnJlYWs7Y2FzZSBPYmplY3Q6Y2FzZSBBcnJheTp0cnl7aT1KU09OLnBhcnNlKHQpfWNhdGNoKHQpe2k9bnVsbH19cmV0dXJuIGl9fSxmPSh0LHMpPT4haSh0LHMpLHk9e2F0dHJpYnV0ZTohMCx0eXBlOlN0cmluZyxjb252ZXJ0ZXI6dSxyZWZsZWN0OiExLGhhc0NoYW5nZWQ6Zn07U3ltYm9sLm1ldGFkYXRhPz89U3ltYm9sKFwibWV0YWRhdGFcIiksYS5saXRQcm9wZXJ0eU1ldGFkYXRhPz89bmV3IFdlYWtNYXA7Y2xhc3MgYiBleHRlbmRzIEhUTUxFbGVtZW50e3N0YXRpYyBhZGRJbml0aWFsaXplcih0KXt0aGlzLl8kRWkoKSwodGhpcy5sPz89W10pLnB1c2godCl9c3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5maW5hbGl6ZSgpLHRoaXMuXyRFaCYmWy4uLnRoaXMuXyRFaC5rZXlzKCldfXN0YXRpYyBjcmVhdGVQcm9wZXJ0eSh0LHM9eSl7aWYocy5zdGF0ZSYmKHMuYXR0cmlidXRlPSExKSx0aGlzLl8kRWkoKSx0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldCh0LHMpLCFzLm5vQWNjZXNzb3Ipe2NvbnN0IGk9U3ltYm9sKCkscj10aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcih0LGkscyk7dm9pZCAwIT09ciYmZSh0aGlzLnByb3RvdHlwZSx0LHIpfX1zdGF0aWMgZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHQscyxpKXtjb25zdHtnZXQ6ZSxzZXQ6aH09cih0aGlzLnByb3RvdHlwZSx0KT8/e2dldCgpe3JldHVybiB0aGlzW3NdfSxzZXQodCl7dGhpc1tzXT10fX07cmV0dXJue2dldCgpe3JldHVybiBlPy5jYWxsKHRoaXMpfSxzZXQocyl7Y29uc3Qgcj1lPy5jYWxsKHRoaXMpO2guY2FsbCh0aGlzLHMpLHRoaXMucmVxdWVzdFVwZGF0ZSh0LHIsaSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfX1zdGF0aWMgZ2V0UHJvcGVydHlPcHRpb25zKHQpe3JldHVybiB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLmdldCh0KT8/eX1zdGF0aWMgXyRFaSgpe2lmKHRoaXMuaGFzT3duUHJvcGVydHkoZChcImVsZW1lbnRQcm9wZXJ0aWVzXCIpKSlyZXR1cm47Y29uc3QgdD1uKHRoaXMpO3QuZmluYWxpemUoKSx2b2lkIDAhPT10LmwmJih0aGlzLmw9Wy4uLnQubF0pLHRoaXMuZWxlbWVudFByb3BlcnRpZXM9bmV3IE1hcCh0LmVsZW1lbnRQcm9wZXJ0aWVzKX1zdGF0aWMgZmluYWxpemUoKXtpZih0aGlzLmhhc093blByb3BlcnR5KGQoXCJmaW5hbGl6ZWRcIikpKXJldHVybjtpZih0aGlzLmZpbmFsaXplZD0hMCx0aGlzLl8kRWkoKSx0aGlzLmhhc093blByb3BlcnR5KGQoXCJwcm9wZXJ0aWVzXCIpKSl7Y29uc3QgdD10aGlzLnByb3BlcnRpZXMscz1bLi4uaCh0KSwuLi5vKHQpXTtmb3IoY29uc3QgaSBvZiBzKXRoaXMuY3JlYXRlUHJvcGVydHkoaSx0W2ldKX1jb25zdCB0PXRoaXNbU3ltYm9sLm1ldGFkYXRhXTtpZihudWxsIT09dCl7Y29uc3Qgcz1saXRQcm9wZXJ0eU1ldGFkYXRhLmdldCh0KTtpZih2b2lkIDAhPT1zKWZvcihjb25zdFt0LGldb2Ygcyl0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldCh0LGkpfXRoaXMuXyRFaD1uZXcgTWFwO2Zvcihjb25zdFt0LHNdb2YgdGhpcy5lbGVtZW50UHJvcGVydGllcyl7Y29uc3QgaT10aGlzLl8kRXUodCxzKTt2b2lkIDAhPT1pJiZ0aGlzLl8kRWguc2V0KGksdCl9dGhpcy5lbGVtZW50U3R5bGVzPXRoaXMuZmluYWxpemVTdHlsZXModGhpcy5zdHlsZXMpfXN0YXRpYyBmaW5hbGl6ZVN0eWxlcyhzKXtjb25zdCBpPVtdO2lmKEFycmF5LmlzQXJyYXkocykpe2NvbnN0IGU9bmV3IFNldChzLmZsYXQoMS8wKS5yZXZlcnNlKCkpO2Zvcihjb25zdCBzIG9mIGUpaS51bnNoaWZ0KHQocykpfWVsc2Ugdm9pZCAwIT09cyYmaS5wdXNoKHQocykpO3JldHVybiBpfXN0YXRpYyBfJEV1KHQscyl7Y29uc3QgaT1zLmF0dHJpYnV0ZTtyZXR1cm4hMT09PWk/dm9pZCAwOlwic3RyaW5nXCI9PXR5cGVvZiBpP2k6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dC50b0xvd2VyQ2FzZSgpOnZvaWQgMH1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5fJEVwPXZvaWQgMCx0aGlzLmlzVXBkYXRlUGVuZGluZz0hMSx0aGlzLmhhc1VwZGF0ZWQ9ITEsdGhpcy5fJEVtPW51bGwsdGhpcy5fJEV2KCl9XyRFdigpe3RoaXMuXyRFUz1uZXcgUHJvbWlzZSgodD0+dGhpcy5lbmFibGVVcGRhdGluZz10KSksdGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5fJEVfKCksdGhpcy5yZXF1ZXN0VXBkYXRlKCksdGhpcy5jb25zdHJ1Y3Rvci5sPy5mb3JFYWNoKCh0PT50KHRoaXMpKSl9YWRkQ29udHJvbGxlcih0KXsodGhpcy5fJEVPPz89bmV3IFNldCkuYWRkKHQpLHZvaWQgMCE9PXRoaXMucmVuZGVyUm9vdCYmdGhpcy5pc0Nvbm5lY3RlZCYmdC5ob3N0Q29ubmVjdGVkPy4oKX1yZW1vdmVDb250cm9sbGVyKHQpe3RoaXMuXyRFTz8uZGVsZXRlKHQpfV8kRV8oKXtjb25zdCB0PW5ldyBNYXAscz10aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzO2Zvcihjb25zdCBpIG9mIHMua2V5cygpKXRoaXMuaGFzT3duUHJvcGVydHkoaSkmJih0LnNldChpLHRoaXNbaV0pLGRlbGV0ZSB0aGlzW2ldKTt0LnNpemU+MCYmKHRoaXMuXyRFcD10KX1jcmVhdGVSZW5kZXJSb290KCl7Y29uc3QgdD10aGlzLnNoYWRvd1Jvb3Q/P3RoaXMuYXR0YWNoU2hhZG93KHRoaXMuY29uc3RydWN0b3Iuc2hhZG93Um9vdE9wdGlvbnMpO3JldHVybiBzKHQsdGhpcy5jb25zdHJ1Y3Rvci5lbGVtZW50U3R5bGVzKSx0fWNvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5yZW5kZXJSb290Pz89dGhpcy5jcmVhdGVSZW5kZXJSb290KCksdGhpcy5lbmFibGVVcGRhdGluZyghMCksdGhpcy5fJEVPPy5mb3JFYWNoKCh0PT50Lmhvc3RDb25uZWN0ZWQ/LigpKSl9ZW5hYmxlVXBkYXRpbmcodCl7fWRpc2Nvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5fJEVPPy5mb3JFYWNoKCh0PT50Lmhvc3REaXNjb25uZWN0ZWQ/LigpKSl9YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKHQscyxpKXt0aGlzLl8kQUsodCxpKX1fJEVDKHQscyl7Y29uc3QgaT10aGlzLmNvbnN0cnVjdG9yLmVsZW1lbnRQcm9wZXJ0aWVzLmdldCh0KSxlPXRoaXMuY29uc3RydWN0b3IuXyRFdSh0LGkpO2lmKHZvaWQgMCE9PWUmJiEwPT09aS5yZWZsZWN0KXtjb25zdCByPSh2b2lkIDAhPT1pLmNvbnZlcnRlcj8udG9BdHRyaWJ1dGU/aS5jb252ZXJ0ZXI6dSkudG9BdHRyaWJ1dGUocyxpLnR5cGUpO3RoaXMuXyRFbT10LG51bGw9PXI/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoZSk6dGhpcy5zZXRBdHRyaWJ1dGUoZSxyKSx0aGlzLl8kRW09bnVsbH19XyRBSyh0LHMpe2NvbnN0IGk9dGhpcy5jb25zdHJ1Y3RvcixlPWkuXyRFaC5nZXQodCk7aWYodm9pZCAwIT09ZSYmdGhpcy5fJEVtIT09ZSl7Y29uc3QgdD1pLmdldFByb3BlcnR5T3B0aW9ucyhlKSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29udmVydGVyP3tmcm9tQXR0cmlidXRlOnQuY29udmVydGVyfTp2b2lkIDAhPT10LmNvbnZlcnRlcj8uZnJvbUF0dHJpYnV0ZT90LmNvbnZlcnRlcjp1O3RoaXMuXyRFbT1lLHRoaXNbZV09ci5mcm9tQXR0cmlidXRlKHMsdC50eXBlKSx0aGlzLl8kRW09bnVsbH19cmVxdWVzdFVwZGF0ZSh0LHMsaSl7aWYodm9pZCAwIT09dCl7aWYoaT8/PXRoaXMuY29uc3RydWN0b3IuZ2V0UHJvcGVydHlPcHRpb25zKHQpLCEoaS5oYXNDaGFuZ2VkPz9mKSh0aGlzW3RdLHMpKXJldHVybjt0aGlzLlAodCxzLGkpfSExPT09dGhpcy5pc1VwZGF0ZVBlbmRpbmcmJih0aGlzLl8kRVM9dGhpcy5fJEVUKCkpfVAodCxzLGkpe3RoaXMuXyRBTC5oYXModCl8fHRoaXMuXyRBTC5zZXQodCxzKSwhMD09PWkucmVmbGVjdCYmdGhpcy5fJEVtIT09dCYmKHRoaXMuXyRFaj8/PW5ldyBTZXQpLmFkZCh0KX1hc3luYyBfJEVUKCl7dGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITA7dHJ5e2F3YWl0IHRoaXMuXyRFU31jYXRjaCh0KXtQcm9taXNlLnJlamVjdCh0KX1jb25zdCB0PXRoaXMuc2NoZWR1bGVVcGRhdGUoKTtyZXR1cm4gbnVsbCE9dCYmYXdhaXQgdCwhdGhpcy5pc1VwZGF0ZVBlbmRpbmd9c2NoZWR1bGVVcGRhdGUoKXtyZXR1cm4gdGhpcy5wZXJmb3JtVXBkYXRlKCl9cGVyZm9ybVVwZGF0ZSgpe2lmKCF0aGlzLmlzVXBkYXRlUGVuZGluZylyZXR1cm47aWYoIXRoaXMuaGFzVXBkYXRlZCl7aWYodGhpcy5yZW5kZXJSb290Pz89dGhpcy5jcmVhdGVSZW5kZXJSb290KCksdGhpcy5fJEVwKXtmb3IoY29uc3RbdCxzXW9mIHRoaXMuXyRFcCl0aGlzW3RdPXM7dGhpcy5fJEVwPXZvaWQgMH1jb25zdCB0PXRoaXMuY29uc3RydWN0b3IuZWxlbWVudFByb3BlcnRpZXM7aWYodC5zaXplPjApZm9yKGNvbnN0W3MsaV1vZiB0KSEwIT09aS53cmFwcGVkfHx0aGlzLl8kQUwuaGFzKHMpfHx2b2lkIDA9PT10aGlzW3NdfHx0aGlzLlAocyx0aGlzW3NdLGkpfWxldCB0PSExO2NvbnN0IHM9dGhpcy5fJEFMO3RyeXt0PXRoaXMuc2hvdWxkVXBkYXRlKHMpLHQ/KHRoaXMud2lsbFVwZGF0ZShzKSx0aGlzLl8kRU8/LmZvckVhY2goKHQ9PnQuaG9zdFVwZGF0ZT8uKCkpKSx0aGlzLnVwZGF0ZShzKSk6dGhpcy5fJEVVKCl9Y2F0Y2gocyl7dGhyb3cgdD0hMSx0aGlzLl8kRVUoKSxzfXQmJnRoaXMuXyRBRShzKX13aWxsVXBkYXRlKHQpe31fJEFFKHQpe3RoaXMuXyRFTz8uZm9yRWFjaCgodD0+dC5ob3N0VXBkYXRlZD8uKCkpKSx0aGlzLmhhc1VwZGF0ZWR8fCh0aGlzLmhhc1VwZGF0ZWQ9ITAsdGhpcy5maXJzdFVwZGF0ZWQodCkpLHRoaXMudXBkYXRlZCh0KX1fJEVVKCl7dGhpcy5fJEFMPW5ldyBNYXAsdGhpcy5pc1VwZGF0ZVBlbmRpbmc9ITF9Z2V0IHVwZGF0ZUNvbXBsZXRlKCl7cmV0dXJuIHRoaXMuZ2V0VXBkYXRlQ29tcGxldGUoKX1nZXRVcGRhdGVDb21wbGV0ZSgpe3JldHVybiB0aGlzLl8kRVN9c2hvdWxkVXBkYXRlKHQpe3JldHVybiEwfXVwZGF0ZSh0KXt0aGlzLl8kRWomJj10aGlzLl8kRWouZm9yRWFjaCgodD0+dGhpcy5fJEVDKHQsdGhpc1t0XSkpKSx0aGlzLl8kRVUoKX11cGRhdGVkKHQpe31maXJzdFVwZGF0ZWQodCl7fX1iLmVsZW1lbnRTdHlsZXM9W10sYi5zaGFkb3dSb290T3B0aW9ucz17bW9kZTpcIm9wZW5cIn0sYltkKFwiZWxlbWVudFByb3BlcnRpZXNcIildPW5ldyBNYXAsYltkKFwiZmluYWxpemVkXCIpXT1uZXcgTWFwLHA/Lih7UmVhY3RpdmVFbGVtZW50OmJ9KSwoYS5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucz8/PVtdKS5wdXNoKFwiMi4wLjRcIik7ZXhwb3J0e2IgYXMgUmVhY3RpdmVFbGVtZW50LHUgYXMgZGVmYXVsdENvbnZlcnRlcixmIGFzIG5vdEVxdWFsfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0aXZlLWVsZW1lbnQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBVc2UgdGhpcyBtb2R1bGUgaWYgeW91IHdhbnQgdG8gY3JlYXRlIHlvdXIgb3duIGJhc2UgY2xhc3MgZXh0ZW5kaW5nXG4gKiB7QGxpbmsgUmVhY3RpdmVFbGVtZW50fS5cbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovXG5cbmltcG9ydCB7XG4gIGdldENvbXBhdGlibGVTdHlsZSxcbiAgYWRvcHRTdHlsZXMsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBDU1NSZXN1bHRPck5hdGl2ZSxcbn0gZnJvbSAnLi9jc3MtdGFnLmpzJztcbmltcG9ydCB0eXBlIHtcbiAgUmVhY3RpdmVDb250cm9sbGVyLFxuICBSZWFjdGl2ZUNvbnRyb2xsZXJIb3N0LFxufSBmcm9tICcuL3JlYWN0aXZlLWNvbnRyb2xsZXIuanMnO1xuXG4vLyBJbiB0aGUgTm9kZSBidWlsZCwgdGhpcyBpbXBvcnQgd2lsbCBiZSBpbmplY3RlZCBieSBSb2xsdXA6XG4vLyBpbXBvcnQge0hUTUxFbGVtZW50LCBjdXN0b21FbGVtZW50c30gZnJvbSAnQGxpdC1sYWJzL3Nzci1kb20tc2hpbSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vY3NzLXRhZy5qcyc7XG5leHBvcnQgdHlwZSB7XG4gIFJlYWN0aXZlQ29udHJvbGxlcixcbiAgUmVhY3RpdmVDb250cm9sbGVySG9zdCxcbn0gZnJvbSAnLi9yZWFjdGl2ZS1jb250cm9sbGVyLmpzJztcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBgcmVhZG9ubHlgIG1vZGlmaWVyIGZyb20gcHJvcGVydGllcyBpbiB0aGUgdW5pb24gSy5cbiAqXG4gKiBUaGlzIGlzIGEgc2FmZXIgd2F5IHRvIGNhc3QgYSB2YWx1ZSB0byBhIHR5cGUgd2l0aCBhIG11dGFibGUgdmVyc2lvbiBvZiBhXG4gKiByZWFkb25seSBmaWVsZCwgdGhhbiBjYXN0aW5nIHRvIGFuIGludGVyZmFjZSB3aXRoIHRoZSBmaWVsZCByZS1kZWNsYXJlZFxuICogYmVjYXVzZSBpdCBwcmVzZXJ2ZXMgdGhlIHR5cGUgb2YgYWxsIHRoZSBmaWVsZHMgYW5kIHdhcm5zIG9uIHR5cG9zLlxuICovXG50eXBlIE11dGFibGU8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPiAmIHtcbiAgLXJlYWRvbmx5IFtQIGluIGtleW9mIFBpY2s8VCwgSz5dOiBQIGV4dGVuZHMgSyA/IFRbUF0gOiBuZXZlcjtcbn07XG5cbi8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBBZGQgYGhhc093bmAgaGVyZSB3aGVuIHdlIHNoaXAgRVMyMDIyXG5jb25zdCB7XG4gIGlzLFxuICBkZWZpbmVQcm9wZXJ0eSxcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGdldFByb3RvdHlwZU9mLFxufSA9IE9iamVjdDtcblxuY29uc3QgTk9ERV9NT0RFID0gZmFsc2U7XG5cbi8vIExldHMgYSBtaW5pZmllciByZXBsYWNlIGdsb2JhbFRoaXMgcmVmZXJlbmNlcyB3aXRoIGEgbWluaWZpZWQgbmFtZVxuY29uc3QgZ2xvYmFsID0gZ2xvYmFsVGhpcztcblxuaWYgKE5PREVfTU9ERSkge1xuICBnbG9iYWwuY3VzdG9tRWxlbWVudHMgPz89IGN1c3RvbUVsZW1lbnRzO1xufVxuXG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5cbmxldCBpc3N1ZVdhcm5pbmc6IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4gdm9pZDtcblxuY29uc3QgdHJ1c3RlZFR5cGVzID0gKGdsb2JhbCBhcyB1bmtub3duIGFzIHt0cnVzdGVkVHlwZXM/OiB7ZW1wdHlTY3JpcHQ6ICcnfX0pXG4gIC50cnVzdGVkVHlwZXM7XG5cbi8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2NyYnVnLmNvbS85OTMyNjhcbi8vIEN1cnJlbnRseSwgYW55IGF0dHJpYnV0ZSBzdGFydGluZyB3aXRoIFwib25cIiBpcyBjb25zaWRlcmVkIHRvIGJlIGFcbi8vIFRydXN0ZWRTY3JpcHQgc291cmNlLiBTdWNoIGJvb2xlYW4gYXR0cmlidXRlcyBtdXN0IGJlIHNldCB0byB0aGUgZXF1aXZhbGVudFxuLy8gdHJ1c3RlZCBlbXB0eVNjcmlwdCB2YWx1ZS5cbmNvbnN0IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA9IHRydXN0ZWRUeXBlc1xuICA/ICh0cnVzdGVkVHlwZXMuZW1wdHlTY3JpcHQgYXMgdW5rbm93biBhcyAnJylcbiAgOiAnJztcblxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgPyBnbG9iYWwucmVhY3RpdmVFbGVtZW50UG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRQb2x5ZmlsbFN1cHBvcnQ7XG5cbmlmIChERVZfTU9ERSkge1xuICAvLyBFbnN1cmUgd2FybmluZ3MgYXJlIGlzc3VlZCBvbmx5IDF4LCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIExpdFxuICAvLyBhcmUgbG9hZGVkLlxuICBjb25zdCBpc3N1ZWRXYXJuaW5nczogU2V0PHN0cmluZyB8IHVuZGVmaW5lZD4gPSAoZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzID8/PVxuICAgIG5ldyBTZXQoKSk7XG5cbiAgLy8gSXNzdWUgYSB3YXJuaW5nLCBpZiB3ZSBoYXZlbid0IGFscmVhZHkuXG4gIGlzc3VlV2FybmluZyA9IChjb2RlOiBzdHJpbmcsIHdhcm5pbmc6IHN0cmluZykgPT4ge1xuICAgIHdhcm5pbmcgKz0gYCBTZWUgaHR0cHM6Ly9saXQuZGV2L21zZy8ke2NvZGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLmA7XG4gICAgaWYgKCFpc3N1ZWRXYXJuaW5ncy5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGlzc3VlZFdhcm5pbmdzLmFkZCh3YXJuaW5nKTtcbiAgICB9XG4gIH07XG5cbiAgaXNzdWVXYXJuaW5nKFxuICAgICdkZXYtbW9kZScsXG4gICAgYExpdCBpcyBpbiBkZXYgbW9kZS4gTm90IHJlY29tbWVuZGVkIGZvciBwcm9kdWN0aW9uIWBcbiAgKTtcblxuICAvLyBJc3N1ZSBwb2x5ZmlsbCBzdXBwb3J0IHdhcm5pbmcuXG4gIGlmIChnbG9iYWwuU2hhZHlET00/LmluVXNlICYmIHBvbHlmaWxsU3VwcG9ydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaXNzdWVXYXJuaW5nKFxuICAgICAgJ3BvbHlmaWxsLXN1cHBvcnQtbWlzc2luZycsXG4gICAgICBgU2hhZG93IERPTSBpcyBiZWluZyBwb2x5ZmlsbGVkIHZpYSBcXGBTaGFkeURPTVxcYCBidXQgYCArXG4gICAgICAgIGB0aGUgXFxgcG9seWZpbGwtc3VwcG9ydFxcYCBtb2R1bGUgaGFzIG5vdCBiZWVuIGxvYWRlZC5gXG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgUmVhY3RpdmVVbnN0YWJsZSB7XG4gIC8qKlxuICAgKiBXaGVuIExpdCBpcyBydW5uaW5nIGluIGRldiBtb2RlIGFuZCBgd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50c2AgaXMgdHJ1ZSxcbiAgICogd2Ugd2lsbCBlbWl0ICdsaXQtZGVidWcnIGV2ZW50cyB0byB3aW5kb3csIHdpdGggbGl2ZSBkZXRhaWxzIGFib3V0IHRoZSB1cGRhdGUgYW5kIHJlbmRlclxuICAgKiBsaWZlY3ljbGUuIFRoZXNlIGNhbiBiZSB1c2VmdWwgZm9yIHdyaXRpbmcgZGVidWcgdG9vbGluZyBhbmQgdmlzdWFsaXphdGlvbnMuXG4gICAqXG4gICAqIFBsZWFzZSBiZSBhd2FyZSB0aGF0IHJ1bm5pbmcgd2l0aCB3aW5kb3cuZW1pdExpdERlYnVnTG9nRXZlbnRzIGhhcyBwZXJmb3JtYW5jZSBvdmVyaGVhZCxcbiAgICogbWFraW5nIGNlcnRhaW4gb3BlcmF0aW9ucyB0aGF0IGFyZSBub3JtYWxseSB2ZXJ5IGNoZWFwIChsaWtlIGEgbm8tb3AgcmVuZGVyKSBtdWNoIHNsb3dlcixcbiAgICogYmVjYXVzZSB3ZSBtdXN0IGNvcHkgZGF0YSBhbmQgZGlzcGF0Y2ggZXZlbnRzLlxuICAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbiAgZXhwb3J0IG5hbWVzcGFjZSBEZWJ1Z0xvZyB7XG4gICAgZXhwb3J0IHR5cGUgRW50cnkgPSBVcGRhdGU7XG4gICAgZXhwb3J0IGludGVyZmFjZSBVcGRhdGUge1xuICAgICAga2luZDogJ3VwZGF0ZSc7XG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBEZWJ1Z0xvZ2dpbmdXaW5kb3cge1xuICAvLyBFdmVuIGluIGRldiBtb2RlLCB3ZSBnZW5lcmFsbHkgZG9uJ3Qgd2FudCB0byBlbWl0IHRoZXNlIGV2ZW50cywgYXMgdGhhdCdzXG4gIC8vIGFub3RoZXIgbGV2ZWwgb2YgY29zdCwgc28gb25seSBlbWl0IHRoZW0gd2hlbiBERVZfTU9ERSBpcyB0cnVlIF9hbmRfIHdoZW5cbiAgLy8gd2luZG93LmVtaXRMaXREZWJ1Z0V2ZW50cyBpcyB0cnVlLlxuICBlbWl0TGl0RGVidWdMb2dFdmVudHM/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgdmlzdWFsaXppbmcgYW5kIGxvZ2dpbmcgaW5zaWdodHMgaW50byB3aGF0IHRoZSBMaXQgdGVtcGxhdGUgc3lzdGVtIGlzIGRvaW5nLlxuICpcbiAqIENvbXBpbGVkIG91dCBvZiBwcm9kIG1vZGUgYnVpbGRzLlxuICovXG5jb25zdCBkZWJ1Z0xvZ0V2ZW50ID0gREVWX01PREVcbiAgPyAoZXZlbnQ6IFJlYWN0aXZlVW5zdGFibGUuRGVidWdMb2cuRW50cnkpID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgRGVidWdMb2dnaW5nV2luZG93KVxuICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgaWYgKCFzaG91bGRFbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQ8UmVhY3RpdmVVbnN0YWJsZS5EZWJ1Z0xvZy5FbnRyeT4oJ2xpdC1kZWJ1ZycsIHtcbiAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIDogdW5kZWZpbmVkO1xuXG4vKlxuICogV2hlbiB1c2luZyBDbG9zdXJlIENvbXBpbGVyLCBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KHByb3BlcnR5LCBvYmplY3QpIGlzXG4gKiByZXBsYWNlZCBhdCBjb21waWxlIHRpbWUgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldLiBXZSBjYW5ub3RcbiAqIGFsaWFzIHRoaXMgZnVuY3Rpb24sIHNvIHdlIGhhdmUgdG8gdXNlIGEgc21hbGwgc2hpbSB0aGF0IGhhcyB0aGUgc2FtZVxuICogYmVoYXZpb3Igd2hlbiBub3QgY29tcGlsaW5nLlxuICovXG4vKkBfX0lOTElORV9fKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSA8UCBleHRlbmRzIFByb3BlcnR5S2V5PihcbiAgcHJvcDogUCxcbiAgX29iajogdW5rbm93blxuKTogUCA9PiBwcm9wO1xuXG4vKipcbiAqIENvbnZlcnRzIHByb3BlcnR5IHZhbHVlcyB0byBhbmQgZnJvbSBhdHRyaWJ1dGUgdmFsdWVzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXI8VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogQ2FsbGVkIHRvIGNvbnZlcnQgYW4gYXR0cmlidXRlIHZhbHVlIHRvIGEgcHJvcGVydHlcbiAgICogdmFsdWUuXG4gICAqL1xuICBmcm9tQXR0cmlidXRlPyh2YWx1ZTogc3RyaW5nIHwgbnVsbCwgdHlwZT86IFR5cGVIaW50KTogVHlwZTtcblxuICAvKipcbiAgICogQ2FsbGVkIHRvIGNvbnZlcnQgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEl0IHJldHVybnMgdW5rbm93biBpbnN0ZWFkIG9mIHN0cmluZywgdG8gYmUgY29tcGF0aWJsZSB3aXRoXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL3RydXN0ZWQtdHlwZXMgKGFuZCBzaW1pbGFyIGVmZm9ydHMpLlxuICAgKi9cbiAgdG9BdHRyaWJ1dGU/KHZhbHVlOiBUeXBlLCB0eXBlPzogVHlwZUhpbnQpOiB1bmtub3duO1xufVxuXG50eXBlIEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlID0gdW5rbm93biwgVHlwZUhpbnQgPSB1bmtub3duPiA9XG4gIHwgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlPlxuICB8ICgodmFsdWU6IHN0cmluZyB8IG51bGwsIHR5cGU/OiBUeXBlSGludCkgPT4gVHlwZSk7XG5cbi8qKlxuICogRGVmaW5lcyBvcHRpb25zIGZvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5RGVjbGFyYXRpb248VHlwZSA9IHVua25vd24sIFR5cGVIaW50ID0gdW5rbm93bj4ge1xuICAvKipcbiAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBpbmRpY2F0ZXMgdGhlIHByb3BlcnR5IGlzIGludGVybmFsIHByaXZhdGUgc3RhdGUuIFRoZVxuICAgKiBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIHNldCBieSB1c2Vycy4gV2hlbiB1c2luZyBUeXBlU2NyaXB0LCB0aGlzIHByb3BlcnR5XG4gICAqIHNob3VsZCBiZSBtYXJrZWQgYXMgYHByaXZhdGVgIG9yIGBwcm90ZWN0ZWRgLCBhbmQgaXQgaXMgYWxzbyBhIGNvbW1vblxuICAgKiBwcmFjdGljZSB0byB1c2UgYSBsZWFkaW5nIGBfYCBpbiB0aGUgbmFtZS4gVGhlIHByb3BlcnR5IGlzIG5vdCBhZGRlZCB0b1xuICAgKiBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICovXG4gIHJlYWRvbmx5IHN0YXRlPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyBhbmQgd2hldGhlciB0aGUgcHJvcGVydHkgYmVjb21lcyBhbiBvYnNlcnZlZCBhdHRyaWJ1dGUuXG4gICAqIElmIHRoZSB2YWx1ZSBpcyBgZmFsc2VgLCB0aGUgcHJvcGVydHkgaXMgbm90IGFkZGVkIHRvIGBvYnNlcnZlZEF0dHJpYnV0ZXNgLlxuICAgKiBJZiB0cnVlIG9yIGFic2VudCwgdGhlIGxvd2VyY2FzZWQgcHJvcGVydHkgbmFtZSBpcyBvYnNlcnZlZCAoZS5nLiBgZm9vQmFyYFxuICAgKiBiZWNvbWVzIGBmb29iYXJgKS4gSWYgYSBzdHJpbmcsIHRoZSBzdHJpbmcgdmFsdWUgaXMgb2JzZXJ2ZWQgKGUuZ1xuICAgKiBgYXR0cmlidXRlOiAnZm9vLWJhcidgKS5cbiAgICovXG4gIHJlYWRvbmx5IGF0dHJpYnV0ZT86IGJvb2xlYW4gfCBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB0aGUgdHlwZSBvZiB0aGUgcHJvcGVydHkuIFRoaXMgaXMgdXNlZCBvbmx5IGFzIGEgaGludCBmb3IgdGhlXG4gICAqIGBjb252ZXJ0ZXJgIHRvIGRldGVybWluZSBob3cgdG8gY29udmVydCB0aGUgYXR0cmlidXRlXG4gICAqIHRvL2Zyb20gYSBwcm9wZXJ0eS5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU/OiBUeXBlSGludDtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIGhvdyB0byBjb252ZXJ0IHRoZSBhdHRyaWJ1dGUgdG8vZnJvbSBhIHByb3BlcnR5LiBJZiB0aGlzIHZhbHVlXG4gICAqIGlzIGEgZnVuY3Rpb24sIGl0IGlzIHVzZWQgdG8gY29udmVydCB0aGUgYXR0cmlidXRlIHZhbHVlIGEgdGhlIHByb3BlcnR5XG4gICAqIHZhbHVlLiBJZiBpdCdzIGFuIG9iamVjdCwgaXQgY2FuIGhhdmUga2V5cyBmb3IgYGZyb21BdHRyaWJ1dGVgIGFuZFxuICAgKiBgdG9BdHRyaWJ1dGVgLiBJZiBubyBgdG9BdHRyaWJ1dGVgIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGFuZFxuICAgKiBgcmVmbGVjdGAgaXMgc2V0IHRvIGB0cnVlYCwgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHNldCBkaXJlY3RseSB0byB0aGVcbiAgICogYXR0cmlidXRlLiBBIGRlZmF1bHQgYGNvbnZlcnRlcmAgaXMgdXNlZCBpZiBub25lIGlzIHByb3ZpZGVkOyBpdCBzdXBwb3J0c1xuICAgKiBgQm9vbGVhbmAsIGBTdHJpbmdgLCBgTnVtYmVyYCwgYE9iamVjdGAsIGFuZCBgQXJyYXlgLiBOb3RlLFxuICAgKiB3aGVuIGEgcHJvcGVydHkgY2hhbmdlcyBhbmQgdGhlIGNvbnZlcnRlciBpcyB1c2VkIHRvIHVwZGF0ZSB0aGUgYXR0cmlidXRlLFxuICAgKiB0aGUgcHJvcGVydHkgaXMgbmV2ZXIgdXBkYXRlZCBhZ2FpbiBhcyBhIHJlc3VsdCBvZiB0aGUgYXR0cmlidXRlIGNoYW5naW5nLFxuICAgKiBhbmQgdmljZSB2ZXJzYS5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnZlcnRlcj86IEF0dHJpYnV0ZUNvbnZlcnRlcjxUeXBlLCBUeXBlSGludD47XG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyBpZiB0aGUgcHJvcGVydHkgc2hvdWxkIHJlZmxlY3QgdG8gYW4gYXR0cmlidXRlLlxuICAgKiBJZiBgdHJ1ZWAsIHdoZW4gdGhlIHByb3BlcnR5IGlzIHNldCwgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgdXNpbmcgdGhlXG4gICAqIGF0dHJpYnV0ZSBuYW1lIGRldGVybWluZWQgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBmb3IgdGhlIGBhdHRyaWJ1dGVgXG4gICAqIHByb3BlcnR5IG9wdGlvbiBhbmQgdGhlIHZhbHVlIG9mIHRoZSBwcm9wZXJ0eSBjb252ZXJ0ZWQgdXNpbmcgdGhlIHJ1bGVzXG4gICAqIGZyb20gdGhlIGBjb252ZXJ0ZXJgIHByb3BlcnR5IG9wdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IHJlZmxlY3Q/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgaW5kaWNhdGVzIGlmIGEgcHJvcGVydHkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgY2hhbmdlZCB3aGVuXG4gICAqIGl0IGlzIHNldC4gVGhlIGZ1bmN0aW9uIHNob3VsZCB0YWtlIHRoZSBgbmV3VmFsdWVgIGFuZCBgb2xkVmFsdWVgIGFuZFxuICAgKiByZXR1cm4gYHRydWVgIGlmIGFuIHVwZGF0ZSBzaG91bGQgYmUgcmVxdWVzdGVkLlxuICAgKi9cbiAgaGFzQ2hhbmdlZD8odmFsdWU6IFR5cGUsIG9sZFZhbHVlOiBUeXBlKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogSW5kaWNhdGVzIHdoZXRoZXIgYW4gYWNjZXNzb3Igd2lsbCBiZSBjcmVhdGVkIGZvciB0aGlzIHByb3BlcnR5LiBCeVxuICAgKiBkZWZhdWx0LCBhbiBhY2Nlc3NvciB3aWxsIGJlIGdlbmVyYXRlZCBmb3IgdGhpcyBwcm9wZXJ0eSB0aGF0IHJlcXVlc3RzIGFuXG4gICAqIHVwZGF0ZSB3aGVuIHNldC4gSWYgdGhpcyBmbGFnIGlzIGB0cnVlYCwgbm8gYWNjZXNzb3Igd2lsbCBiZSBjcmVhdGVkLCBhbmRcbiAgICogaXQgd2lsbCBiZSB0aGUgdXNlcidzIHJlc3BvbnNpYmlsaXR5IHRvIGNhbGxcbiAgICogYHRoaXMucmVxdWVzdFVwZGF0ZShwcm9wZXJ0eU5hbWUsIG9sZFZhbHVlKWAgdG8gcmVxdWVzdCBhbiB1cGRhdGUgd2hlblxuICAgKiB0aGUgcHJvcGVydHkgY2hhbmdlcy5cbiAgICovXG4gIHJlYWRvbmx5IG5vQWNjZXNzb3I/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgcHJvcGVydHkgaXMgd3JhcHBpbmcgYWNjZXNzb3JzLiBUaGlzIGlzIHNldCBieSBgQHByb3BlcnR5YFxuICAgKiB0byBjb250cm9sIHRoZSBpbml0aWFsIHZhbHVlIGNoYW5nZSBhbmQgcmVmbGVjdGlvbiBsb2dpYy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICB3cmFwcGVkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBNYXAgb2YgcHJvcGVydGllcyB0byBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuIEZvciBlYWNoIHByb3BlcnR5IGFuXG4gKiBhY2Nlc3NvciBpcyBtYWRlLCBhbmQgdGhlIHByb3BlcnR5IGlzIHByb2Nlc3NlZCBhY2NvcmRpbmcgdG8gdGhlXG4gKiBQcm9wZXJ0eURlY2xhcmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcGVydHlEZWNsYXJhdGlvbnMge1xuICByZWFkb25seSBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eURlY2xhcmF0aW9uO1xufVxuXG50eXBlIFByb3BlcnR5RGVjbGFyYXRpb25NYXAgPSBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+O1xuXG50eXBlIEF0dHJpYnV0ZU1hcCA9IE1hcDxzdHJpbmcsIFByb3BlcnR5S2V5PjtcblxuLyoqXG4gKiBBIE1hcCBvZiBwcm9wZXJ0eSBrZXlzIHRvIHZhbHVlcy5cbiAqXG4gKiBUYWtlcyBhbiBvcHRpb25hbCB0eXBlIHBhcmFtZXRlciBULCB3aGljaCB3aGVuIHNwZWNpZmllZCBhcyBhIG5vbi1hbnksXG4gKiBub24tdW5rbm93biB0eXBlLCB3aWxsIG1ha2UgdGhlIE1hcCBtb3JlIHN0cm9uZ2x5LXR5cGVkLCBhc3NvY2lhdGluZyB0aGUgbWFwXG4gKiBrZXlzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZyB2YWx1ZSB0eXBlIG9uIFQuXG4gKlxuICogVXNlIGBQcm9wZXJ0eVZhbHVlczx0aGlzPmAgd2hlbiBvdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC51cGRhdGUoKSBhbmRcbiAqIG90aGVyIGxpZmVjeWNsZSBtZXRob2RzIGluIG9yZGVyIHRvIGdldCBzdHJvbmdlciB0eXBlLWNoZWNraW5nIG9uIGtleXNcbiAqIGFuZCB2YWx1ZXMuXG4gKi9cbi8vIFRoaXMgdHlwZSBpcyBjb25kaXRpb25hbCBzbyB0aGF0IGlmIHRoZSBwYXJhbWV0ZXIgVCBpcyBub3Qgc3BlY2lmaWVkLCBvclxuLy8gaXMgYGFueWAsIHRoZSB0eXBlIHdpbGwgaW5jbHVkZSBgTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPmAuIFNpbmNlIFQgaXMgbm90XG4vLyBnaXZlbiBpbiB0aGUgdXNlcyBvZiBQcm9wZXJ0eVZhbHVlcyBpbiB0aGlzIGZpbGUsIGFsbCB1c2VzIGhlcmUgZmFsbGJhY2sgdG9cbi8vIG1lYW5pbmcgYE1hcDxQcm9wZXJ0eUtleSwgdW5rbm93bj5gLCBidXQgaWYgYSBkZXZlbG9wZXIgdXNlc1xuLy8gYFByb3BlcnR5VmFsdWVzPHRoaXM+YCAob3IgYW55IG90aGVyIHZhbHVlIGZvciBUKSB0aGV5IHdpbGwgZ2V0IGFcbi8vIHN0cm9uZ2x5LXR5cGVkIE1hcCB0eXBlLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCB0eXBlIFByb3BlcnR5VmFsdWVzPFQgPSBhbnk+ID0gVCBleHRlbmRzIG9iamVjdFxuICA/IFByb3BlcnR5VmFsdWVNYXA8VD5cbiAgOiBNYXA8UHJvcGVydHlLZXksIHVua25vd24+O1xuXG4vKipcbiAqIERvIG5vdCB1c2UsIGluc3RlYWQgcHJlZmVyIHtAbGlua2NvZGUgUHJvcGVydHlWYWx1ZXN9LlxuICovXG4vLyBUaGlzIHR5cGUgbXVzdCBiZSBleHBvcnRlZCBzdWNoIHRoYXQgSmF2YVNjcmlwdCBnZW5lcmF0ZWQgYnkgdGhlIEdvb2dsZVxuLy8gQ2xvc3VyZSBDb21waWxlciBjYW4gaW1wb3J0IGEgdHlwZSByZWZlcmVuY2UuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BlcnR5VmFsdWVNYXA8VD4gZXh0ZW5kcyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+IHtcbiAgZ2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogVFtLXSB8IHVuZGVmaW5lZDtcbiAgc2V0PEsgZXh0ZW5kcyBrZXlvZiBUPihrZXk6IEssIHZhbHVlOiBUW0tdKTogdGhpcztcbiAgaGFzPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbiAgZGVsZXRlPEsgZXh0ZW5kcyBrZXlvZiBUPihrOiBLKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDb252ZXJ0ZXI6IENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIgPSB7XG4gIHRvQXR0cmlidXRlKHZhbHVlOiB1bmtub3duLCB0eXBlPzogdW5rbm93bik6IHVua25vd24ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID8gZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlIDogbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9iamVjdDpcbiAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgIC8vIGlmIHRoZSB2YWx1ZSBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgcGFzcyB0aGlzIHRocm91Z2hcbiAgICAgICAgLy8gdG8gYWxsb3cgcmVtb3Zpbmcvbm8gY2hhbmdlIGJlaGF2aW9yLlxuICAgICAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcblxuICBmcm9tQXR0cmlidXRlKHZhbHVlOiBzdHJpbmcgfCBudWxsLCB0eXBlPzogdW5rbm93bikge1xuICAgIGxldCBmcm9tVmFsdWU6IHVua25vd24gPSB2YWx1ZTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgZnJvbVZhbHVlID0gdmFsdWUgIT09IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgIGZyb21WYWx1ZSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3Q6XG4gICAgICBjYXNlIEFycmF5OlxuICAgICAgICAvLyBEbyAqbm90KiBnZW5lcmF0ZSBleGNlcHRpb24gd2hlbiBpbnZhbGlkIEpTT04gaXMgc2V0IGFzIGVsZW1lbnRzXG4gICAgICAgIC8vIGRvbid0IG5vcm1hbGx5IGNvbXBsYWluIG9uIGJlaW5nIG1pcy1jb25maWd1cmVkLlxuICAgICAgICAvLyBUT0RPKHNvcnZlbGwpOiBEbyBnZW5lcmF0ZSBleGNlcHRpb24gaW4gKmRldiBtb2RlKi5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBc3NlcnQgdG8gYWRoZXJlIHRvIEJhemVsJ3MgXCJtdXN0IHR5cGUgYXNzZXJ0IEpTT04gcGFyc2VcIiBydWxlLlxuICAgICAgICAgIGZyb21WYWx1ZSA9IEpTT04ucGFyc2UodmFsdWUhKSBhcyB1bmtub3duO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZnJvbVZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGZyb21WYWx1ZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGFzQ2hhbmdlZCB7XG4gICh2YWx1ZTogdW5rbm93biwgb2xkOiB1bmtub3duKTogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsOiBIYXNDaGFuZ2VkID0gKHZhbHVlOiB1bmtub3duLCBvbGQ6IHVua25vd24pOiBib29sZWFuID0+XG4gICFpcyh2YWx1ZSwgb2xkKTtcblxuY29uc3QgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb246IFByb3BlcnR5RGVjbGFyYXRpb24gPSB7XG4gIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgdHlwZTogU3RyaW5nLFxuICBjb252ZXJ0ZXI6IGRlZmF1bHRDb252ZXJ0ZXIsXG4gIHJlZmxlY3Q6IGZhbHNlLFxuICBoYXNDaGFuZ2VkOiBub3RFcXVhbCxcbn07XG5cbi8qKlxuICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGRldiBtb2RlIHdhcm5pbmcgY2F0ZWdvcmllcy5cbiAqL1xuZXhwb3J0IHR5cGUgV2FybmluZ0tpbmQgPVxuICB8ICdjaGFuZ2UtaW4tdXBkYXRlJ1xuICB8ICdtaWdyYXRpb24nXG4gIHwgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJztcblxuZXhwb3J0IHR5cGUgSW5pdGlhbGl6ZXIgPSAoZWxlbWVudDogUmVhY3RpdmVFbGVtZW50KSA9PiB2b2lkO1xuXG4vLyBUZW1wb3JhcnksIHVudGlsIGdvb2dsZTMgaXMgb24gVHlwZVNjcmlwdCA1LjJcbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFN5bWJvbENvbnN0cnVjdG9yIHtcbiAgICByZWFkb25seSBtZXRhZGF0YTogdW5pcXVlIHN5bWJvbDtcbiAgfVxufVxuXG4vLyBFbnN1cmUgbWV0YWRhdGEgaXMgZW5hYmxlZC4gVHlwZVNjcmlwdCBkb2VzIG5vdCBwb2x5ZmlsbFxuLy8gU3ltYm9sLm1ldGFkYXRhLCBzbyB3ZSBtdXN0IGVuc3VyZSB0aGF0IGl0IGV4aXN0cy5cbihTeW1ib2wgYXMge21ldGFkYXRhOiBzeW1ib2x9KS5tZXRhZGF0YSA/Pz0gU3ltYm9sKCdtZXRhZGF0YScpO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIC8vIFRoaXMgaXMgcHVibGljIGdsb2JhbCBBUEksIGRvIG5vdCBjaGFuZ2UhXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby12YXJcbiAgdmFyIGxpdFByb3BlcnR5TWV0YWRhdGE6IFdlYWtNYXA8XG4gICAgb2JqZWN0LFxuICAgIE1hcDxQcm9wZXJ0eUtleSwgUHJvcGVydHlEZWNsYXJhdGlvbj5cbiAgPjtcbn1cblxuLy8gTWFwIGZyb20gYSBjbGFzcydzIG1ldGFkYXRhIG9iamVjdCB0byBwcm9wZXJ0eSBvcHRpb25zXG4vLyBOb3RlIHRoYXQgd2UgbXVzdCB1c2UgbnVsbGlzaC1jb2FsZXNjaW5nIGFzc2lnbm1lbnQgc28gdGhhdCB3ZSBvbmx5IHVzZSBvbmVcbi8vIG1hcCBldmVuIGlmIHdlIGxvYWQgbXVsdGlwbGUgdmVyc2lvbiBvZiB0aGlzIG1vZHVsZS5cbmdsb2JhbC5saXRQcm9wZXJ0eU1ldGFkYXRhID8/PSBuZXcgV2Vha01hcDxcbiAgb2JqZWN0LFxuICBNYXA8UHJvcGVydHlLZXksIFByb3BlcnR5RGVjbGFyYXRpb24+XG4+KCk7XG5cbi8qKlxuICogQmFzZSBlbGVtZW50IGNsYXNzIHdoaWNoIG1hbmFnZXMgZWxlbWVudCBwcm9wZXJ0aWVzIGFuZCBhdHRyaWJ1dGVzLiBXaGVuXG4gKiBwcm9wZXJ0aWVzIGNoYW5nZSwgdGhlIGB1cGRhdGVgIG1ldGhvZCBpcyBhc3luY2hyb25vdXNseSBjYWxsZWQuIFRoaXMgbWV0aG9kXG4gKiBzaG91bGQgYmUgc3VwcGxpZWQgYnkgc3ViY2xhc3NlcyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICogQG5vSW5oZXJpdERvY1xuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVhY3RpdmVFbGVtZW50XG4gIC8vIEluIHRoZSBOb2RlIGJ1aWxkLCB0aGlzIGBleHRlbmRzYCBjbGF1c2Ugd2lsbCBiZSBzdWJzdGl0dXRlZCB3aXRoXG4gIC8vIGAoZ2xvYmFsVGhpcy5IVE1MRWxlbWVudCA/PyBIVE1MRWxlbWVudClgLlxuICAvL1xuICAvLyBUaGlzIHdheSwgd2Ugd2lsbCBmaXJzdCBwcmVmZXIgYW55IGdsb2JhbCBgSFRNTEVsZW1lbnRgIHBvbHlmaWxsIHRoYXQgdGhlXG4gIC8vIHVzZXIgaGFzIGFzc2lnbmVkLCBhbmQgdGhlbiBmYWxsIGJhY2sgdG8gdGhlIGBIVE1MRWxlbWVudGAgc2hpbSB3aGljaCBoYXNcbiAgLy8gYmVlbiBpbXBvcnRlZCAoc2VlIG5vdGUgYXQgdGhlIHRvcCBvZiB0aGlzIGZpbGUgYWJvdXQgaG93IHRoaXMgaW1wb3J0IGlzXG4gIC8vIGdlbmVyYXRlZCBieSBSb2xsdXApLiBOb3RlIHRoYXQgdGhlIGBIVE1MRWxlbWVudGAgdmFyaWFibGUgaGFzIGJlZW5cbiAgLy8gc2hhZG93ZWQgYnkgdGhpcyBpbXBvcnQsIHNvIGl0IG5vIGxvbmdlciByZWZlcnMgdG8gdGhlIGdsb2JhbC5cbiAgZXh0ZW5kcyBIVE1MRWxlbWVudFxuICBpbXBsZW1lbnRzIFJlYWN0aXZlQ29udHJvbGxlckhvc3RcbntcbiAgLy8gTm90ZTogdGhlc2UgYXJlIHBhdGNoZWQgaW4gb25seSBpbiBERVZfTU9ERS5cbiAgLyoqXG4gICAqIFJlYWQgb3Igc2V0IGFsbCB0aGUgZW5hYmxlZCB3YXJuaW5nIGNhdGVnb3JpZXMgZm9yIHRoaXMgY2xhc3MuXG4gICAqXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgb25seSB1c2VkIGluIGRldmVsb3BtZW50IGJ1aWxkcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGRldi1tb2RlXG4gICAqL1xuICBzdGF0aWMgZW5hYmxlZFdhcm5pbmdzPzogV2FybmluZ0tpbmRbXTtcblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBnaXZlbiB3YXJuaW5nIGNhdGVnb3J5IGZvciB0aGlzIGNsYXNzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBvbmx5IGV4aXN0cyBpbiBkZXZlbG9wbWVudCBidWlsZHMsIHNvIGl0IHNob3VsZCBiZSBhY2Nlc3NlZFxuICAgKiB3aXRoIGEgZ3VhcmQgbGlrZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogLy8gRW5hYmxlIGZvciBhbGwgUmVhY3RpdmVFbGVtZW50IHN1YmNsYXNzZXNcbiAgICogUmVhY3RpdmVFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIEVuYWJsZSBmb3Igb25seSBNeUVsZW1lbnQgYW5kIHN1YmNsYXNzZXNcbiAgICogTXlFbGVtZW50LmVuYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgZGV2LW1vZGVcbiAgICovXG4gIHN0YXRpYyBlbmFibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZ2l2ZW4gd2FybmluZyBjYXRlZ29yeSBmb3IgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgb25seSBleGlzdHMgaW4gZGV2ZWxvcG1lbnQgYnVpbGRzLCBzbyBpdCBzaG91bGQgYmUgYWNjZXNzZWRcbiAgICogd2l0aCBhIGd1YXJkIGxpa2U6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIC8vIERpc2FibGUgZm9yIGFsbCBSZWFjdGl2ZUVsZW1lbnQgc3ViY2xhc3Nlc1xuICAgKiBSZWFjdGl2ZUVsZW1lbnQuZGlzYWJsZVdhcm5pbmc/LignbWlncmF0aW9uJyk7XG4gICAqXG4gICAqIC8vIERpc2FibGUgZm9yIG9ubHkgTXlFbGVtZW50IGFuZCBzdWJjbGFzc2VzXG4gICAqIE15RWxlbWVudC5kaXNhYmxlV2FybmluZz8uKCdtaWdyYXRpb24nKTtcbiAgICogYGBgXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBkZXYtbW9kZVxuICAgKi9cbiAgc3RhdGljIGRpc2FibGVXYXJuaW5nPzogKHdhcm5pbmdLaW5kOiBXYXJuaW5nS2luZCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogQWRkcyBhbiBpbml0aWFsaXplciBmdW5jdGlvbiB0byB0aGUgY2xhc3MgdGhhdCBpcyBjYWxsZWQgZHVyaW5nIGluc3RhbmNlXG4gICAqIGNvbnN0cnVjdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvZGUgdGhhdCBydW5zIGFnYWluc3QgYSBgUmVhY3RpdmVFbGVtZW50YFxuICAgKiBzdWJjbGFzcywgc3VjaCBhcyBhIGRlY29yYXRvciwgdGhhdCBuZWVkcyB0byBkbyB3b3JrIGZvciBlYWNoXG4gICAqIGluc3RhbmNlLCBzdWNoIGFzIHNldHRpbmcgdXAgYSBgUmVhY3RpdmVDb250cm9sbGVyYC5cbiAgICpcbiAgICogYGBgdHNcbiAgICogY29uc3QgbXlEZWNvcmF0b3IgPSAodGFyZ2V0OiB0eXBlb2YgUmVhY3RpdmVFbGVtZW50LCBrZXk6IHN0cmluZykgPT4ge1xuICAgKiAgIHRhcmdldC5hZGRJbml0aWFsaXplcigoaW5zdGFuY2U6IFJlYWN0aXZlRWxlbWVudCkgPT4ge1xuICAgKiAgICAgLy8gVGhpcyBpcyBydW4gZHVyaW5nIGNvbnN0cnVjdGlvbiBvZiB0aGUgZWxlbWVudFxuICAgKiAgICAgbmV3IE15Q29udHJvbGxlcihpbnN0YW5jZSk7XG4gICAqICAgfSk7XG4gICAqIH1cbiAgICogYGBgXG4gICAqXG4gICAqIERlY29yYXRpbmcgYSBmaWVsZCB3aWxsIHRoZW4gY2F1c2UgZWFjaCBpbnN0YW5jZSB0byBydW4gYW4gaW5pdGlhbGl6ZXJcbiAgICogdGhhdCBhZGRzIGEgY29udHJvbGxlcjpcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgQG15RGVjb3JhdG9yIGZvbztcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogSW5pdGlhbGl6ZXJzIGFyZSBzdG9yZWQgcGVyLWNvbnN0cnVjdG9yLiBBZGRpbmcgYW4gaW5pdGlhbGl6ZXIgdG8gYVxuICAgKiBzdWJjbGFzcyBkb2VzIG5vdCBhZGQgaXQgdG8gYSBzdXBlcmNsYXNzLiBTaW5jZSBpbml0aWFsaXplcnMgYXJlIHJ1biBpblxuICAgKiBjb25zdHJ1Y3RvcnMsIGluaXRpYWxpemVycyB3aWxsIHJ1biBpbiBvcmRlciBvZiB0aGUgY2xhc3MgaGllcmFyY2h5LFxuICAgKiBzdGFydGluZyB3aXRoIHN1cGVyY2xhc3NlcyBhbmQgcHJvZ3Jlc3NpbmcgdG8gdGhlIGluc3RhbmNlJ3MgY2xhc3MuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBzdGF0aWMgYWRkSW5pdGlhbGl6ZXIoaW5pdGlhbGl6ZXI6IEluaXRpYWxpemVyKSB7XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcbiAgICAodGhpcy5faW5pdGlhbGl6ZXJzID8/PSBbXSkucHVzaChpbml0aWFsaXplcik7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxpemVycz86IEluaXRpYWxpemVyW107XG5cbiAgLypcbiAgICogRHVlIHRvIGNsb3N1cmUgY29tcGlsZXIgRVM2IGNvbXBpbGF0aW9uIGJ1Z3MsIEBub2NvbGxhcHNlIGlzIHJlcXVpcmVkIG9uXG4gICAqIGFsbCBzdGF0aWMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyB3aXRoIGluaXRpYWxpemVycy4gIFJlZmVyZW5jZTpcbiAgICogLSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzE3NzZcbiAgICovXG5cbiAgLyoqXG4gICAqIE1hcHMgYXR0cmlidXRlIG5hbWVzIHRvIHByb3BlcnRpZXM7IGZvciBleGFtcGxlIGBmb29iYXJgIGF0dHJpYnV0ZSB0b1xuICAgKiBgZm9vQmFyYCBwcm9wZXJ0eS4gQ3JlYXRlZCBsYXppbHkgb24gdXNlciBzdWJjbGFzc2VzIHdoZW4gZmluYWxpemluZyB0aGVcbiAgICogY2xhc3MuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXA6IEF0dHJpYnV0ZU1hcDtcblxuICAvKipcbiAgICogTWFya3MgY2xhc3MgYXMgaGF2aW5nIGJlZW4gZmluYWxpemVkLCB3aGljaCBpbmNsdWRlcyBjcmVhdGluZyBwcm9wZXJ0aWVzXG4gICAqIGZyb20gYHN0YXRpYyBwcm9wZXJ0aWVzYCwgYnV0IGRvZXMgKm5vdCogaW5jbHVkZSBhbGwgcHJvcGVydGllcyBjcmVhdGVkXG4gICAqIGZyb20gZGVjb3JhdG9ycy5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVkOiB0cnVlIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNZW1vaXplZCBsaXN0IG9mIGFsbCBlbGVtZW50IHByb3BlcnRpZXMsIGluY2x1ZGluZyBhbnkgc3VwZXJjbGFzc1xuICAgKiBwcm9wZXJ0aWVzLiBDcmVhdGVkIGxhemlseSBvbiB1c2VyIHN1YmNsYXNzZXMgd2hlbiBmaW5hbGl6aW5nIHRoZSBjbGFzcy5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBlbGVtZW50UHJvcGVydGllczogUHJvcGVydHlEZWNsYXJhdGlvbk1hcDtcblxuICAvKipcbiAgICogVXNlci1zdXBwbGllZCBvYmplY3QgdGhhdCBtYXBzIHByb3BlcnR5IG5hbWVzIHRvIGBQcm9wZXJ0eURlY2xhcmF0aW9uYFxuICAgKiBvYmplY3RzIGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgY29uZmlndXJpbmcgcmVhY3RpdmUgcHJvcGVydGllcy4gV2hlblxuICAgKiBhIHJlYWN0aXZlIHByb3BlcnR5IGlzIHNldCB0aGUgZWxlbWVudCB3aWxsIHVwZGF0ZSBhbmQgcmVuZGVyLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IHByb3BlcnRpZXMgYXJlIHB1YmxpYyBmaWVsZHMsIGFuZCBhcyBzdWNoLCB0aGV5IHNob3VsZCBiZVxuICAgKiBjb25zaWRlcmVkIGFzIHByaW1hcmlseSBzZXR0YWJsZSBieSBlbGVtZW50IHVzZXJzLCBlaXRoZXIgdmlhIGF0dHJpYnV0ZSBvclxuICAgKiB0aGUgcHJvcGVydHkgaXRzZWxmLlxuICAgKlxuICAgKiBHZW5lcmFsbHksIHByb3BlcnRpZXMgdGhhdCBhcmUgY2hhbmdlZCBieSB0aGUgZWxlbWVudCBzaG91bGQgYmUgcHJpdmF0ZSBvclxuICAgKiBwcm90ZWN0ZWQgZmllbGRzIGFuZCBzaG91bGQgdXNlIHRoZSBgc3RhdGU6IHRydWVgIG9wdGlvbi4gUHJvcGVydGllc1xuICAgKiBtYXJrZWQgYXMgYHN0YXRlYCBkbyBub3QgcmVmbGVjdCBmcm9tIHRoZSBjb3JyZXNwb25kaW5nIGF0dHJpYnV0ZVxuICAgKlxuICAgKiBIb3dldmVyLCBzb21ldGltZXMgZWxlbWVudCBjb2RlIGRvZXMgbmVlZCB0byBzZXQgYSBwdWJsaWMgcHJvcGVydHkuIFRoaXNcbiAgICogc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGRvbmUgaW4gcmVzcG9uc2UgdG8gdXNlciBpbnRlcmFjdGlvbiwgYW5kIGFuIGV2ZW50XG4gICAqIHNob3VsZCBiZSBmaXJlZCBpbmZvcm1pbmcgdGhlIHVzZXI7IGZvciBleGFtcGxlLCBhIGNoZWNrYm94IHNldHMgaXRzXG4gICAqIGBjaGVja2VkYCBwcm9wZXJ0eSB3aGVuIGNsaWNrZWQgYW5kIGZpcmVzIGEgYGNoYW5nZWRgIGV2ZW50LiBNdXRhdGluZ1xuICAgKiBwdWJsaWMgcHJvcGVydGllcyBzaG91bGQgdHlwaWNhbGx5IG5vdCBiZSBkb25lIGZvciBub24tcHJpbWl0aXZlIChvYmplY3Qgb3JcbiAgICogYXJyYXkpIHByb3BlcnRpZXMuIEluIG90aGVyIGNhc2VzIHdoZW4gYW4gZWxlbWVudCBuZWVkcyB0byBtYW5hZ2Ugc3RhdGUsIGFcbiAgICogcHJpdmF0ZSBwcm9wZXJ0eSBzZXQgd2l0aCB0aGUgYHN0YXRlOiB0cnVlYCBvcHRpb24gc2hvdWxkIGJlIHVzZWQuIFdoZW5cbiAgICogbmVlZGVkLCBzdGF0ZSBwcm9wZXJ0aWVzIGNhbiBiZSBpbml0aWFsaXplZCB2aWEgcHVibGljIHByb3BlcnRpZXMgdG9cbiAgICogZmFjaWxpdGF0ZSBjb21wbGV4IGludGVyYWN0aW9ucy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBwcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9ucztcblxuICAvKipcbiAgICogTWVtb2l6ZWQgbGlzdCBvZiBhbGwgZWxlbWVudCBzdHlsZXMuXG4gICAqIENyZWF0ZWQgbGF6aWx5IG9uIHVzZXIgc3ViY2xhc3NlcyB3aGVuIGZpbmFsaXppbmcgdGhlIGNsYXNzLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgc3R5bGVzXG4gICAqL1xuICBzdGF0aWMgZWxlbWVudFN0eWxlczogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+ID0gW107XG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIHN0eWxlcyB0byBhcHBseSB0byB0aGUgZWxlbWVudC4gVGhlIHN0eWxlcyBzaG91bGQgYmUgZGVmaW5lZFxuICAgKiB1c2luZyB0aGUge0BsaW5rY29kZSBjc3N9IHRhZyBmdW5jdGlvbiwgdmlhIGNvbnN0cnVjdGlibGUgc3R5bGVzaGVldHMsIG9yXG4gICAqIGltcG9ydGVkIGZyb20gbmF0aXZlIENTUyBtb2R1bGUgc2NyaXB0cy5cbiAgICpcbiAgICogTm90ZSBvbiBDb250ZW50IFNlY3VyaXR5IFBvbGljeTpcbiAgICpcbiAgICogRWxlbWVudCBzdHlsZXMgYXJlIGltcGxlbWVudGVkIHdpdGggYDxzdHlsZT5gIHRhZ3Mgd2hlbiB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAqIHN1cHBvcnQgYWRvcHRlZCBTdHlsZVNoZWV0cy4gVG8gdXNlIHN1Y2ggYDxzdHlsZT5gIHRhZ3Mgd2l0aCB0aGUgc3R5bGUtc3JjXG4gICAqIENTUCBkaXJlY3RpdmUsIHRoZSBzdHlsZS1zcmMgdmFsdWUgbXVzdCBlaXRoZXIgaW5jbHVkZSAndW5zYWZlLWlubGluZScgb3JcbiAgICogYG5vbmNlLTxiYXNlNjQtdmFsdWU+YCB3aXRoIGA8YmFzZTY0LXZhbHVlPmAgcmVwbGFjZWQgYmUgYSBzZXJ2ZXItZ2VuZXJhdGVkXG4gICAqIG5vbmNlLlxuICAgKlxuICAgKiBUbyBwcm92aWRlIGEgbm9uY2UgdG8gdXNlIG9uIGdlbmVyYXRlZCBgPHN0eWxlPmAgZWxlbWVudHMsIHNldFxuICAgKiBgd2luZG93LmxpdE5vbmNlYCB0byBhIHNlcnZlci1nZW5lcmF0ZWQgbm9uY2UgaW4geW91ciBwYWdlJ3MgSFRNTCwgYmVmb3JlXG4gICAqIGxvYWRpbmcgYXBwbGljYXRpb24gY29kZTpcbiAgICpcbiAgICogYGBgaHRtbFxuICAgKiA8c2NyaXB0PlxuICAgKiAgIC8vIEdlbmVyYXRlZCBhbmQgdW5pcXVlIHBlciByZXF1ZXN0OlxuICAgKiAgIHdpbmRvdy5saXROb25jZSA9ICdhMWIyYzNkNCc7XG4gICAqIDwvc2NyaXB0PlxuICAgKiBgYGBcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IHN0eWxlc1xuICAgKi9cbiAgc3RhdGljIHN0eWxlcz86IENTU1Jlc3VsdEdyb3VwO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdHRyaWJ1dGVzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHJlZ2lzdGVyZWQgcHJvcGVydGllcy5cbiAgICogQG5vY29sbGFwc2VcbiAgICogQGNhdGVnb3J5IGF0dHJpYnV0ZXNcbiAgICovXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuICAgIC8vIEVuc3VyZSB3ZSd2ZSBjcmVhdGVkIGFsbCBwcm9wZXJ0aWVzXG4gICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgIC8vIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGlzIG9ubHkgdW5kZWZpbmVkIGFmdGVyIGZpbmFsaXplKCkgaW5cbiAgICAvLyBSZWFjdGl2ZUVsZW1lbnQgaXRzZWxmLiBSZWFjdGl2ZUVsZW1lbnQub2JzZXJ2ZWRBdHRyaWJ1dGVzIGlzIG9ubHlcbiAgICAvLyBhY2Nlc3NlZCB3aXRoIFJlYWN0aXZlRWxlbWVudCBhcyB0aGUgcmVjZWl2ZXIgd2hlbiBhIHN1YmNsYXNzIG9yIG1peGluXG4gICAgLy8gY2FsbHMgc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwICYmIFsuLi50aGlzLl9fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcC5rZXlzKCldXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX19pbnN0YW5jZVByb3BlcnRpZXM/OiBQcm9wZXJ0eVZhbHVlcyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb3BlcnR5IGFjY2Vzc29yIG9uIHRoZSBlbGVtZW50IHByb3RvdHlwZSBpZiBvbmUgZG9lcyBub3QgZXhpc3RcbiAgICogYW5kIHN0b3JlcyBhIHtAbGlua2NvZGUgUHJvcGVydHlEZWNsYXJhdGlvbn0gZm9yIHRoZSBwcm9wZXJ0eSB3aXRoIHRoZVxuICAgKiBnaXZlbiBvcHRpb25zLiBUaGUgcHJvcGVydHkgc2V0dGVyIGNhbGxzIHRoZSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYFxuICAgKiBwcm9wZXJ0eSBvcHRpb24gb3IgdXNlcyBhIHN0cmljdCBpZGVudGl0eSBjaGVjayB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3RcbiAgICogdG8gcmVxdWVzdCBhbiB1cGRhdGUuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGN1c3RvbWl6ZSBwcm9wZXJ0aWVzOyBob3dldmVyLFxuICAgKiB3aGVuIGRvaW5nIHNvLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGBzdXBlci5jcmVhdGVQcm9wZXJ0eWAgdG8gZW5zdXJlXG4gICAqIHRoZSBwcm9wZXJ0eSBpcyBzZXR1cCBjb3JyZWN0bHkuIFRoaXMgbWV0aG9kIGNhbGxzXG4gICAqIGBnZXRQcm9wZXJ0eURlc2NyaXB0b3JgIGludGVybmFsbHkgdG8gZ2V0IGEgZGVzY3JpcHRvciB0byBpbnN0YWxsLlxuICAgKiBUbyBjdXN0b21pemUgd2hhdCBwcm9wZXJ0aWVzIGRvIHdoZW4gdGhleSBhcmUgZ2V0IG9yIHNldCwgb3ZlcnJpZGVcbiAgICogYGdldFByb3BlcnR5RGVzY3JpcHRvcmAuIFRvIGN1c3RvbWl6ZSB0aGUgb3B0aW9ucyBmb3IgYSBwcm9wZXJ0eSxcbiAgICogaW1wbGVtZW50IGBjcmVhdGVQcm9wZXJ0eWAgbGlrZSB0aGlzOlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucykge1xuICAgKiAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHtteU9wdGlvbjogdHJ1ZX0pO1xuICAgKiAgIHN1cGVyLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgc3RhdGljIGNyZWF0ZVByb3BlcnR5KFxuICAgIG5hbWU6IFByb3BlcnR5S2V5LFxuICAgIG9wdGlvbnM6IFByb3BlcnR5RGVjbGFyYXRpb24gPSBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICAvLyBJZiB0aGlzIGlzIGEgc3RhdGUgcHJvcGVydHksIGZvcmNlIHRoZSBhdHRyaWJ1dGUgdG8gZmFsc2UuXG4gICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgIChvcHRpb25zIGFzIE11dGFibGU8UHJvcGVydHlEZWNsYXJhdGlvbiwgJ2F0dHJpYnV0ZSc+KS5hdHRyaWJ1dGUgPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcbiAgICB0aGlzLmVsZW1lbnRQcm9wZXJ0aWVzLnNldChuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMubm9BY2Nlc3Nvcikge1xuICAgICAgY29uc3Qga2V5ID0gREVWX01PREVcbiAgICAgICAgPyAvLyBVc2UgU3ltYm9sLmZvciBpbiBkZXYgbW9kZSB0byBtYWtlIGl0IGVhc2llciB0byBtYWludGFpbiBzdGF0ZVxuICAgICAgICAgIC8vIHdoZW4gZG9pbmcgSE1SLlxuICAgICAgICAgIFN5bWJvbC5mb3IoYCR7U3RyaW5nKG5hbWUpfSAoQHByb3BlcnR5KCkgY2FjaGUpYClcbiAgICAgICAgOiBTeW1ib2woKTtcbiAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB0aGlzLmdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpO1xuICAgICAgaWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLnByb3RvdHlwZSwgbmFtZSwgZGVzY3JpcHRvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIGJlIGRlZmluZWQgb24gdGhlIGdpdmVuIG5hbWVkIHByb3BlcnR5LlxuICAgKiBJZiBubyBkZXNjcmlwdG9yIGlzIHJldHVybmVkLCB0aGUgcHJvcGVydHkgd2lsbCBub3QgYmVjb21lIGFuIGFjY2Vzc29yLlxuICAgKiBGb3IgZXhhbXBsZSxcbiAgICpcbiAgICogYGBgdHNcbiAgICogY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gICAqICAgc3RhdGljIGdldFByb3BlcnR5RGVzY3JpcHRvcihuYW1lLCBrZXksIG9wdGlvbnMpIHtcbiAgICogICAgIGNvbnN0IGRlZmF1bHREZXNjcmlwdG9yID1cbiAgICogICAgICAgICBzdXBlci5nZXRQcm9wZXJ0eURlc2NyaXB0b3IobmFtZSwga2V5LCBvcHRpb25zKTtcbiAgICogICAgIGNvbnN0IHNldHRlciA9IGRlZmF1bHREZXNjcmlwdG9yLnNldDtcbiAgICogICAgIHJldHVybiB7XG4gICAqICAgICAgIGdldDogZGVmYXVsdERlc2NyaXB0b3IuZ2V0LFxuICAgKiAgICAgICBzZXQodmFsdWUpIHtcbiAgICogICAgICAgICBzZXR0ZXIuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAqICAgICAgICAgLy8gY3VzdG9tIGFjdGlvbi5cbiAgICogICAgICAgfSxcbiAgICogICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgKiAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKiB9XG4gICAqIGBgYFxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgKi9cbiAgcHJvdGVjdGVkIHN0YXRpYyBnZXRQcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAga2V5OiBzdHJpbmcgfCBzeW1ib2wsXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvblxuICApOiBQcm9wZXJ0eURlc2NyaXB0b3IgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHtnZXQsIHNldH0gPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGhpcy5wcm90b3R5cGUsIG5hbWUpID8/IHtcbiAgICAgIGdldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNba2V5IGFzIGtleW9mIHR5cGVvZiB0aGlzXTtcbiAgICAgIH0sXG4gICAgICBzZXQodGhpczogUmVhY3RpdmVFbGVtZW50LCB2OiB1bmtub3duKSB7XG4gICAgICAgICh0aGlzIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgdW5rbm93bj4pW2tleV0gPSB2O1xuICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChERVZfTU9ERSAmJiBnZXQgPT0gbnVsbCkge1xuICAgICAgaWYgKCd2YWx1ZScgaW4gKGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0aGlzLnByb3RvdHlwZSwgbmFtZSkgPz8ge30pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICAgIGAke3RoaXMubmFtZX0gd2FzIGRlY2xhcmVkIGFzIGEgcmVhY3RpdmUgcHJvcGVydHkgYCArXG4gICAgICAgICAgICBgYnV0IGl0J3MgYWN0dWFsbHkgZGVjbGFyZWQgYXMgYSB2YWx1ZSBvbiB0aGUgcHJvdG90eXBlLiBgICtcbiAgICAgICAgICAgIGBVc3VhbGx5IHRoaXMgaXMgZHVlIHRvIHVzaW5nIEBwcm9wZXJ0eSBvciBAc3RhdGUgb24gYSBtZXRob2QuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAncmVhY3RpdmUtcHJvcGVydHktd2l0aG91dC1nZXR0ZXInLFxuICAgICAgICBgRmllbGQgJHtKU09OLnN0cmluZ2lmeShTdHJpbmcobmFtZSkpfSBvbiBgICtcbiAgICAgICAgICBgJHt0aGlzLm5hbWV9IHdhcyBkZWNsYXJlZCBhcyBhIHJlYWN0aXZlIHByb3BlcnR5IGAgK1xuICAgICAgICAgIGBidXQgaXQgZG9lcyBub3QgaGF2ZSBhIGdldHRlci4gVGhpcyB3aWxsIGJlIGFuIGVycm9yIGluIGEgYCArXG4gICAgICAgICAgYGZ1dHVyZSB2ZXJzaW9uIG9mIExpdC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KHRoaXM6IFJlYWN0aXZlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZ2V0Py5jYWxsKHRoaXMpO1xuICAgICAgfSxcbiAgICAgIHNldCh0aGlzOiBSZWFjdGl2ZUVsZW1lbnQsIHZhbHVlOiB1bmtub3duKSB7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gZ2V0Py5jYWxsKHRoaXMpO1xuICAgICAgICBzZXQhLmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUsIG9wdGlvbnMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBvcHRpb25zIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAqIFRoZXNlIG9wdGlvbnMgYXJlIGRlZmluZWQgd2l0aCBhIGBQcm9wZXJ0eURlY2xhcmF0aW9uYCB2aWEgdGhlIGBwcm9wZXJ0aWVzYFxuICAgKiBvYmplY3Qgb3IgdGhlIGBAcHJvcGVydHlgIGRlY29yYXRvciBhbmQgYXJlIHJlZ2lzdGVyZWQgaW5cbiAgICogYGNyZWF0ZVByb3BlcnR5KC4uLilgLlxuICAgKlxuICAgKiBOb3RlLCB0aGlzIG1ldGhvZCBzaG91bGQgYmUgY29uc2lkZXJlZCBcImZpbmFsXCIgYW5kIG5vdCBvdmVycmlkZGVuLiBUb1xuICAgKiBjdXN0b21pemUgdGhlIG9wdGlvbnMgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIG92ZXJyaWRlXG4gICAqIHtAbGlua2NvZGUgY3JlYXRlUHJvcGVydHl9LlxuICAgKlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKiBAZmluYWxcbiAgICogQGNhdGVnb3J5IHByb3BlcnRpZXNcbiAgICovXG4gIHN0YXRpYyBnZXRQcm9wZXJ0eU9wdGlvbnMobmFtZTogUHJvcGVydHlLZXkpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50UHJvcGVydGllcy5nZXQobmFtZSkgPz8gZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gIH1cblxuICAvLyBUZW1wb3JhcnksIHVudGlsIGdvb2dsZTMgaXMgb24gVHlwZVNjcmlwdCA1LjJcbiAgZGVjbGFyZSBzdGF0aWMgW1N5bWJvbC5tZXRhZGF0YV06IG9iamVjdCAmIFJlY29yZDxQcm9wZXJ0eUtleSwgdW5rbm93bj47XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHN0YXRpYyBvd24gcHJvcGVydGllcyBvZiB0aGUgY2xhc3MgdXNlZCBpbiBib29ra2VlcGluZ1xuICAgKiBmb3IgZWxlbWVudCBwcm9wZXJ0aWVzLCBpbml0aWFsaXplcnMsIGV0Yy5cbiAgICpcbiAgICogQ2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBieSBjb2RlIHRoYXQgbmVlZHMgdG8gZW5zdXJlIHRoZXNlXG4gICAqIHByb3BlcnRpZXMgZXhpc3QgYmVmb3JlIHVzaW5nIHRoZW0uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGVuc3VyZXMgdGhlIHN1cGVyY2xhc3MgaXMgZmluYWxpemVkIHNvIHRoYXQgaW5oZXJpdGVkXG4gICAqIHByb3BlcnR5IG1ldGFkYXRhIGNhbiBiZSBjb3BpZWQgZG93bi5cbiAgICogQG5vY29sbGFwc2VcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIF9fcHJlcGFyZSgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VsZW1lbnRQcm9wZXJ0aWVzJywgdGhpcykpXG4gICAgKSB7XG4gICAgICAvLyBBbHJlYWR5IHByZXBhcmVkXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEZpbmFsaXplIGFueSBzdXBlcmNsYXNzZXNcbiAgICBjb25zdCBzdXBlckN0b3IgPSBnZXRQcm90b3R5cGVPZih0aGlzKSBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuXG4gICAgLy8gQ3JlYXRlIG93biBzZXQgb2YgaW5pdGlhbGl6ZXJzIGZvciB0aGlzIGNsYXNzIGlmIGFueSBleGlzdCBvbiB0aGVcbiAgICAvLyBzdXBlcmNsYXNzIGFuZCBjb3B5IHRoZW0gZG93bi4gTm90ZSwgZm9yIGEgc21hbGwgcGVyZiBib29zdCwgYXZvaWRcbiAgICAvLyBjcmVhdGluZyBpbml0aWFsaXplcnMgdW5sZXNzIG5lZWRlZC5cbiAgICBpZiAoc3VwZXJDdG9yLl9pbml0aWFsaXplcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZXJzID0gWy4uLnN1cGVyQ3Rvci5faW5pdGlhbGl6ZXJzXTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6ZSBlbGVtZW50UHJvcGVydGllcyBmcm9tIHRoZSBzdXBlcmNsYXNzXG4gICAgdGhpcy5lbGVtZW50UHJvcGVydGllcyA9IG5ldyBNYXAoc3VwZXJDdG9yLmVsZW1lbnRQcm9wZXJ0aWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5pc2hlcyBzZXR0aW5nIHVwIHRoZSBjbGFzcyBzbyB0aGF0IGl0J3MgcmVhZHkgdG8gYmUgcmVnaXN0ZXJlZFxuICAgKiBhcyBhIGN1c3RvbSBlbGVtZW50IGFuZCBpbnN0YW50aWF0ZWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBieSB0aGUgUmVhY3RpdmVFbGVtZW50Lm9ic2VydmVkQXR0cmlidXRlcyBnZXR0ZXIuXG4gICAqIElmIHlvdSBvdmVycmlkZSB0aGUgb2JzZXJ2ZWRBdHRyaWJ1dGVzIGdldHRlciwgeW91IG11c3QgZWl0aGVyIGNhbGxcbiAgICogc3VwZXIub2JzZXJ2ZWRBdHRyaWJ1dGVzIHRvIHRyaWdnZXIgZmluYWxpemF0aW9uLCBvciBjYWxsIGZpbmFsaXplKClcbiAgICogeW91cnNlbGYuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqL1xuICBwcm90ZWN0ZWQgc3RhdGljIGZpbmFsaXplKCkge1xuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2ZpbmFsaXplZCcsIHRoaXMpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5fX3ByZXBhcmUoKTtcblxuICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHN0YXRpYyBwcm9wZXJ0aWVzIGJsb2NrOlxuICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgY29uc3QgcHJvcEtleXMgPSBbXG4gICAgICAgIC4uLmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLFxuICAgICAgICAuLi5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpLFxuICAgICAgXSBhcyBBcnJheTxrZXlvZiB0eXBlb2YgcHJvcHM+O1xuICAgICAgZm9yIChjb25zdCBwIG9mIHByb3BLZXlzKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENyZWF0ZSBwcm9wZXJ0aWVzIGZyb20gc3RhbmRhcmQgZGVjb3JhdG9yIG1ldGFkYXRhOlxuICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpc1tTeW1ib2wubWV0YWRhdGFdO1xuICAgIGlmIChtZXRhZGF0YSAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IGxpdFByb3BlcnR5TWV0YWRhdGEuZ2V0KG1ldGFkYXRhKTtcbiAgICAgIGlmIChwcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgcHJvcGVydGllcykge1xuICAgICAgICAgIHRoaXMuZWxlbWVudFByb3BlcnRpZXMuc2V0KHAsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBhdHRyaWJ1dGUtdG8tcHJvcGVydHkgbWFwXG4gICAgdGhpcy5fX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcCwgb3B0aW9uc10gb2YgdGhpcy5lbGVtZW50UHJvcGVydGllcykge1xuICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkocCwgb3B0aW9ucyk7XG4gICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRTdHlsZXMgPSB0aGlzLmZpbmFsaXplU3R5bGVzKHRoaXMuc3R5bGVzKTtcblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2NyZWF0ZVByb3BlcnR5JykpIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICduby1vdmVycmlkZS1jcmVhdGUtcHJvcGVydHknLFxuICAgICAgICAgICdPdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC5jcmVhdGVQcm9wZXJ0eSgpIGlzIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgICAgICAgJ1RoZSBvdmVycmlkZSB3aWxsIG5vdCBiZSBjYWxsZWQgd2l0aCBzdGFuZGFyZCBkZWNvcmF0b3JzJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoJ2dldFByb3BlcnR5RGVzY3JpcHRvcicpKSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICAnbm8tb3ZlcnJpZGUtZ2V0LXByb3BlcnR5LWRlc2NyaXB0b3InLFxuICAgICAgICAgICdPdmVycmlkaW5nIFJlYWN0aXZlRWxlbWVudC5nZXRQcm9wZXJ0eURlc2NyaXB0b3IoKSBpcyBkZXByZWNhdGVkLiAnICtcbiAgICAgICAgICAgICdUaGUgb3ZlcnJpZGUgd2lsbCBub3QgYmUgY2FsbGVkIHdpdGggc3RhbmRhcmQgZGVjb3JhdG9ycydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3B0aW9ucyB1c2VkIHdoZW4gY2FsbGluZyBgYXR0YWNoU2hhZG93YC4gU2V0IHRoaXMgcHJvcGVydHkgdG8gY3VzdG9taXplXG4gICAqIHRoZSBvcHRpb25zIGZvciB0aGUgc2hhZG93Um9vdDsgZm9yIGV4YW1wbGUsIHRvIGNyZWF0ZSBhIGNsb3NlZFxuICAgKiBzaGFkb3dSb290OiBge21vZGU6ICdjbG9zZWQnfWAuXG4gICAqXG4gICAqIE5vdGUsIHRoZXNlIG9wdGlvbnMgYXJlIHVzZWQgaW4gYGNyZWF0ZVJlbmRlclJvb3RgLiBJZiB0aGlzIG1ldGhvZFxuICAgKiBpcyBjdXN0b21pemVkLCBvcHRpb25zIHNob3VsZCBiZSByZXNwZWN0ZWQgaWYgcG9zc2libGUuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBzaGFkb3dSb290T3B0aW9uczogU2hhZG93Um9vdEluaXQgPSB7bW9kZTogJ29wZW4nfTtcblxuICAvKipcbiAgICogVGFrZXMgdGhlIHN0eWxlcyB0aGUgdXNlciBzdXBwbGllZCB2aWEgdGhlIGBzdGF0aWMgc3R5bGVzYCBwcm9wZXJ0eSBhbmRcbiAgICogcmV0dXJucyB0aGUgYXJyYXkgb2Ygc3R5bGVzIHRvIGFwcGx5IHRvIHRoZSBlbGVtZW50LlxuICAgKiBPdmVycmlkZSB0aGlzIG1ldGhvZCB0byBpbnRlZ3JhdGUgaW50byBhIHN0eWxlIG1hbmFnZW1lbnQgc3lzdGVtLlxuICAgKlxuICAgKiBTdHlsZXMgYXJlIGRlZHVwbGljYXRlZCBwcmVzZXJ2aW5nIHRoZSBfbGFzdF8gaW5zdGFuY2UgaW4gdGhlIGxpc3QuIFRoaXNcbiAgICogaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gdG8gYXZvaWQgZHVwbGljYXRlZCBzdHlsZXMgdGhhdCBjYW4gb2NjdXJcbiAgICogZXNwZWNpYWxseSB3aGVuIGNvbXBvc2luZyB2aWEgc3ViY2xhc3NpbmcuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0byB0cnlcbiAgICogdG8gcHJlc2VydmUgdGhlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdCBpbXBvcnRhbnRcbiAgICogdGhhdCBsYXN0IGFkZGVkIHN0eWxlcyBvdmVycmlkZSBwcmV2aW91cyBzdHlsZXMuXG4gICAqXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBjYXRlZ29yeSBzdHlsZXNcbiAgICovXG4gIHByb3RlY3RlZCBzdGF0aWMgZmluYWxpemVTdHlsZXMoXG4gICAgc3R5bGVzPzogQ1NTUmVzdWx0R3JvdXBcbiAgKTogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+IHtcbiAgICBjb25zdCBlbGVtZW50U3R5bGVzID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3R5bGVzKSkge1xuICAgICAgLy8gRGVkdXBlIHRoZSBmbGF0dGVuZWQgYXJyYXkgaW4gcmV2ZXJzZSBvcmRlciB0byBwcmVzZXJ2ZSB0aGUgbGFzdCBpdGVtcy5cbiAgICAgIC8vIENhc3RpbmcgdG8gQXJyYXk8dW5rbm93bj4gd29ya3MgYXJvdW5kIFRTIGVycm9yIHRoYXRcbiAgICAgIC8vIGFwcGVhcnMgdG8gY29tZSBmcm9tIHRyeWluZyB0byBmbGF0dGVuIGEgdHlwZSBDU1NSZXN1bHRBcnJheS5cbiAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoKHN0eWxlcyBhcyBBcnJheTx1bmtub3duPikuZmxhdChJbmZpbml0eSkucmV2ZXJzZSgpKTtcbiAgICAgIC8vIFRoZW4gcHJlc2VydmUgb3JpZ2luYWwgb3JkZXIgYnkgYWRkaW5nIHRoZSBzZXQgaXRlbXMgaW4gcmV2ZXJzZSBvcmRlci5cbiAgICAgIGZvciAoY29uc3QgcyBvZiBzZXQpIHtcbiAgICAgICAgZWxlbWVudFN0eWxlcy51bnNoaWZ0KGdldENvbXBhdGlibGVTdHlsZShzIGFzIENTU1Jlc3VsdE9yTmF0aXZlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdHlsZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWxlbWVudFN0eWxlcy5wdXNoKGdldENvbXBhdGlibGVTdHlsZShzdHlsZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnRTdHlsZXM7XG4gIH1cblxuICAvKipcbiAgICogTm9kZSBvciBTaGFkb3dSb290IGludG8gd2hpY2ggZWxlbWVudCBET00gc2hvdWxkIGJlIHJlbmRlcmVkLiBEZWZhdWx0c1xuICAgKiB0byBhbiBvcGVuIHNoYWRvd1Jvb3QuXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIHJlYWRvbmx5IHJlbmRlclJvb3QhOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHByb3BlcnR5IG5hbWUgZm9yIHRoZSBnaXZlbiBhdHRyaWJ1dGUgYG5hbWVgLlxuICAgKiBAbm9jb2xsYXBzZVxuICAgKi9cbiAgcHJpdmF0ZSBzdGF0aWMgX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkoXG4gICAgbmFtZTogUHJvcGVydHlLZXksXG4gICAgb3B0aW9uczogUHJvcGVydHlEZWNsYXJhdGlvblxuICApIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBvcHRpb25zLmF0dHJpYnV0ZTtcbiAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZVxuICAgICAgPyB1bmRlZmluZWRcbiAgICAgIDogdHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZydcbiAgICAgID8gYXR0cmlidXRlXG4gICAgICA6IHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJ1xuICAgICAgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSB0byBhbiB1bnJlc29sdmVkIFByb21pc2Ugc28gd2UgY2FuIG1ha2Ugc3VyZSB0aGUgZWxlbWVudCBoYXNcbiAgLy8gY29ubmVjdGVkIGJlZm9yZSBmaXJzdCB1cGRhdGUuXG4gIHByaXZhdGUgX191cGRhdGVQcm9taXNlITogUHJvbWlzZTxib29sZWFuPjtcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGVyZSBpcyBhIHBlbmRpbmcgdXBkYXRlIGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgYHJlcXVlc3RVcGRhdGUoKWAuXG4gICAqIFNob3VsZCBvbmx5IGJlIHJlYWQuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBpc1VwZGF0ZVBlbmRpbmcgPSBmYWxzZTtcblxuICAvKipcbiAgICogSXMgc2V0IHRvIGB0cnVlYCBhZnRlciB0aGUgZmlyc3QgdXBkYXRlLiBUaGUgZWxlbWVudCBjb2RlIGNhbm5vdCBhc3N1bWVcbiAgICogdGhhdCBgcmVuZGVyUm9vdGAgZXhpc3RzIGJlZm9yZSB0aGUgZWxlbWVudCBgaGFzVXBkYXRlZGAuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBoYXNVcGRhdGVkID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIE1hcCB3aXRoIGtleXMgZm9yIGFueSBwcm9wZXJ0aWVzIHRoYXQgaGF2ZSBjaGFuZ2VkIHNpbmNlIHRoZSBsYXN0XG4gICAqIHVwZGF0ZSBjeWNsZSB3aXRoIHByZXZpb3VzIHZhbHVlcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfJGNoYW5nZWRQcm9wZXJ0aWVzITogUHJvcGVydHlWYWx1ZXM7XG5cbiAgLyoqXG4gICAqIFByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICovXG4gIHByaXZhdGUgX19yZWZsZWN0aW5nUHJvcGVydGllcz86IFNldDxQcm9wZXJ0eUtleT47XG5cbiAgLyoqXG4gICAqIE5hbWUgb2YgY3VycmVudGx5IHJlZmxlY3RpbmcgcHJvcGVydHlcbiAgICovXG4gIHByaXZhdGUgX19yZWZsZWN0aW5nUHJvcGVydHk6IFByb3BlcnR5S2V5IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNldCBvZiBjb250cm9sbGVycy5cbiAgICovXG4gIHByaXZhdGUgX19jb250cm9sbGVycz86IFNldDxSZWFjdGl2ZUNvbnRyb2xsZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX2luaXRpYWxpemUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBvbmx5IG92ZXJyaWRlIHBvaW50IGZvciBjdXN0b21pemluZyB3b3JrIGRvbmUgd2hlbiBlbGVtZW50c1xuICAgKiBhcmUgY29uc3RydWN0ZWQuXG4gICAqL1xuICBwcml2YXRlIF9faW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlPGJvb2xlYW4+KFxuICAgICAgKHJlcykgPT4gKHRoaXMuZW5hYmxlVXBkYXRpbmcgPSByZXMpXG4gICAgKTtcbiAgICB0aGlzLl8kY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgLy8gVGhpcyBlbnF1ZXVlcyBhIG1pY3JvdGFzayB0aGF0IHVzdCBydW4gYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUsIHNvIGl0XG4gICAgLy8gbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlcXVlc3RVcGRhdGUoKVxuICAgIHRoaXMuX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCk7XG4gICAgLy8gZW5zdXJlcyBmaXJzdCB1cGRhdGUgd2lsbCBiZSBjYXVnaHQgYnkgYW4gZWFybHkgYWNjZXNzIG9mXG4gICAgLy8gYHVwZGF0ZUNvbXBsZXRlYFxuICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLl9pbml0aWFsaXplcnM/LmZvckVhY2goKGkpID0+XG4gICAgICBpKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCB0byBwYXJ0aWNpcGF0ZSBpbiB0aGUgZWxlbWVudCdzIHJlYWN0aXZlXG4gICAqIHVwZGF0ZSBjeWNsZS4gVGhlIGVsZW1lbnQgYXV0b21hdGljYWxseSBjYWxscyBpbnRvIGFueSByZWdpc3RlcmVkXG4gICAqIGNvbnRyb2xsZXJzIGR1cmluZyBpdHMgbGlmZWN5Y2xlIGNhbGxiYWNrcy5cbiAgICpcbiAgICogSWYgdGhlIGVsZW1lbnQgaXMgY29ubmVjdGVkIHdoZW4gYGFkZENvbnRyb2xsZXIoKWAgaXMgY2FsbGVkLCB0aGVcbiAgICogY29udHJvbGxlcidzIGBob3N0Q29ubmVjdGVkKClgIGNhbGxiYWNrIHdpbGwgYmUgaW1tZWRpYXRlbHkgY2FsbGVkLlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIGFkZENvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgKHRoaXMuX19jb250cm9sbGVycyA/Pz0gbmV3IFNldCgpKS5hZGQoY29udHJvbGxlcik7XG4gICAgLy8gSWYgYSBjb250cm9sbGVyIGlzIGFkZGVkIGFmdGVyIHRoZSBlbGVtZW50IGhhcyBiZWVuIGNvbm5lY3RlZCxcbiAgICAvLyBjYWxsIGhvc3RDb25uZWN0ZWQuIE5vdGUsIHJlLXVzaW5nIGV4aXN0ZW5jZSBvZiBgcmVuZGVyUm9vdGAgaGVyZVxuICAgIC8vICh3aGljaCBpcyBzZXQgaW4gY29ubmVjdGVkQ2FsbGJhY2spIHRvIGF2b2lkIHRoZSBuZWVkIHRvIHRyYWNrIGFcbiAgICAvLyBmaXJzdCBjb25uZWN0ZWQgc3RhdGUuXG4gICAgaWYgKHRoaXMucmVuZGVyUm9vdCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGNvbnRyb2xsZXIuaG9zdENvbm5lY3RlZD8uKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBgUmVhY3RpdmVDb250cm9sbGVyYCBmcm9tIHRoZSBlbGVtZW50LlxuICAgKiBAY2F0ZWdvcnkgY29udHJvbGxlcnNcbiAgICovXG4gIHJlbW92ZUNvbnRyb2xsZXIoY29udHJvbGxlcjogUmVhY3RpdmVDb250cm9sbGVyKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5kZWxldGUoY29udHJvbGxlcik7XG4gIH1cblxuICAvKipcbiAgICogRml4ZXMgYW55IHByb3BlcnRpZXMgc2V0IG9uIHRoZSBpbnN0YW5jZSBiZWZvcmUgdXBncmFkZSB0aW1lLlxuICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICogVGhlIHByb3BlcnRpZXMgYXJlIHN0b3JlZCBpbiBhIE1hcCB3aGljaCBpcyBwbGF5ZWQgYmFjayBhZnRlciB0aGVcbiAgICogY29uc3RydWN0b3IgcnVucy4gTm90ZSwgb24gdmVyeSBvbGQgdmVyc2lvbnMgb2YgU2FmYXJpICg8PTkpIG9yIENocm9tZVxuICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgKiBgbmFtZWApIG1heSBub3QgaGF2ZSBkZWZhdWx0IHZhbHVlcyBzZXQgaW4gdGhlIGVsZW1lbnQgY29uc3RydWN0b3IuIE9uXG4gICAqIHRoZXNlIGJyb3dzZXJzIG5hdGl2ZSBwcm9wZXJ0aWVzIGFwcGVhciBvbiBpbnN0YW5jZXMgYW5kIHRoZXJlZm9yZSB0aGVpclxuICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgKiB0aGlzLmlkID0gJ2lkJyBpbiB0aGUgY29uc3RydWN0b3IsIHRoZSAnaWQnIHdpbGwgYmVjb21lICcnIHNpbmNlIHRoaXMgaXNcbiAgICogdGhlIG5hdGl2ZSBwbGF0Zm9ybSBkZWZhdWx0KS5cbiAgICovXG4gIHByaXZhdGUgX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzKCkge1xuICAgIGNvbnN0IGluc3RhbmNlUHJvcGVydGllcyA9IG5ldyBNYXA8UHJvcGVydHlLZXksIHVua25vd24+KCk7XG4gICAgY29uc3QgZWxlbWVudFByb3BlcnRpZXMgPSAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KVxuICAgICAgLmVsZW1lbnRQcm9wZXJ0aWVzO1xuICAgIGZvciAoY29uc3QgcCBvZiBlbGVtZW50UHJvcGVydGllcy5rZXlzKCkgYXMgSXRlcmFibGVJdGVyYXRvcjxrZXlvZiB0aGlzPikge1xuICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wZXJ0aWVzLnNldChwLCB0aGlzW3BdKTtcbiAgICAgICAgZGVsZXRlIHRoaXNbcF07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZVByb3BlcnRpZXMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSBpbnN0YW5jZVByb3BlcnRpZXM7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAqIGNyZWF0ZXMgYW5kIHJldHVybnMgYW4gb3BlbiBzaGFkb3dSb290LiBJbXBsZW1lbnQgdG8gY3VzdG9taXplIHdoZXJlIHRoZVxuICAgKiBlbGVtZW50J3MgRE9NIGlzIHJlbmRlcmVkLiBGb3IgZXhhbXBsZSwgdG8gcmVuZGVyIGludG8gdGhlIGVsZW1lbnQnc1xuICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgKlxuICAgKiBAcmV0dXJuIFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgY3JlYXRlUmVuZGVyUm9vdCgpOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQge1xuICAgIGNvbnN0IHJlbmRlclJvb3QgPVxuICAgICAgdGhpcy5zaGFkb3dSb290ID8/XG4gICAgICB0aGlzLmF0dGFjaFNoYWRvdyhcbiAgICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuc2hhZG93Um9vdE9wdGlvbnNcbiAgICAgICk7XG4gICAgYWRvcHRTdHlsZXMoXG4gICAgICByZW5kZXJSb290LFxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZWxlbWVudFN0eWxlc1xuICAgICk7XG4gICAgcmV0dXJuIHJlbmRlclJvb3Q7XG4gIH1cblxuICAvKipcbiAgICogT24gZmlyc3QgY29ubmVjdGlvbiwgY3JlYXRlcyB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QsIHNldHMgdXBcbiAgICogZWxlbWVudCBzdHlsaW5nLCBhbmQgZW5hYmxlcyB1cGRhdGluZy5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgLy8gQ3JlYXRlIHJlbmRlclJvb3QgYmVmb3JlIGNvbnRyb2xsZXJzIGBob3N0Q29ubmVjdGVkYFxuICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICB0aGlzLmVuYWJsZVVwZGF0aW5nKHRydWUpO1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0Q29ubmVjdGVkPy4oKSk7XG4gIH1cblxuICAvKipcbiAgICogTm90ZSwgdGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNvbnNpZGVyZWQgZmluYWwgYW5kIG5vdCBvdmVycmlkZGVuLiBJdCBpc1xuICAgKiBvdmVycmlkZGVuIG9uIHRoZSBlbGVtZW50IGluc3RhbmNlIHdpdGggYSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJzIHRoZSBmaXJzdFxuICAgKiB1cGRhdGUuXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgZW5hYmxlVXBkYXRpbmcoX3JlcXVlc3RlZFVwZGF0ZTogYm9vbGVhbikge31cblxuICAvKipcbiAgICogQWxsb3dzIGZvciBgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKWAgaW4gZXh0ZW5zaW9ucyB3aGlsZVxuICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICogd2hlbiBkaXNjb25uZWN0aW5nIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZS5cbiAgICogQGNhdGVnb3J5IGxpZmVjeWNsZVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fX2NvbnRyb2xsZXJzPy5mb3JFYWNoKChjKSA9PiBjLmhvc3REaXNjb25uZWN0ZWQ/LigpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbml6ZXMgcHJvcGVydHkgdmFsdWVzIHdoZW4gYXR0cmlidXRlcyBjaGFuZ2UuXG4gICAqXG4gICAqIFNwZWNpZmljYWxseSwgd2hlbiBhbiBhdHRyaWJ1dGUgaXMgc2V0LCB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIFlvdSBzaG91bGQgcmFyZWx5IG5lZWQgdG8gaW1wbGVtZW50IHRoaXMgY2FsbGJhY2suIElmIHRoaXMgbWV0aG9kIGlzXG4gICAqIG92ZXJyaWRkZW4sIGBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgX29sZCwgdmFsdWUpYCBtdXN0IGJlXG4gICAqIGNhbGxlZC5cbiAgICpcbiAgICogU2VlIFt1c2luZyB0aGUgbGlmZWN5Y2xlIGNhbGxiYWNrc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvV2ViX0NvbXBvbmVudHMvVXNpbmdfY3VzdG9tX2VsZW1lbnRzI3VzaW5nX3RoZV9saWZlY3ljbGVfY2FsbGJhY2tzKVxuICAgKiBvbiBNRE4gZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLlxuICAgKiBAY2F0ZWdvcnkgYXR0cmlidXRlc1xuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBfb2xkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsXG4gICkge1xuICAgIHRoaXMuXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIHByaXZhdGUgX19wcm9wZXJ0eVRvQXR0cmlidXRlKG5hbWU6IFByb3BlcnR5S2V5LCB2YWx1ZTogdW5rbm93bikge1xuICAgIGNvbnN0IGVsZW1Qcm9wZXJ0aWVzOiBQcm9wZXJ0eURlY2xhcmF0aW9uTWFwID0gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgKS5lbGVtZW50UHJvcGVydGllcztcbiAgICBjb25zdCBvcHRpb25zID0gZWxlbVByb3BlcnRpZXMuZ2V0KG5hbWUpITtcbiAgICBjb25zdCBhdHRyID0gKFxuICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgKS5fX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKTtcbiAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMucmVmbGVjdCA9PT0gdHJ1ZSkge1xuICAgICAgY29uc3QgY29udmVydGVyID1cbiAgICAgICAgKG9wdGlvbnMuY29udmVydGVyIGFzIENvbXBsZXhBdHRyaWJ1dGVDb252ZXJ0ZXIpPy50b0F0dHJpYnV0ZSAhPT1cbiAgICAgICAgdW5kZWZpbmVkXG4gICAgICAgICAgPyAob3B0aW9ucy5jb252ZXJ0ZXIgYXMgQ29tcGxleEF0dHJpYnV0ZUNvbnZlcnRlcilcbiAgICAgICAgICA6IGRlZmF1bHRDb252ZXJ0ZXI7XG4gICAgICBjb25zdCBhdHRyVmFsdWUgPSBjb252ZXJ0ZXIudG9BdHRyaWJ1dGUhKHZhbHVlLCBvcHRpb25zLnR5cGUpO1xuICAgICAgaWYgKFxuICAgICAgICBERVZfTU9ERSAmJlxuICAgICAgICAodGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50KS5lbmFibGVkV2FybmluZ3MhLmluY2x1ZGVzKFxuICAgICAgICAgICdtaWdyYXRpb24nXG4gICAgICAgICkgJiZcbiAgICAgICAgYXR0clZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICAgJ3VuZGVmaW5lZC1hdHRyaWJ1dGUtdmFsdWUnLFxuICAgICAgICAgIGBUaGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgJHtuYW1lIGFzIHN0cmluZ30gcHJvcGVydHkgaXMgYCArXG4gICAgICAgICAgICBgdW5kZWZpbmVkIG9uIGVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0uIFRoZSBhdHRyaWJ1dGUgd2lsbCBiZSBgICtcbiAgICAgICAgICAgIGByZW1vdmVkLCBidXQgaW4gdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgXFxgUmVhY3RpdmVFbGVtZW50XFxgLCBgICtcbiAgICAgICAgICAgIGB0aGUgYXR0cmlidXRlIHdvdWxkIG5vdCBoYXZlIGNoYW5nZWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSA9IG5hbWU7XG4gICAgICBpZiAoYXR0clZhbHVlID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUgYXMgc3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRhdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IG51bGwpIHtcbiAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgIC8vIE5vdGUsIGhpbnQgdGhpcyBhcyBhbiBgQXR0cmlidXRlTWFwYCBzbyBjbG9zdXJlIGNsZWFybHkgdW5kZXJzdGFuZHNcbiAgICAvLyB0aGUgdHlwZTsgaXQgaGFzIGlzc3VlcyB3aXRoIHRyYWNraW5nIHR5cGVzIHRocm91Z2ggc3RhdGljc1xuICAgIGNvbnN0IHByb3BOYW1lID0gKGN0b3IuX19hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwIGFzIEF0dHJpYnV0ZU1hcCkuZ2V0KG5hbWUpO1xuICAgIC8vIFVzZSB0cmFja2luZyBpbmZvIHRvIGF2b2lkIHJlZmxlY3RpbmcgYSBwcm9wZXJ0eSB2YWx1ZSB0byBhbiBhdHRyaWJ1dGVcbiAgICAvLyBpZiBpdCB3YXMganVzdCBzZXQgYmVjYXVzZSB0aGUgYXR0cmlidXRlIGNoYW5nZWQuXG4gICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0eSAhPT0gcHJvcE5hbWUpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLmdldFByb3BlcnR5T3B0aW9ucyhwcm9wTmFtZSk7XG4gICAgICBjb25zdCBjb252ZXJ0ZXIgPVxuICAgICAgICB0eXBlb2Ygb3B0aW9ucy5jb252ZXJ0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICA/IHtmcm9tQXR0cmlidXRlOiBvcHRpb25zLmNvbnZlcnRlcn1cbiAgICAgICAgICA6IG9wdGlvbnMuY29udmVydGVyPy5mcm9tQXR0cmlidXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IG9wdGlvbnMuY29udmVydGVyXG4gICAgICAgICAgOiBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgLy8gbWFyayBzdGF0ZSByZWZsZWN0aW5nXG4gICAgICB0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnR5ID0gcHJvcE5hbWU7XG4gICAgICB0aGlzW3Byb3BOYW1lIGFzIGtleW9mIHRoaXNdID0gY29udmVydGVyLmZyb21BdHRyaWJ1dGUhKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb3B0aW9ucy50eXBlXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICApIGFzIGFueTtcbiAgICAgIC8vIG1hcmsgc3RhdGUgbm90IHJlZmxlY3RpbmdcbiAgICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0cyBhbiB1cGRhdGUgd2hpY2ggaXMgcHJvY2Vzc2VkIGFzeW5jaHJvbm91c2x5LiBUaGlzIHNob3VsZCBiZSBjYWxsZWRcbiAgICogd2hlbiBhbiBlbGVtZW50IHNob3VsZCB1cGRhdGUgYmFzZWQgb24gc29tZSBzdGF0ZSBub3QgdHJpZ2dlcmVkIGJ5IHNldHRpbmdcbiAgICogYSByZWFjdGl2ZSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICogY2FsbGVkIHdoZW4gbWFudWFsbHkgaW1wbGVtZW50aW5nIGEgcHJvcGVydHkgc2V0dGVyLiBJbiB0aGlzIGNhc2UsIHBhc3MgdGhlXG4gICAqIHByb3BlcnR5IGBuYW1lYCBhbmQgYG9sZFZhbHVlYCB0byBlbnN1cmUgdGhhdCBhbnkgY29uZmlndXJlZCBwcm9wZXJ0eVxuICAgKiBvcHRpb25zIGFyZSBob25vcmVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSBuYW1lIG9mIHJlcXVlc3RpbmcgcHJvcGVydHlcbiAgICogQHBhcmFtIG9sZFZhbHVlIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAqIEBwYXJhbSBvcHRpb25zIHByb3BlcnR5IG9wdGlvbnMgdG8gdXNlIGluc3RlYWQgb2YgdGhlIHByZXZpb3VzbHlcbiAgICogICAgIGNvbmZpZ3VyZWQgb3B0aW9uc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcmVxdWVzdFVwZGF0ZShcbiAgICBuYW1lPzogUHJvcGVydHlLZXksXG4gICAgb2xkVmFsdWU/OiB1bmtub3duLFxuICAgIG9wdGlvbnM/OiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICk6IHZvaWQge1xuICAgIC8vIElmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChERVZfTU9ERSAmJiAobmFtZSBhcyB1bmtub3duKSBpbnN0YW5jZW9mIEV2ZW50KSB7XG4gICAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgICBgYCxcbiAgICAgICAgICBgVGhlIHJlcXVlc3RVcGRhdGUoKSBtZXRob2Qgd2FzIGNhbGxlZCB3aXRoIGFuIEV2ZW50IGFzIHRoZSBwcm9wZXJ0eSBuYW1lLiBUaGlzIGlzIHByb2JhYmx5IGEgbWlzdGFrZSBjYXVzZWQgYnkgYmluZGluZyB0aGlzLnJlcXVlc3RVcGRhdGUgYXMgYW4gZXZlbnQgbGlzdGVuZXIuIEluc3RlYWQgYmluZCBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjYWxsIGl0IHdpdGggbm8gYXJndW1lbnRzOiAoKSA9PiB0aGlzLnJlcXVlc3RVcGRhdGUoKWBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMgPz89IChcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50XG4gICAgICApLmdldFByb3BlcnR5T3B0aW9ucyhuYW1lKTtcbiAgICAgIGNvbnN0IGhhc0NoYW5nZWQgPSBvcHRpb25zLmhhc0NoYW5nZWQgPz8gbm90RXF1YWw7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHRoaXNbbmFtZSBhcyBrZXlvZiB0aGlzXTtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdGhpcy5fJGNoYW5nZVByb3BlcnR5KG5hbWUsIG9sZFZhbHVlLCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5pc1VwZGF0ZVBlbmRpbmcgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9fdXBkYXRlUHJvbWlzZSA9IHRoaXMuX19lbnF1ZXVlVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRjaGFuZ2VQcm9wZXJ0eShcbiAgICBuYW1lOiBQcm9wZXJ0eUtleSxcbiAgICBvbGRWYWx1ZTogdW5rbm93bixcbiAgICBvcHRpb25zOiBQcm9wZXJ0eURlY2xhcmF0aW9uXG4gICkge1xuICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBDcmVhdGUgYSBiZW5jaG1hcmsgb2YgTWFwLmhhcygpICsgTWFwLnNldChcbiAgICAvLyB2cyBqdXN0IE1hcC5zZXQoKVxuICAgIGlmICghdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xuICAgICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzLnNldChuYW1lLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIC8vIEFkZCB0byByZWZsZWN0aW5nIHByb3BlcnRpZXMgc2V0LlxuICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgZXZlcnkgY2hhbmdlIGhhcyBhIGNoYW5jZSB0byBhZGQgdGhlXG4gICAgLy8gcHJvcGVydHkgdG8gYF9fcmVmbGVjdGluZ1Byb3BlcnRpZXNgLiBUaGlzIGVuc3VyZXMgc2V0dGluZ1xuICAgIC8vIGF0dHJpYnV0ZSArIHByb3BlcnR5IHJlZmxlY3RzIGNvcnJlY3RseS5cbiAgICBpZiAob3B0aW9ucy5yZWZsZWN0ID09PSB0cnVlICYmIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydHkgIT09IG5hbWUpIHtcbiAgICAgICh0aGlzLl9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgPz89IG5ldyBTZXQ8UHJvcGVydHlLZXk+KCkpLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgZWxlbWVudCB0byBhc3luY2hyb25vdXNseSB1cGRhdGUuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9fZW5xdWV1ZVVwZGF0ZSgpIHtcbiAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSBhbnkgcHJldmlvdXMgdXBkYXRlIGhhcyByZXNvbHZlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgIGF3YWl0IHRoaXMuX191cGRhdGVQcm9taXNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFJlZmlyZSBhbnkgcHJldmlvdXMgZXJyb3JzIGFzeW5jIHNvIHRoZXkgZG8gbm90IGRpc3J1cHQgdGhlIHVwZGF0ZVxuICAgICAgLy8gY3ljbGUuIEVycm9ycyBhcmUgcmVmaXJlZCBzbyBkZXZlbG9wZXJzIGhhdmUgYSBjaGFuY2UgdG8gb2JzZXJ2ZVxuICAgICAgLy8gdGhlbSwgYW5kIHRoaXMgY2FuIGJlIGRvbmUgYnkgaW1wbGVtZW50aW5nXG4gICAgICAvLyBgd2luZG93Lm9udW5oYW5kbGVkcmVqZWN0aW9uYC5cbiAgICAgIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNjaGVkdWxlVXBkYXRlKCk7XG4gICAgLy8gSWYgYHNjaGVkdWxlVXBkYXRlYCByZXR1cm5zIGEgUHJvbWlzZSwgd2UgYXdhaXQgaXQuIFRoaXMgaXMgZG9uZSB0b1xuICAgIC8vIGVuYWJsZSBjb29yZGluYXRpbmcgdXBkYXRlcyB3aXRoIGEgc2NoZWR1bGVyLiBOb3RlLCB0aGUgcmVzdWx0IGlzXG4gICAgLy8gY2hlY2tlZCB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZCB0by5cbiAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuICF0aGlzLmlzVXBkYXRlUGVuZGluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gZWxlbWVudCB1cGRhdGUuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gY2hhbmdlIHRoZVxuICAgKiB0aW1pbmcgb2YgdXBkYXRlcyBieSByZXR1cm5pbmcgYSBQcm9taXNlLiBUaGUgdXBkYXRlIHdpbGwgYXdhaXQgdGhlXG4gICAqIHJldHVybmVkIFByb21pc2UsIGFuZCB5b3Ugc2hvdWxkIHJlc29sdmUgdGhlIFByb21pc2UgdG8gYWxsb3cgdGhlIHVwZGF0ZVxuICAgKiB0byBwcm9jZWVkLiBJZiB0aGlzIG1ldGhvZCBpcyBvdmVycmlkZGVuLCBgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKWBcbiAgICogbXVzdCBiZSBjYWxsZWQuXG4gICAqXG4gICAqIEZvciBpbnN0YW5jZSwgdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICpcbiAgICogYGBgdHNcbiAgICogb3ZlcnJpZGUgcHJvdGVjdGVkIGFzeW5jIHNjaGVkdWxlVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgKiAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gcmVzb2x2ZSgpKSk7XG4gICAqICAgc3VwZXIuc2NoZWR1bGVVcGRhdGUoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCBzY2hlZHVsZVVwZGF0ZSgpOiB2b2lkIHwgUHJvbWlzZTx1bmtub3duPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5wZXJmb3JtVXBkYXRlKCk7XG4gICAgaWYgKFxuICAgICAgREVWX01PREUgJiZcbiAgICAgICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMoXG4gICAgICAgICdhc3luYy1wZXJmb3JtLXVwZGF0ZSdcbiAgICAgICkgJiZcbiAgICAgIHR5cGVvZiAocmVzdWx0IGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPiB8IHVuZGVmaW5lZCk/LnRoZW4gPT09XG4gICAgICAgICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIGlzc3VlV2FybmluZyhcbiAgICAgICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gcmV0dXJuZWQgYSBQcm9taXNlIGZyb20gcGVyZm9ybVVwZGF0ZSgpLiBgICtcbiAgICAgICAgICBgVGhpcyBiZWhhdmlvciBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgYCArXG4gICAgICAgICAgYHZlcnNpb24gb2YgUmVhY3RpdmVFbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gZWxlbWVudCB1cGRhdGUuIE5vdGUsIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZHVyaW5nIHRoZVxuICAgKiB1cGRhdGUsIGBmaXJzdFVwZGF0ZWRgIGFuZCBgdXBkYXRlZGAgd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgKlxuICAgKiBDYWxsIGBwZXJmb3JtVXBkYXRlKClgIHRvIGltbWVkaWF0ZWx5IHByb2Nlc3MgYSBwZW5kaW5nIHVwZGF0ZS4gVGhpcyBzaG91bGRcbiAgICogZ2VuZXJhbGx5IG5vdCBiZSBuZWVkZWQsIGJ1dCBpdCBjYW4gYmUgZG9uZSBpbiByYXJlIGNhc2VzIHdoZW4geW91IG5lZWQgdG9cbiAgICogdXBkYXRlIHN5bmNocm9ub3VzbHkuXG4gICAqXG4gICAqIEBjYXRlZ29yeSB1cGRhdGVzXG4gICAqL1xuICBwcm90ZWN0ZWQgcGVyZm9ybVVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBBYm9ydCBhbnkgdXBkYXRlIGlmIG9uZSBpcyBub3QgcGVuZGluZyB3aGVuIHRoaXMgaXMgY2FsbGVkLlxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgcGVyZm9ybVVwZGF0ZWAgaXMgY2FsbGVkIGVhcmx5IHRvIFwiZmx1c2hcIlxuICAgIC8vIHRoZSB1cGRhdGUuXG4gICAgaWYgKCF0aGlzLmlzVXBkYXRlUGVuZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkZWJ1Z0xvZ0V2ZW50Py4oe2tpbmQ6ICd1cGRhdGUnfSk7XG4gICAgaWYgKCF0aGlzLmhhc1VwZGF0ZWQpIHtcbiAgICAgIC8vIENyZWF0ZSByZW5kZXJSb290IGJlZm9yZSBmaXJzdCB1cGRhdGUuIFRoaXMgb2NjdXJzIGluIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgIC8vIGJ1dCBpcyBkb25lIGhlcmUgdG8gc3VwcG9ydCBvdXQgb2YgdHJlZSBjYWxscyB0byBgZW5hYmxlVXBkYXRpbmdgL2BwZXJmb3JtVXBkYXRlYC5cbiAgICAgICh0aGlzIGFzIE11dGFibGU8dHlwZW9mIHRoaXMsICdyZW5kZXJSb290Jz4pLnJlbmRlclJvb3QgPz89XG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyUm9vdCgpO1xuICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgIC8vIFByb2R1Y2Ugd2FybmluZyBpZiBhbnkgcmVhY3RpdmUgcHJvcGVydGllcyBvbiB0aGUgcHJvdG90eXBlIGFyZVxuICAgICAgICAvLyBzaGFkb3dlZCBieSBjbGFzcyBmaWVsZHMuIEluc3RhbmNlIGZpZWxkcyBzZXQgYmVmb3JlIHVwZ3JhZGUgYXJlXG4gICAgICAgIC8vIGRlbGV0ZWQgYnkgdGhpcyBwb2ludCwgc28gYW55IG93biBwcm9wZXJ0eSBpcyBjYXVzZWQgYnkgY2xhc3MgZmllbGRcbiAgICAgICAgLy8gaW5pdGlhbGl6YXRpb24gaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvciBhcyB0eXBlb2YgUmVhY3RpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBzaGFkb3dlZFByb3BlcnRpZXMgPSBbLi4uY3Rvci5lbGVtZW50UHJvcGVydGllcy5rZXlzKCldLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSAmJiBwIGluIGdldFByb3RvdHlwZU9mKHRoaXMpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzaGFkb3dlZFByb3BlcnRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBvbiBlbGVtZW50ICR7dGhpcy5sb2NhbE5hbWV9IHdpbGwgbm90IGAgK1xuICAgICAgICAgICAgICBgdHJpZ2dlciB1cGRhdGVzIGFzIGV4cGVjdGVkIGJlY2F1c2UgdGhleSBhcmUgc2V0IHVzaW5nIGNsYXNzIGAgK1xuICAgICAgICAgICAgICBgZmllbGRzOiAke3NoYWRvd2VkUHJvcGVydGllcy5qb2luKCcsICcpfS4gYCArXG4gICAgICAgICAgICAgIGBOYXRpdmUgY2xhc3MgZmllbGRzIGFuZCBzb21lIGNvbXBpbGVkIG91dHB1dCB3aWxsIG92ZXJ3cml0ZSBgICtcbiAgICAgICAgICAgICAgYGFjY2Vzc29ycyB1c2VkIGZvciBkZXRlY3RpbmcgY2hhbmdlcy4gU2VlIGAgK1xuICAgICAgICAgICAgICBgaHR0cHM6Ly9saXQuZGV2L21zZy9jbGFzcy1maWVsZC1zaGFkb3dpbmcgYCArXG4gICAgICAgICAgICAgIGBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgaWYgKHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IHNob3VsZCB3ZSB1c2UgdGhlIHN0b3JlZCB2YWx1ZT8gQ291bGQgYSBuZXcgdmFsdWVcbiAgICAgICAgLy8gaGF2ZSBiZWVuIHNldCBzaW5jZSB3ZSBzdG9yZWQgdGhlIG93biBwcm9wZXJ0eSB2YWx1ZT9cbiAgICAgICAgZm9yIChjb25zdCBbcCwgdmFsdWVdIG9mIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB0aGlzW3AgYXMga2V5b2YgdGhpc10gPSB2YWx1ZSBhcyB0aGlzW2tleW9mIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvLyBUcmlnZ2VyIGluaXRpYWwgdmFsdWUgcmVmbGVjdGlvbiBhbmQgcG9wdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgIC8vIGNoYW5nZWRQcm9wZXJ0aWVzIG1hcCwgYnV0IG9ubHkgZm9yIHRoZSBjYXNlIG9mIGV4cGVyaW1lbnRhbFxuICAgICAgLy8gZGVjb3JhdG9ycyBvbiBhY2Nlc3NvcnMsIHdoaWNoIHdpbGwgbm90IGhhdmUgYWxyZWFkeSBwb3B1bGF0ZWQgdGhlXG4gICAgICAvLyBjaGFuZ2VkUHJvcGVydGllcyBtYXAuIFdlIGNhbid0IGtub3cgaWYgdGhlc2UgYWNjZXNzb3JzIGhhZFxuICAgICAgLy8gaW5pdGlhbGl6ZXJzLCBzbyB3ZSBqdXN0IHNldCB0aGVtIGFueXdheSAtIGEgZGlmZmVyZW5jZSBmcm9tXG4gICAgICAvLyBleHBlcmltZW50YWwgZGVjb3JhdG9ycyBvbiBmaWVsZHMgYW5kIHN0YW5kYXJkIGRlY29yYXRvcnMgb25cbiAgICAgIC8vIGF1dG8tYWNjZXNzb3JzLlxuICAgICAgLy8gRm9yIGNvbnRleHQgd2h5IGV4cGVyaW1lbnRhbERlY29yYXRvcnMgd2l0aCBhdXRvIGFjY2Vzc29ycyBhcmUgaGFuZGxlZFxuICAgICAgLy8gc3BlY2lmaWNhbGx5IGFsc28gc2VlOlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC80MTgzI2lzc3VlY29tbWVudC0xNzExOTU5NjM1XG4gICAgICBjb25zdCBlbGVtZW50UHJvcGVydGllcyA9ICh0aGlzLmNvbnN0cnVjdG9yIGFzIHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQpXG4gICAgICAgIC5lbGVtZW50UHJvcGVydGllcztcbiAgICAgIGlmIChlbGVtZW50UHJvcGVydGllcy5zaXplID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtwLCBvcHRpb25zXSBvZiBlbGVtZW50UHJvcGVydGllcykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG9wdGlvbnMud3JhcHBlZCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgIXRoaXMuXyRjaGFuZ2VkUHJvcGVydGllcy5oYXMocCkgJiZcbiAgICAgICAgICAgIHRoaXNbcCBhcyBrZXlvZiB0aGlzXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLl8kY2hhbmdlUHJvcGVydHkocCwgdGhpc1twIGFzIGtleW9mIHRoaXNdLCBvcHRpb25zKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzO1xuICAgIHRyeSB7XG4gICAgICBzaG91bGRVcGRhdGUgPSB0aGlzLnNob3VsZFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgIHRoaXMud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlPy4oKSk7XG4gICAgICAgIHRoaXMudXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19tYXJrVXBkYXRlZCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIFByZXZlbnQgYGZpcnN0VXBkYXRlZGAgYW5kIGB1cGRhdGVkYCBmcm9tIHJ1bm5pbmcgd2hlbiB0aGVyZSdzIGFuXG4gICAgICAvLyB1cGRhdGUgZXhjZXB0aW9uLlxuICAgICAgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAvLyBFbnN1cmUgZWxlbWVudCBjYW4gYWNjZXB0IGFkZGl0aW9uYWwgdXBkYXRlcyBhZnRlciBhbiBleGNlcHRpb24uXG4gICAgICB0aGlzLl9fbWFya1VwZGF0ZWQoKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIC8vIFRoZSB1cGRhdGUgaXMgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgcGVuZGluZyBhbmQgZnVydGhlciB1cGRhdGVzIGFyZSBub3cgYWxsb3dlZC5cbiAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICB0aGlzLl8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCBiZWZvcmUgYHVwZGF0ZSgpYCB0byBjb21wdXRlIHZhbHVlcyBuZWVkZWQgZHVyaW5nIHRoZSB1cGRhdGUuXG4gICAqXG4gICAqIEltcGxlbWVudCBgd2lsbFVwZGF0ZWAgdG8gY29tcHV0ZSBwcm9wZXJ0eSB2YWx1ZXMgdGhhdCBkZXBlbmQgb24gb3RoZXJcbiAgICogcHJvcGVydGllcyBhbmQgYXJlIHVzZWQgaW4gdGhlIHJlc3Qgb2YgdGhlIHVwZGF0ZSBwcm9jZXNzLlxuICAgKlxuICAgKiBgYGB0c1xuICAgKiB3aWxsVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAqICAgLy8gb25seSBuZWVkIHRvIGNoZWNrIGNoYW5nZWQgcHJvcGVydGllcyBmb3IgYW4gZXhwZW5zaXZlIGNvbXB1dGF0aW9uLlxuICAgKiAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2ZpcnN0TmFtZScpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnbGFzdE5hbWUnKSkge1xuICAgKiAgICAgdGhpcy5zaGEgPSBjb21wdXRlU0hBKGAke3RoaXMuZmlyc3ROYW1lfSAke3RoaXMubGFzdE5hbWV9YCk7XG4gICAqICAgfVxuICAgKiB9XG4gICAqXG4gICAqIHJlbmRlcigpIHtcbiAgICogICByZXR1cm4gaHRtbGBTSEE6ICR7dGhpcy5zaGF9YDtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB3aWxsVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpOiB2b2lkIHt9XG5cbiAgLy8gTm90ZSwgdGhpcyBpcyBhbiBvdmVycmlkZSBwb2ludCBmb3IgcG9seWZpbGwtc3VwcG9ydC5cbiAgLy8gQGludGVybmFsXG4gIF8kZGlkVXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xuICAgIHRoaXMuX19jb250cm9sbGVycz8uZm9yRWFjaCgoYykgPT4gYy5ob3N0VXBkYXRlZD8uKCkpO1xuICAgIGlmICghdGhpcy5oYXNVcGRhdGVkKSB7XG4gICAgICB0aGlzLmhhc1VwZGF0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgIGlmIChcbiAgICAgIERFVl9NT0RFICYmXG4gICAgICB0aGlzLmlzVXBkYXRlUGVuZGluZyAmJlxuICAgICAgKHRoaXMuY29uc3RydWN0b3IgYXMgdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkuZW5hYmxlZFdhcm5pbmdzIS5pbmNsdWRlcyhcbiAgICAgICAgJ2NoYW5nZS1pbi11cGRhdGUnXG4gICAgICApXG4gICAgKSB7XG4gICAgICBpc3N1ZVdhcm5pbmcoXG4gICAgICAgICdjaGFuZ2UtaW4tdXBkYXRlJyxcbiAgICAgICAgYEVsZW1lbnQgJHt0aGlzLmxvY2FsTmFtZX0gc2NoZWR1bGVkIGFuIHVwZGF0ZSBgICtcbiAgICAgICAgICBgKGdlbmVyYWxseSBiZWNhdXNlIGEgcHJvcGVydHkgd2FzIHNldCkgYCArXG4gICAgICAgICAgYGFmdGVyIGFuIHVwZGF0ZSBjb21wbGV0ZWQsIGNhdXNpbmcgYSBuZXcgdXBkYXRlIHRvIGJlIHNjaGVkdWxlZC4gYCArXG4gICAgICAgICAgYFRoaXMgaXMgaW5lZmZpY2llbnQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIHVubGVzcyB0aGUgbmV4dCB1cGRhdGUgYCArXG4gICAgICAgICAgYGNhbiBvbmx5IGJlIHNjaGVkdWxlZCBhcyBhIHNpZGUgZWZmZWN0IG9mIHRoZSBwcmV2aW91cyB1cGRhdGUuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9fbWFya1VwZGF0ZWQoKSB7XG4gICAgdGhpcy5fJGNoYW5nZWRQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuaXNVcGRhdGVQZW5kaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBlbGVtZW50IGhhcyBjb21wbGV0ZWQgdXBkYXRpbmcuXG4gICAqIFRoZSBQcm9taXNlIHZhbHVlIGlzIGEgYm9vbGVhbiB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgZWxlbWVudCBjb21wbGV0ZWQgdGhlXG4gICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAqIGEgcHJvcGVydHkgd2FzIHNldCBpbnNpZGUgYHVwZGF0ZWQoKWAuIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhblxuICAgKiBleGNlcHRpb24gd2FzIHRocm93biBkdXJpbmcgdGhlIHVwZGF0ZS5cbiAgICpcbiAgICogVG8gYXdhaXQgYWRkaXRpb25hbCBhc3luY2hyb25vdXMgd29yaywgb3ZlcnJpZGUgdGhlIGBnZXRVcGRhdGVDb21wbGV0ZWBcbiAgICogbWV0aG9kLiBGb3IgZXhhbXBsZSwgaXQgaXMgc29tZXRpbWVzIHVzZWZ1bCB0byBhd2FpdCBhIHJlbmRlcmVkIGVsZW1lbnRcbiAgICogYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgKiBgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKWAsIHRoZW4gYW55IHN1YnNlcXVlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm4gQSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0aGF0IHJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHVwZGF0ZSBjb21wbGV0ZWRcbiAgICogICAgIHdpdGhvdXQgdHJpZ2dlcmluZyBhbm90aGVyIHVwZGF0ZS5cbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIGdldCB1cGRhdGVDb21wbGV0ZSgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gdGhpcy5nZXRVcGRhdGVDb21wbGV0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHBvaW50IGZvciB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBwcm9taXNlLlxuICAgKlxuICAgKiBJdCBpcyBub3Qgc2FmZSB0byBvdmVycmlkZSB0aGUgYHVwZGF0ZUNvbXBsZXRlYCBnZXR0ZXIgZGlyZWN0bHkgZHVlIHRvIGFcbiAgICogbGltaXRhdGlvbiBpbiBUeXBlU2NyaXB0IHdoaWNoIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBjYWxsIGFcbiAgICogc3VwZXJjbGFzcyBnZXR0ZXIgKGUuZy4gYHN1cGVyLnVwZGF0ZUNvbXBsZXRlLnRoZW4oLi4uKWApIHdoZW4gdGhlIHRhcmdldFxuICAgKiBsYW5ndWFnZSBpcyBFUzUgKGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4KS5cbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4gaW5zdGVhZC4gRm9yIGV4YW1wbGU6XG4gICAqXG4gICAqIGBgYHRzXG4gICAqIGNsYXNzIE15RWxlbWVudCBleHRlbmRzIExpdEVsZW1lbnQge1xuICAgKiAgIG92ZXJyaWRlIGFzeW5jIGdldFVwZGF0ZUNvbXBsZXRlKCkge1xuICAgKiAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3VwZXIuZ2V0VXBkYXRlQ29tcGxldGUoKTtcbiAgICogICAgIGF3YWl0IHRoaXMuX215Q2hpbGQudXBkYXRlQ29tcGxldGU7XG4gICAqICAgICByZXR1cm4gcmVzdWx0O1xuICAgKiAgIH1cbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogQHJldHVybiBBIHByb21pc2Ugb2YgYSBib29sZWFuIHRoYXQgcmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgdXBkYXRlIGNvbXBsZXRlZFxuICAgKiAgICAgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldFVwZGF0ZUNvbXBsZXRlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLl9fdXBkYXRlUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlKClgIHNob3VsZCBiZSBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCByZXF1ZXN0c1xuICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAqIGN1c3RvbWl6ZWQgdG8gY29udHJvbCB3aGVuIHRvIHVwZGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHNob3VsZFVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAqIEl0IGNhbiBiZSBvdmVycmlkZGVuIHRvIHJlbmRlciBhbmQga2VlcCB1cGRhdGVkIGVsZW1lbnQgRE9NLlxuICAgKiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCogdHJpZ2dlclxuICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgLy8gVGhlIGZvckVhY2goKSBleHByZXNzaW9uIHdpbGwgb25seSBydW4gd2hlbiB3aGVuIF9fcmVmbGVjdGluZ1Byb3BlcnRpZXMgaXNcbiAgICAvLyBkZWZpbmVkLCBhbmQgaXQgcmV0dXJucyB1bmRlZmluZWQsIHNldHRpbmcgX19yZWZsZWN0aW5nUHJvcGVydGllcyB0b1xuICAgIC8vIHVuZGVmaW5lZFxuICAgIHRoaXMuX19yZWZsZWN0aW5nUHJvcGVydGllcyAmJj0gdGhpcy5fX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLmZvckVhY2goKHApID0+XG4gICAgICB0aGlzLl9fcHJvcGVydHlUb0F0dHJpYnV0ZShwLCB0aGlzW3AgYXMga2V5b2YgdGhpc10pXG4gICAgKSBhcyB1bmRlZmluZWQ7XG4gICAgdGhpcy5fX21hcmtVcGRhdGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuZXZlciB0aGUgZWxlbWVudCBpcyB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybVxuICAgKiBwb3N0LXVwZGF0aW5nIHRhc2tzIHZpYSBET00gQVBJcywgZm9yIGV4YW1wbGUsIGZvY3VzaW5nIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGUgdGhpcyBtZXRob2Qgd2lsbCB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZVxuICAgKiBhZ2FpbiBhZnRlciB0aGlzIHVwZGF0ZSBjeWNsZSBjb21wbGV0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSBfY2hhbmdlZFByb3BlcnRpZXMgTWFwIG9mIGNoYW5nZWQgcHJvcGVydGllcyB3aXRoIG9sZCB2YWx1ZXNcbiAgICogQGNhdGVnb3J5IHVwZGF0ZXNcbiAgICovXG4gIHByb3RlY3RlZCB1cGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHt9XG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgKiB3b3JrIG9uIHRoZSBlbGVtZW50IGFmdGVyIHVwZGF0ZS5cbiAgICpcbiAgICogYGBgdHNcbiAgICogZmlyc3RVcGRhdGVkKCkge1xuICAgKiAgIHRoaXMucmVuZGVyUm9vdC5nZXRFbGVtZW50QnlJZCgnbXktdGV4dC1hcmVhJykuZm9jdXMoKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAqIGFnYWluIGFmdGVyIHRoaXMgdXBkYXRlIGN5Y2xlIGNvbXBsZXRlcy5cbiAgICpcbiAgICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgKiBAY2F0ZWdvcnkgdXBkYXRlc1xuICAgKi9cbiAgcHJvdGVjdGVkIGZpcnN0VXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7fVxufVxuLy8gQXNzaWduZWQgaGVyZSB0byB3b3JrIGFyb3VuZCBhIGpzY29tcGlsZXIgYnVnIHdpdGggc3RhdGljIGZpZWxkc1xuLy8gd2hlbiBjb21waWxpbmcgdG8gRVM1LlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMTc3XG4oUmVhY3RpdmVFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdlbGVtZW50UHJvcGVydGllcycsIFJlYWN0aXZlRWxlbWVudClcbl0gPSBuZXcgTWFwKCk7XG4oUmVhY3RpdmVFbGVtZW50IGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4pW1xuICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCBSZWFjdGl2ZUVsZW1lbnQpXG5dID0gbmV3IE1hcCgpO1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5wb2x5ZmlsbFN1cHBvcnQ/Lih7UmVhY3RpdmVFbGVtZW50fSk7XG5cbi8vIERldiBtb2RlIHdhcm5pbmdzLi4uXG5pZiAoREVWX01PREUpIHtcbiAgLy8gRGVmYXVsdCB3YXJuaW5nIHNldC5cbiAgUmVhY3RpdmVFbGVtZW50LmVuYWJsZWRXYXJuaW5ncyA9IFtcbiAgICAnY2hhbmdlLWluLXVwZGF0ZScsXG4gICAgJ2FzeW5jLXBlcmZvcm0tdXBkYXRlJyxcbiAgXTtcbiAgY29uc3QgZW5zdXJlT3duV2FybmluZ3MgPSBmdW5jdGlvbiAoY3RvcjogdHlwZW9mIFJlYWN0aXZlRWxlbWVudCkge1xuICAgIGlmIChcbiAgICAgICFjdG9yLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2VuYWJsZWRXYXJuaW5ncycsIGN0b3IpKVxuICAgICkge1xuICAgICAgY3Rvci5lbmFibGVkV2FybmluZ3MgPSBjdG9yLmVuYWJsZWRXYXJuaW5ncyEuc2xpY2UoKTtcbiAgICB9XG4gIH07XG4gIFJlYWN0aXZlRWxlbWVudC5lbmFibGVXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsXG4gICAgd2FybmluZzogV2FybmluZ0tpbmRcbiAgKSB7XG4gICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgaWYgKCF0aGlzLmVuYWJsZWRXYXJuaW5ncyEuaW5jbHVkZXMod2FybmluZykpIHtcbiAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5wdXNoKHdhcm5pbmcpO1xuICAgIH1cbiAgfTtcbiAgUmVhY3RpdmVFbGVtZW50LmRpc2FibGVXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgIHRoaXM6IHR5cGVvZiBSZWFjdGl2ZUVsZW1lbnQsXG4gICAgd2FybmluZzogV2FybmluZ0tpbmRcbiAgKSB7XG4gICAgZW5zdXJlT3duV2FybmluZ3ModGhpcyk7XG4gICAgY29uc3QgaSA9IHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5pbmRleE9mKHdhcm5pbmcpO1xuICAgIGlmIChpID49IDApIHtcbiAgICAgIHRoaXMuZW5hYmxlZFdhcm5pbmdzIS5zcGxpY2UoaSwgMSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIFJlYWN0aXZlRWxlbWVudCB1c2FnZS5cbihnbG9iYWwucmVhY3RpdmVFbGVtZW50VmVyc2lvbnMgPz89IFtdKS5wdXNoKCcyLjAuNCcpO1xuaWYgKERFVl9NT0RFICYmIGdsb2JhbC5yZWFjdGl2ZUVsZW1lbnRWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIGlzc3VlV2FybmluZyEoXG4gICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBgICtcbiAgICAgIGBpcyBub3QgcmVjb21tZW5kZWQuYFxuICApO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5jb25zdCB0PWdsb2JhbFRoaXMsZT10LlNoYWRvd1Jvb3QmJih2b2lkIDA9PT10LlNoYWR5Q1NTfHx0LlNoYWR5Q1NTLm5hdGl2ZVNoYWRvdykmJlwiYWRvcHRlZFN0eWxlU2hlZXRzXCJpbiBEb2N1bWVudC5wcm90b3R5cGUmJlwicmVwbGFjZVwiaW4gQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUscz1TeW1ib2woKSxvPW5ldyBXZWFrTWFwO2NsYXNzIG57Y29uc3RydWN0b3IodCxlLG8pe2lmKHRoaXMuXyRjc3NSZXN1bHQkPSEwLG8hPT1zKXRocm93IEVycm9yKFwiQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC5cIik7dGhpcy5jc3NUZXh0PXQsdGhpcy50PWV9Z2V0IHN0eWxlU2hlZXQoKXtsZXQgdD10aGlzLm87Y29uc3Qgcz10aGlzLnQ7aWYoZSYmdm9pZCAwPT09dCl7Y29uc3QgZT12b2lkIDAhPT1zJiYxPT09cy5sZW5ndGg7ZSYmKHQ9by5nZXQocykpLHZvaWQgMD09PXQmJigodGhpcy5vPXQ9bmV3IENTU1N0eWxlU2hlZXQpLnJlcGxhY2VTeW5jKHRoaXMuY3NzVGV4dCksZSYmby5zZXQocyx0KSl9cmV0dXJuIHR9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5jc3NUZXh0fX1jb25zdCByPXQ9Pm5ldyBuKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dCtcIlwiLHZvaWQgMCxzKSxpPSh0LC4uLmUpPT57Y29uc3Qgbz0xPT09dC5sZW5ndGg/dFswXTplLnJlZHVjZSgoKGUscyxvKT0+ZSsodD0+e2lmKCEwPT09dC5fJGNzc1Jlc3VsdCQpcmV0dXJuIHQuY3NzVGV4dDtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDt0aHJvdyBFcnJvcihcIlZhbHVlIHBhc3NlZCB0byAnY3NzJyBmdW5jdGlvbiBtdXN0IGJlIGEgJ2NzcycgZnVuY3Rpb24gcmVzdWx0OiBcIit0K1wiLiBVc2UgJ3Vuc2FmZUNTUycgdG8gcGFzcyBub24tbGl0ZXJhbCB2YWx1ZXMsIGJ1dCB0YWtlIGNhcmUgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuXCIpfSkocykrdFtvKzFdKSx0WzBdKTtyZXR1cm4gbmV3IG4obyx0LHMpfSxTPShzLG8pPT57aWYoZSlzLmFkb3B0ZWRTdHlsZVNoZWV0cz1vLm1hcCgodD0+dCBpbnN0YW5jZW9mIENTU1N0eWxlU2hlZXQ/dDp0LnN0eWxlU2hlZXQpKTtlbHNlIGZvcihjb25zdCBlIG9mIG8pe2NvbnN0IG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLG49dC5saXROb25jZTt2b2lkIDAhPT1uJiZvLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsbiksby50ZXh0Q29udGVudD1lLmNzc1RleHQscy5hcHBlbmRDaGlsZChvKX19LGM9ZT90PT50OnQ9PnQgaW5zdGFuY2VvZiBDU1NTdHlsZVNoZWV0Pyh0PT57bGV0IGU9XCJcIjtmb3IoY29uc3QgcyBvZiB0LmNzc1J1bGVzKWUrPXMuY3NzVGV4dDtyZXR1cm4gcihlKX0pKHQpOnQ7ZXhwb3J0e24gYXMgQ1NTUmVzdWx0LFMgYXMgYWRvcHRTdHlsZXMsaSBhcyBjc3MsYyBhcyBnZXRDb21wYXRpYmxlU3R5bGUsZSBhcyBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMsciBhcyB1bnNhZmVDU1N9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3NzLXRhZy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBzdXBwb3J0cyBgYWRvcHRlZFN0eWxlU2hlZXRzYC5cbiAqL1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0czogYm9vbGVhbiA9XG4gIGdsb2JhbC5TaGFkb3dSb290ICYmXG4gIChnbG9iYWwuU2hhZHlDU1MgPT09IHVuZGVmaW5lZCB8fCBnbG9iYWwuU2hhZHlDU1MubmF0aXZlU2hhZG93KSAmJlxuICAnYWRvcHRlZFN0eWxlU2hlZXRzJyBpbiBEb2N1bWVudC5wcm90b3R5cGUgJiZcbiAgJ3JlcGxhY2UnIGluIENTU1N0eWxlU2hlZXQucHJvdG90eXBlO1xuXG4vKipcbiAqIEEgQ1NTUmVzdWx0IG9yIG5hdGl2ZSBDU1NTdHlsZVNoZWV0LlxuICpcbiAqIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBjb25zdHJ1Y3RpYmxlIENTUyBzdHlsZSBzaGVldHMsIENTU1N0eWxlU2hlZXRcbiAqIG9iamVjdCBjYW4gYmUgdXNlZCBmb3Igc3R5bGluZyBhbG9uZyBzaWRlIENTU1Jlc3VsdCBmcm9tIHRoZSBgY3NzYFxuICogdGVtcGxhdGUgdGFnLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRPck5hdGl2ZSA9IENTU1Jlc3VsdCB8IENTU1N0eWxlU2hlZXQ7XG5cbmV4cG9ydCB0eXBlIENTU1Jlc3VsdEFycmF5ID0gQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmUgfCBDU1NSZXN1bHRBcnJheT47XG5cbi8qKlxuICogQSBzaW5nbGUgQ1NTUmVzdWx0LCBDU1NTdHlsZVNoZWV0LCBvciBhbiBhcnJheSBvciBuZXN0ZWQgYXJyYXlzIG9mIHRob3NlLlxuICovXG5leHBvcnQgdHlwZSBDU1NSZXN1bHRHcm91cCA9IENTU1Jlc3VsdE9yTmF0aXZlIHwgQ1NTUmVzdWx0QXJyYXk7XG5cbmNvbnN0IGNvbnN0cnVjdGlvblRva2VuID0gU3ltYm9sKCk7XG5cbmNvbnN0IGNzc1RhZ0NhY2hlID0gbmV3IFdlYWtNYXA8VGVtcGxhdGVTdHJpbmdzQXJyYXksIENTU1N0eWxlU2hlZXQ+KCk7XG5cbi8qKlxuICogQSBjb250YWluZXIgZm9yIGEgc3RyaW5nIG9mIENTUyB0ZXh0LCB0aGF0IG1heSBiZSB1c2VkIHRvIGNyZWF0ZSBhIENTU1N0eWxlU2hlZXQuXG4gKlxuICogQ1NTUmVzdWx0IGlzIHRoZSByZXR1cm4gdmFsdWUgb2YgYGNzc2AtdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzIGFuZFxuICogYHVuc2FmZUNTUygpYC4gSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgQ1NTUmVzdWx0cyBhcmUgb25seSBjcmVhdGVkIHZpYSB0aGVcbiAqIGBjc3NgIHRhZyBhbmQgYHVuc2FmZUNTUygpYCwgQ1NTUmVzdWx0IGNhbm5vdCBiZSBjb25zdHJ1Y3RlZCBkaXJlY3RseS5cbiAqL1xuZXhwb3J0IGNsYXNzIENTU1Jlc3VsdCB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIFsnXyRjc3NSZXN1bHQkJ10gPSB0cnVlO1xuICByZWFkb25seSBjc3NUZXh0OiBzdHJpbmc7XG4gIHByaXZhdGUgX3N0eWxlU2hlZXQ/OiBDU1NTdHlsZVNoZWV0O1xuICBwcml2YXRlIF9zdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKFxuICAgIGNzc1RleHQ6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZCxcbiAgICBzYWZlVG9rZW46IHN5bWJvbFxuICApIHtcbiAgICBpZiAoc2FmZVRva2VuICE9PSBjb25zdHJ1Y3Rpb25Ub2tlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ1NTUmVzdWx0IGlzIG5vdCBjb25zdHJ1Y3RhYmxlLiBVc2UgYHVuc2FmZUNTU2Agb3IgYGNzc2AgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNzc1RleHQgPSBjc3NUZXh0O1xuICAgIHRoaXMuX3N0cmluZ3MgPSBzdHJpbmdzO1xuICB9XG5cbiAgLy8gVGhpcyBpcyBhIGdldHRlciBzbyB0aGF0IGl0J3MgbGF6eS4gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgc3R5bGVzaGVldHNcbiAgLy8gYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gIGdldCBzdHlsZVNoZWV0KCk6IENTU1N0eWxlU2hlZXQgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIGBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHNgIGlzIHRydWUgdGhlbiB3ZSBhc3N1bWUgQ1NTU3R5bGVTaGVldCBpc1xuICAgIC8vIGNvbnN0cnVjdGFibGUuXG4gICAgbGV0IHN0eWxlU2hlZXQgPSB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIGNvbnN0IHN0cmluZ3MgPSB0aGlzLl9zdHJpbmdzO1xuICAgIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgJiYgc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBjYWNoZWFibGUgPSBzdHJpbmdzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5ncy5sZW5ndGggPT09IDE7XG4gICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgIHN0eWxlU2hlZXQgPSBjc3NUYWdDYWNoZS5nZXQoc3RyaW5ncyk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVTaGVldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICh0aGlzLl9zdHlsZVNoZWV0ID0gc3R5bGVTaGVldCA9IG5ldyBDU1NTdHlsZVNoZWV0KCkpLnJlcGxhY2VTeW5jKFxuICAgICAgICAgIHRoaXMuY3NzVGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAoY2FjaGVhYmxlKSB7XG4gICAgICAgICAgY3NzVGFnQ2FjaGUuc2V0KHN0cmluZ3MsIHN0eWxlU2hlZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG5cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jc3NUZXh0O1xuICB9XG59XG5cbnR5cGUgQ29uc3RydWN0YWJsZUNTU1Jlc3VsdCA9IENTU1Jlc3VsdCAmIHtcbiAgbmV3IChcbiAgICBjc3NUZXh0OiBzdHJpbmcsXG4gICAgc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCB1bmRlZmluZWQsXG4gICAgc2FmZVRva2VuOiBzeW1ib2xcbiAgKTogQ1NTUmVzdWx0O1xufTtcblxuY29uc3QgdGV4dEZyb21DU1NSZXN1bHQgPSAodmFsdWU6IENTU1Jlc3VsdEdyb3VwIHwgbnVtYmVyKSA9PiB7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIGlmICgodmFsdWUgYXMgQ1NTUmVzdWx0KVsnXyRjc3NSZXN1bHQkJ10gPT09IHRydWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGFzIENTU1Jlc3VsdCkuY3NzVGV4dDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogYCArXG4gICAgICAgIGAke3ZhbHVlfS4gVXNlICd1bnNhZmVDU1MnIHRvIHBhc3Mgbm9uLWxpdGVyYWwgdmFsdWVzLCBidXQgdGFrZSBjYXJlIGAgK1xuICAgICAgICBgdG8gZW5zdXJlIHBhZ2Ugc2VjdXJpdHkuYFxuICAgICk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JhcCBhIHZhbHVlIGZvciBpbnRlcnBvbGF0aW9uIGluIGEge0BsaW5rY29kZSBjc3N9IHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsLlxuICpcbiAqIFRoaXMgaXMgdW5zYWZlIGJlY2F1c2UgdW50cnVzdGVkIENTUyB0ZXh0IGNhbiBiZSB1c2VkIHRvIHBob25lIGhvbWVcbiAqIG9yIGV4ZmlsdHJhdGUgZGF0YSB0byBhbiBhdHRhY2tlciBjb250cm9sbGVkIHNpdGUuIFRha2UgY2FyZSB0byBvbmx5IHVzZVxuICogdGhpcyB3aXRoIHRydXN0ZWQgaW5wdXQuXG4gKi9cbmV4cG9ydCBjb25zdCB1bnNhZmVDU1MgPSAodmFsdWU6IHVua25vd24pID0+XG4gIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSksXG4gICAgdW5kZWZpbmVkLFxuICAgIGNvbnN0cnVjdGlvblRva2VuXG4gICk7XG5cbi8qKlxuICogQSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyB3aGljaCBjYW4gYmUgdXNlZCB3aXRoIExpdEVsZW1lbnQnc1xuICoge0BsaW5rY29kZSBMaXRFbGVtZW50LnN0eWxlc30gcHJvcGVydHkgdG8gc2V0IGVsZW1lbnQgc3R5bGVzLlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBvbmx5IGxpdGVyYWwgc3RyaW5nIHZhbHVlcyBhbmQgbnVtYmVyIG1heSBiZSB1c2VkIGluXG4gKiBlbWJlZGRlZCBleHByZXNzaW9ucy4gVG8gaW5jb3Jwb3JhdGUgbm9uLWxpdGVyYWwgdmFsdWVzIHtAbGlua2NvZGUgdW5zYWZlQ1NTfVxuICogbWF5IGJlIHVzZWQgaW5zaWRlIGFuIGV4cHJlc3Npb24uXG4gKi9cbmV4cG9ydCBjb25zdCBjc3MgPSAoXG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5LFxuICAuLi52YWx1ZXM6IChDU1NSZXN1bHRHcm91cCB8IG51bWJlcilbXVxuKTogQ1NTUmVzdWx0ID0+IHtcbiAgY29uc3QgY3NzVGV4dCA9XG4gICAgc3RyaW5ncy5sZW5ndGggPT09IDFcbiAgICAgID8gc3RyaW5nc1swXVxuICAgICAgOiB2YWx1ZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIHYsIGlkeCkgPT4gYWNjICsgdGV4dEZyb21DU1NSZXN1bHQodikgKyBzdHJpbmdzW2lkeCArIDFdLFxuICAgICAgICAgIHN0cmluZ3NbMF1cbiAgICAgICAgKTtcbiAgcmV0dXJuIG5ldyAoQ1NTUmVzdWx0IGFzIENvbnN0cnVjdGFibGVDU1NSZXN1bHQpKFxuICAgIGNzc1RleHQsXG4gICAgc3RyaW5ncyxcbiAgICBjb25zdHJ1Y3Rpb25Ub2tlblxuICApO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBnaXZlbiBzdHlsZXMgdG8gYSBgc2hhZG93Um9vdGAuIFdoZW4gU2hhZG93IERPTSBpc1xuICogYXZhaWxhYmxlIGJ1dCBgYWRvcHRlZFN0eWxlU2hlZXRzYCBpcyBub3QsIHN0eWxlcyBhcmUgYXBwZW5kZWQgdG8gdGhlXG4gKiBgc2hhZG93Um9vdGAgdG8gW21pbWljIHNwZWMgYmVoYXZpb3JdKGh0dHBzOi8vd2ljZy5naXRodWIuaW8vY29uc3RydWN0LXN0eWxlc2hlZXRzLyN1c2luZy1jb25zdHJ1Y3RlZC1zdHlsZXNoZWV0cykuXG4gKiBOb3RlLCB3aGVuIHNoaW1taW5nIGlzIHVzZWQsIGFueSBzdHlsZXMgdGhhdCBhcmUgc3Vic2VxdWVudGx5IHBsYWNlZCBpbnRvXG4gKiB0aGUgc2hhZG93Um9vdCBzaG91bGQgYmUgcGxhY2VkICpiZWZvcmUqIGFueSBzaGltbWVkIGFkb3B0ZWQgc3R5bGVzLiBUaGlzXG4gKiB3aWxsIG1hdGNoIHNwZWMgYmVoYXZpb3IgdGhhdCBnaXZlcyBhZG9wdGVkIHNoZWV0cyBwcmVjZWRlbmNlIG92ZXIgc3R5bGVzIGluXG4gKiBzaGFkb3dSb290LlxuICovXG5leHBvcnQgY29uc3QgYWRvcHRTdHlsZXMgPSAoXG4gIHJlbmRlclJvb3Q6IFNoYWRvd1Jvb3QsXG4gIHN0eWxlczogQXJyYXk8Q1NTUmVzdWx0T3JOYXRpdmU+XG4pID0+IHtcbiAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgIChyZW5kZXJSb290IGFzIFNoYWRvd1Jvb3QpLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IHN0eWxlcy5tYXAoKHMpID0+XG4gICAgICBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IHMgOiBzLnN0eWxlU2hlZXQhXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBmb3IgKGNvbnN0IHMgb2Ygc3R5bGVzKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgY29uc3Qgbm9uY2UgPSAoZ2xvYmFsIGFzIGFueSlbJ2xpdE5vbmNlJ107XG4gICAgICBpZiAobm9uY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ25vbmNlJywgbm9uY2UpO1xuICAgICAgfVxuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSAocyBhcyBDU1NSZXN1bHQpLmNzc1RleHQ7XG4gICAgICByZW5kZXJSb290LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0ID0gKHNoZWV0OiBDU1NTdHlsZVNoZWV0KSA9PiB7XG4gIGxldCBjc3NUZXh0ID0gJyc7XG4gIGZvciAoY29uc3QgcnVsZSBvZiBzaGVldC5jc3NSdWxlcykge1xuICAgIGNzc1RleHQgKz0gcnVsZS5jc3NUZXh0O1xuICB9XG4gIHJldHVybiB1bnNhZmVDU1MoY3NzVGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29tcGF0aWJsZVN0eWxlID1cbiAgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIHx8XG4gIChOT0RFX01PREUgJiYgZ2xvYmFsLkNTU1N0eWxlU2hlZXQgPT09IHVuZGVmaW5lZClcbiAgICA/IChzOiBDU1NSZXN1bHRPck5hdGl2ZSkgPT4gc1xuICAgIDogKHM6IENTU1Jlc3VsdE9yTmF0aXZlKSA9PlxuICAgICAgICBzIGluc3RhbmNlb2YgQ1NTU3R5bGVTaGVldCA/IGNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0KHMpIDogcztcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuY29uc3QgdD1nbG9iYWxUaGlzLGk9dC50cnVzdGVkVHlwZXMscz1pP2kuY3JlYXRlUG9saWN5KFwibGl0LWh0bWxcIix7Y3JlYXRlSFRNTDp0PT50fSk6dm9pZCAwLGU9XCIkbGl0JFwiLGg9YGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYCxvPVwiP1wiK2gsbj1gPCR7b30+YCxyPWRvY3VtZW50LGw9KCk9PnIuY3JlYXRlQ29tbWVudChcIlwiKSxjPXQ9Pm51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdCYmXCJmdW5jdGlvblwiIT10eXBlb2YgdCxhPUFycmF5LmlzQXJyYXksdT10PT5hKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Py5bU3ltYm9sLml0ZXJhdG9yXSxkPVwiWyBcXHRcXG5cXGZcXHJdXCIsZj0vPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2csdj0vLS0+L2csXz0vPi9nLG09UmVnRXhwKGA+fCR7ZH0oPzooW15cXFxcc1wiJz49L10rKSgke2R9Kj0ke2R9Kig/OlteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV18KFwifCcpfCkpfCQpYCxcImdcIikscD0vJy9nLGc9L1wiL2csJD0vXig/OnNjcmlwdHxzdHlsZXx0ZXh0YXJlYXx0aXRsZSkkL2kseT10PT4oaSwuLi5zKT0+KHtfJGxpdFR5cGUkOnQsc3RyaW5nczppLHZhbHVlczpzfSkseD15KDEpLGI9eSgyKSx3PXkoMyksVD1TeW1ib2wuZm9yKFwibGl0LW5vQ2hhbmdlXCIpLEU9U3ltYm9sLmZvcihcImxpdC1ub3RoaW5nXCIpLEE9bmV3IFdlYWtNYXAsQz1yLmNyZWF0ZVRyZWVXYWxrZXIociwxMjkpO2Z1bmN0aW9uIFAodCxpKXtpZighYSh0KXx8IXQuaGFzT3duUHJvcGVydHkoXCJyYXdcIikpdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXlcIik7cmV0dXJuIHZvaWQgMCE9PXM/cy5jcmVhdGVIVE1MKGkpOml9Y29uc3QgVj0odCxpKT0+e2NvbnN0IHM9dC5sZW5ndGgtMSxvPVtdO2xldCByLGw9Mj09PWk/XCI8c3ZnPlwiOjM9PT1pP1wiPG1hdGg+XCI6XCJcIixjPWY7Zm9yKGxldCBpPTA7aTxzO2krKyl7Y29uc3Qgcz10W2ldO2xldCBhLHUsZD0tMSx5PTA7Zm9yKDt5PHMubGVuZ3RoJiYoYy5sYXN0SW5kZXg9eSx1PWMuZXhlYyhzKSxudWxsIT09dSk7KXk9Yy5sYXN0SW5kZXgsYz09PWY/XCIhLS1cIj09PXVbMV0/Yz12OnZvaWQgMCE9PXVbMV0/Yz1fOnZvaWQgMCE9PXVbMl0/KCQudGVzdCh1WzJdKSYmKHI9UmVnRXhwKFwiPC9cIit1WzJdLFwiZ1wiKSksYz1tKTp2b2lkIDAhPT11WzNdJiYoYz1tKTpjPT09bT9cIj5cIj09PXVbMF0/KGM9cj8/ZixkPS0xKTp2b2lkIDA9PT11WzFdP2Q9LTI6KGQ9Yy5sYXN0SW5kZXgtdVsyXS5sZW5ndGgsYT11WzFdLGM9dm9pZCAwPT09dVszXT9tOidcIic9PT11WzNdP2c6cCk6Yz09PWd8fGM9PT1wP2M9bTpjPT09dnx8Yz09PV8/Yz1mOihjPW0scj12b2lkIDApO2NvbnN0IHg9Yz09PW0mJnRbaSsxXS5zdGFydHNXaXRoKFwiLz5cIik/XCIgXCI6XCJcIjtsKz1jPT09Zj9zK246ZD49MD8oby5wdXNoKGEpLHMuc2xpY2UoMCxkKStlK3Muc2xpY2UoZCkraCt4KTpzK2grKC0yPT09ZD9pOngpfXJldHVybltQKHQsbCsodFtzXXx8XCI8Pz5cIikrKDI9PT1pP1wiPC9zdmc+XCI6Mz09PWk/XCI8L21hdGg+XCI6XCJcIikpLG9dfTtjbGFzcyBOe2NvbnN0cnVjdG9yKHtzdHJpbmdzOnQsXyRsaXRUeXBlJDpzfSxuKXtsZXQgcjt0aGlzLnBhcnRzPVtdO2xldCBjPTAsYT0wO2NvbnN0IHU9dC5sZW5ndGgtMSxkPXRoaXMucGFydHMsW2Ysdl09Vih0LHMpO2lmKHRoaXMuZWw9Ti5jcmVhdGVFbGVtZW50KGYsbiksQy5jdXJyZW50Tm9kZT10aGlzLmVsLmNvbnRlbnQsMj09PXN8fDM9PT1zKXtjb25zdCB0PXRoaXMuZWwuY29udGVudC5maXJzdENoaWxkO3QucmVwbGFjZVdpdGgoLi4udC5jaGlsZE5vZGVzKX1mb3IoO251bGwhPT0ocj1DLm5leHROb2RlKCkpJiZkLmxlbmd0aDx1Oyl7aWYoMT09PXIubm9kZVR5cGUpe2lmKHIuaGFzQXR0cmlidXRlcygpKWZvcihjb25zdCB0IG9mIHIuZ2V0QXR0cmlidXRlTmFtZXMoKSlpZih0LmVuZHNXaXRoKGUpKXtjb25zdCBpPXZbYSsrXSxzPXIuZ2V0QXR0cmlidXRlKHQpLnNwbGl0KGgpLGU9LyhbLj9AXSk/KC4qKS8uZXhlYyhpKTtkLnB1c2goe3R5cGU6MSxpbmRleDpjLG5hbWU6ZVsyXSxzdHJpbmdzOnMsY3RvcjpcIi5cIj09PWVbMV0/SDpcIj9cIj09PWVbMV0/STpcIkBcIj09PWVbMV0/TDprfSksci5yZW1vdmVBdHRyaWJ1dGUodCl9ZWxzZSB0LnN0YXJ0c1dpdGgoaCkmJihkLnB1c2goe3R5cGU6NixpbmRleDpjfSksci5yZW1vdmVBdHRyaWJ1dGUodCkpO2lmKCQudGVzdChyLnRhZ05hbWUpKXtjb25zdCB0PXIudGV4dENvbnRlbnQuc3BsaXQoaCkscz10Lmxlbmd0aC0xO2lmKHM+MCl7ci50ZXh0Q29udGVudD1pP2kuZW1wdHlTY3JpcHQ6XCJcIjtmb3IobGV0IGk9MDtpPHM7aSsrKXIuYXBwZW5kKHRbaV0sbCgpKSxDLm5leHROb2RlKCksZC5wdXNoKHt0eXBlOjIsaW5kZXg6KytjfSk7ci5hcHBlbmQodFtzXSxsKCkpfX19ZWxzZSBpZig4PT09ci5ub2RlVHlwZSlpZihyLmRhdGE9PT1vKWQucHVzaCh7dHlwZToyLGluZGV4OmN9KTtlbHNle2xldCB0PS0xO2Zvcig7LTEhPT0odD1yLmRhdGEuaW5kZXhPZihoLHQrMSkpOylkLnB1c2goe3R5cGU6NyxpbmRleDpjfSksdCs9aC5sZW5ndGgtMX1jKyt9fXN0YXRpYyBjcmVhdGVFbGVtZW50KHQsaSl7Y29uc3Qgcz1yLmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtyZXR1cm4gcy5pbm5lckhUTUw9dCxzfX1mdW5jdGlvbiBTKHQsaSxzPXQsZSl7aWYoaT09PVQpcmV0dXJuIGk7bGV0IGg9dm9pZCAwIT09ZT9zLl8kQ28/LltlXTpzLl8kQ2w7Y29uc3Qgbz1jKGkpP3ZvaWQgMDppLl8kbGl0RGlyZWN0aXZlJDtyZXR1cm4gaD8uY29uc3RydWN0b3IhPT1vJiYoaD8uXyRBTz8uKCExKSx2b2lkIDA9PT1vP2g9dm9pZCAwOihoPW5ldyBvKHQpLGguXyRBVCh0LHMsZSkpLHZvaWQgMCE9PWU/KHMuXyRDbz8/PVtdKVtlXT1oOnMuXyRDbD1oKSx2b2lkIDAhPT1oJiYoaT1TKHQsaC5fJEFTKHQsaS52YWx1ZXMpLGgsZSkpLGl9Y2xhc3MgTXtjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuXyRBVj1bXSx0aGlzLl8kQU49dm9pZCAwLHRoaXMuXyRBRD10LHRoaXMuXyRBTT1pfWdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHRoaXMuXyRBTS5wYXJlbnROb2RlfWdldCBfJEFVKCl7cmV0dXJuIHRoaXMuXyRBTS5fJEFVfXUodCl7Y29uc3R7ZWw6e2NvbnRlbnQ6aX0scGFydHM6c309dGhpcy5fJEFELGU9KHQ/LmNyZWF0aW9uU2NvcGU/P3IpLmltcG9ydE5vZGUoaSwhMCk7Qy5jdXJyZW50Tm9kZT1lO2xldCBoPUMubmV4dE5vZGUoKSxvPTAsbj0wLGw9c1swXTtmb3IoO3ZvaWQgMCE9PWw7KXtpZihvPT09bC5pbmRleCl7bGV0IGk7Mj09PWwudHlwZT9pPW5ldyBSKGgsaC5uZXh0U2libGluZyx0aGlzLHQpOjE9PT1sLnR5cGU/aT1uZXcgbC5jdG9yKGgsbC5uYW1lLGwuc3RyaW5ncyx0aGlzLHQpOjY9PT1sLnR5cGUmJihpPW5ldyB6KGgsdGhpcyx0KSksdGhpcy5fJEFWLnB1c2goaSksbD1zWysrbl19byE9PWw/LmluZGV4JiYoaD1DLm5leHROb2RlKCksbysrKX1yZXR1cm4gQy5jdXJyZW50Tm9kZT1yLGV9cCh0KXtsZXQgaT0wO2Zvcihjb25zdCBzIG9mIHRoaXMuXyRBVil2b2lkIDAhPT1zJiYodm9pZCAwIT09cy5zdHJpbmdzPyhzLl8kQUkodCxzLGkpLGkrPXMuc3RyaW5ncy5sZW5ndGgtMik6cy5fJEFJKHRbaV0pKSxpKyt9fWNsYXNzIFJ7Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNPy5fJEFVPz90aGlzLl8kQ3Z9Y29uc3RydWN0b3IodCxpLHMsZSl7dGhpcy50eXBlPTIsdGhpcy5fJEFIPUUsdGhpcy5fJEFOPXZvaWQgMCx0aGlzLl8kQUE9dCx0aGlzLl8kQUI9aSx0aGlzLl8kQU09cyx0aGlzLm9wdGlvbnM9ZSx0aGlzLl8kQ3Y9ZT8uaXNDb25uZWN0ZWQ/PyEwfWdldCBwYXJlbnROb2RlKCl7bGV0IHQ9dGhpcy5fJEFBLnBhcmVudE5vZGU7Y29uc3QgaT10aGlzLl8kQU07cmV0dXJuIHZvaWQgMCE9PWkmJjExPT09dD8ubm9kZVR5cGUmJih0PWkucGFyZW50Tm9kZSksdH1nZXQgc3RhcnROb2RlKCl7cmV0dXJuIHRoaXMuXyRBQX1nZXQgZW5kTm9kZSgpe3JldHVybiB0aGlzLl8kQUJ9XyRBSSh0LGk9dGhpcyl7dD1TKHRoaXMsdCxpKSxjKHQpP3Q9PT1FfHxudWxsPT10fHxcIlwiPT09dD8odGhpcy5fJEFIIT09RSYmdGhpcy5fJEFSKCksdGhpcy5fJEFIPUUpOnQhPT10aGlzLl8kQUgmJnQhPT1UJiZ0aGlzLl8odCk6dm9pZCAwIT09dC5fJGxpdFR5cGUkP3RoaXMuJCh0KTp2b2lkIDAhPT10Lm5vZGVUeXBlP3RoaXMuVCh0KTp1KHQpP3RoaXMuayh0KTp0aGlzLl8odCl9Tyh0KXtyZXR1cm4gdGhpcy5fJEFBLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsdGhpcy5fJEFCKX1UKHQpe3RoaXMuXyRBSCE9PXQmJih0aGlzLl8kQVIoKSx0aGlzLl8kQUg9dGhpcy5PKHQpKX1fKHQpe3RoaXMuXyRBSCE9PUUmJmModGhpcy5fJEFIKT90aGlzLl8kQUEubmV4dFNpYmxpbmcuZGF0YT10OnRoaXMuVChyLmNyZWF0ZVRleHROb2RlKHQpKSx0aGlzLl8kQUg9dH0kKHQpe2NvbnN0e3ZhbHVlczppLF8kbGl0VHlwZSQ6c309dCxlPVwibnVtYmVyXCI9PXR5cGVvZiBzP3RoaXMuXyRBQyh0KToodm9pZCAwPT09cy5lbCYmKHMuZWw9Ti5jcmVhdGVFbGVtZW50KFAocy5oLHMuaFswXSksdGhpcy5vcHRpb25zKSkscyk7aWYodGhpcy5fJEFIPy5fJEFEPT09ZSl0aGlzLl8kQUgucChpKTtlbHNle2NvbnN0IHQ9bmV3IE0oZSx0aGlzKSxzPXQudSh0aGlzLm9wdGlvbnMpO3QucChpKSx0aGlzLlQocyksdGhpcy5fJEFIPXR9fV8kQUModCl7bGV0IGk9QS5nZXQodC5zdHJpbmdzKTtyZXR1cm4gdm9pZCAwPT09aSYmQS5zZXQodC5zdHJpbmdzLGk9bmV3IE4odCkpLGl9ayh0KXthKHRoaXMuXyRBSCl8fCh0aGlzLl8kQUg9W10sdGhpcy5fJEFSKCkpO2NvbnN0IGk9dGhpcy5fJEFIO2xldCBzLGU9MDtmb3IoY29uc3QgaCBvZiB0KWU9PT1pLmxlbmd0aD9pLnB1c2gocz1uZXcgUih0aGlzLk8obCgpKSx0aGlzLk8obCgpKSx0aGlzLHRoaXMub3B0aW9ucykpOnM9aVtlXSxzLl8kQUkoaCksZSsrO2U8aS5sZW5ndGgmJih0aGlzLl8kQVIocyYmcy5fJEFCLm5leHRTaWJsaW5nLGUpLGkubGVuZ3RoPWUpfV8kQVIodD10aGlzLl8kQUEubmV4dFNpYmxpbmcsaSl7Zm9yKHRoaXMuXyRBUD8uKCExLCEwLGkpO3QmJnQhPT10aGlzLl8kQUI7KXtjb25zdCBpPXQubmV4dFNpYmxpbmc7dC5yZW1vdmUoKSx0PWl9fXNldENvbm5lY3RlZCh0KXt2b2lkIDA9PT10aGlzLl8kQU0mJih0aGlzLl8kQ3Y9dCx0aGlzLl8kQVA/Lih0KSl9fWNsYXNzIGt7Z2V0IHRhZ05hbWUoKXtyZXR1cm4gdGhpcy5lbGVtZW50LnRhZ05hbWV9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9Y29uc3RydWN0b3IodCxpLHMsZSxoKXt0aGlzLnR5cGU9MSx0aGlzLl8kQUg9RSx0aGlzLl8kQU49dm9pZCAwLHRoaXMuZWxlbWVudD10LHRoaXMubmFtZT1pLHRoaXMuXyRBTT1lLHRoaXMub3B0aW9ucz1oLHMubGVuZ3RoPjJ8fFwiXCIhPT1zWzBdfHxcIlwiIT09c1sxXT8odGhpcy5fJEFIPUFycmF5KHMubGVuZ3RoLTEpLmZpbGwobmV3IFN0cmluZyksdGhpcy5zdHJpbmdzPXMpOnRoaXMuXyRBSD1FfV8kQUkodCxpPXRoaXMscyxlKXtjb25zdCBoPXRoaXMuc3RyaW5ncztsZXQgbz0hMTtpZih2b2lkIDA9PT1oKXQ9Uyh0aGlzLHQsaSwwKSxvPSFjKHQpfHx0IT09dGhpcy5fJEFIJiZ0IT09VCxvJiYodGhpcy5fJEFIPXQpO2Vsc2V7Y29uc3QgZT10O2xldCBuLHI7Zm9yKHQ9aFswXSxuPTA7bjxoLmxlbmd0aC0xO24rKylyPVModGhpcyxlW3Mrbl0saSxuKSxyPT09VCYmKHI9dGhpcy5fJEFIW25dKSxvfHw9IWMocil8fHIhPT10aGlzLl8kQUhbbl0scj09PUU/dD1FOnQhPT1FJiYodCs9KHI/P1wiXCIpK2hbbisxXSksdGhpcy5fJEFIW25dPXJ9byYmIWUmJnRoaXMuaih0KX1qKHQpe3Q9PT1FP3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTp0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMubmFtZSx0Pz9cIlwiKX19Y2xhc3MgSCBleHRlbmRzIGt7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMudHlwZT0zfWoodCl7dGhpcy5lbGVtZW50W3RoaXMubmFtZV09dD09PUU/dm9pZCAwOnR9fWNsYXNzIEkgZXh0ZW5kcyBre2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLnR5cGU9NH1qKHQpe3RoaXMuZWxlbWVudC50b2dnbGVBdHRyaWJ1dGUodGhpcy5uYW1lLCEhdCYmdCE9PUUpfX1jbGFzcyBMIGV4dGVuZHMga3tjb25zdHJ1Y3Rvcih0LGkscyxlLGgpe3N1cGVyKHQsaSxzLGUsaCksdGhpcy50eXBlPTV9XyRBSSh0LGk9dGhpcyl7aWYoKHQ9Uyh0aGlzLHQsaSwwKT8/RSk9PT1UKXJldHVybjtjb25zdCBzPXRoaXMuXyRBSCxlPXQ9PT1FJiZzIT09RXx8dC5jYXB0dXJlIT09cy5jYXB0dXJlfHx0Lm9uY2UhPT1zLm9uY2V8fHQucGFzc2l2ZSE9PXMucGFzc2l2ZSxoPXQhPT1FJiYocz09PUV8fGUpO2UmJnRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubmFtZSx0aGlzLHMpLGgmJnRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRoaXMubmFtZSx0aGlzLHQpLHRoaXMuXyRBSD10fWhhbmRsZUV2ZW50KHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuXyRBSD90aGlzLl8kQUguY2FsbCh0aGlzLm9wdGlvbnM/Lmhvc3Q/P3RoaXMuZWxlbWVudCx0KTp0aGlzLl8kQUguaGFuZGxlRXZlbnQodCl9fWNsYXNzIHp7Y29uc3RydWN0b3IodCxpLHMpe3RoaXMuZWxlbWVudD10LHRoaXMudHlwZT02LHRoaXMuXyRBTj12b2lkIDAsdGhpcy5fJEFNPWksdGhpcy5vcHRpb25zPXN9Z2V0IF8kQVUoKXtyZXR1cm4gdGhpcy5fJEFNLl8kQVV9XyRBSSh0KXtTKHRoaXMsdCl9fWNvbnN0IFo9e006ZSxQOmgsQTpvLEM6MSxMOlYsUjpNLEQ6dSxWOlMsSTpSLEg6ayxOOkksVTpMLEI6SCxGOnp9LGo9dC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O2o/LihOLFIpLCh0LmxpdEh0bWxWZXJzaW9ucz8/PVtdKS5wdXNoKFwiMy4yLjFcIik7Y29uc3QgQj0odCxpLHMpPT57Y29uc3QgZT1zPy5yZW5kZXJCZWZvcmU/P2k7bGV0IGg9ZS5fJGxpdFBhcnQkO2lmKHZvaWQgMD09PWgpe2NvbnN0IHQ9cz8ucmVuZGVyQmVmb3JlPz9udWxsO2UuXyRsaXRQYXJ0JD1oPW5ldyBSKGkuaW5zZXJ0QmVmb3JlKGwoKSx0KSx0LHZvaWQgMCxzPz97fSl9cmV0dXJuIGguXyRBSSh0KSxofTtleHBvcnR7WiBhcyBfJExILHggYXMgaHRtbCx3IGFzIG1hdGhtbCxUIGFzIG5vQ2hhbmdlLEUgYXMgbm90aGluZyxCIGFzIHJlbmRlcixiIGFzIHN2Z307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vLyBJTVBPUlRBTlQ6IHRoZXNlIGltcG9ydHMgbXVzdCBiZSB0eXBlLW9ubHlcbmltcG9ydCB0eXBlIHtEaXJlY3RpdmUsIERpcmVjdGl2ZVJlc3VsdCwgUGFydEluZm99IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB0eXBlIHtUcnVzdGVkSFRNTCwgVHJ1c3RlZFR5cGVzV2luZG93fSBmcm9tICd0cnVzdGVkLXR5cGVzL2xpYic7XG5cbmNvbnN0IERFVl9NT0RFID0gdHJ1ZTtcbmNvbnN0IEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUyA9IHRydWU7XG5jb25zdCBFTkFCTEVfU0hBRFlET01fTk9QQVRDSCA9IHRydWU7XG5jb25zdCBOT0RFX01PREUgPSBmYWxzZTtcblxuLy8gQWxsb3dzIG1pbmlmaWVycyB0byByZW5hbWUgcmVmZXJlbmNlcyB0byBnbG9iYWxUaGlzXG5jb25zdCBnbG9iYWwgPSBnbG9iYWxUaGlzO1xuXG4vKipcbiAqIENvbnRhaW5zIHR5cGVzIHRoYXQgYXJlIHBhcnQgb2YgdGhlIHVuc3RhYmxlIGRlYnVnIEFQSS5cbiAqXG4gKiBFdmVyeXRoaW5nIGluIHRoaXMgQVBJIGlzIG5vdCBzdGFibGUgYW5kIG1heSBjaGFuZ2Ugb3IgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLFxuICogZXZlbiBvbiBwYXRjaCByZWxlYXNlcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCBuYW1lc3BhY2UgTGl0VW5zdGFibGUge1xuICAvKipcbiAgICogV2hlbiBMaXQgaXMgcnVubmluZyBpbiBkZXYgbW9kZSBhbmQgYHdpbmRvdy5lbWl0TGl0RGVidWdMb2dFdmVudHNgIGlzIHRydWUsXG4gICAqIHdlIHdpbGwgZW1pdCAnbGl0LWRlYnVnJyBldmVudHMgdG8gd2luZG93LCB3aXRoIGxpdmUgZGV0YWlscyBhYm91dCB0aGUgdXBkYXRlIGFuZCByZW5kZXJcbiAgICogbGlmZWN5Y2xlLiBUaGVzZSBjYW4gYmUgdXNlZnVsIGZvciB3cml0aW5nIGRlYnVnIHRvb2xpbmcgYW5kIHZpc3VhbGl6YXRpb25zLlxuICAgKlxuICAgKiBQbGVhc2UgYmUgYXdhcmUgdGhhdCBydW5uaW5nIHdpdGggd2luZG93LmVtaXRMaXREZWJ1Z0xvZ0V2ZW50cyBoYXMgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQsXG4gICAqIG1ha2luZyBjZXJ0YWluIG9wZXJhdGlvbnMgdGhhdCBhcmUgbm9ybWFsbHkgdmVyeSBjaGVhcCAobGlrZSBhIG5vLW9wIHJlbmRlcikgbXVjaCBzbG93ZXIsXG4gICAqIGJlY2F1c2Ugd2UgbXVzdCBjb3B5IGRhdGEgYW5kIGRpc3BhdGNoIGV2ZW50cy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4gIGV4cG9ydCBuYW1lc3BhY2UgRGVidWdMb2cge1xuICAgIGV4cG9ydCB0eXBlIEVudHJ5ID1cbiAgICAgIHwgVGVtcGxhdGVQcmVwXG4gICAgICB8IFRlbXBsYXRlSW5zdGFudGlhdGVkXG4gICAgICB8IFRlbXBsYXRlSW5zdGFudGlhdGVkQW5kVXBkYXRlZFxuICAgICAgfCBUZW1wbGF0ZVVwZGF0aW5nXG4gICAgICB8IEJlZ2luUmVuZGVyXG4gICAgICB8IEVuZFJlbmRlclxuICAgICAgfCBDb21taXRQYXJ0RW50cnlcbiAgICAgIHwgU2V0UGFydFZhbHVlO1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVQcmVwIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBwcmVwJztcbiAgICAgIHRlbXBsYXRlOiBUZW1wbGF0ZTtcbiAgICAgIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICAgICAgY2xvbmFibGVUZW1wbGF0ZTogSFRNTFRlbXBsYXRlRWxlbWVudDtcbiAgICAgIHBhcnRzOiBUZW1wbGF0ZVBhcnRbXTtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBCZWdpblJlbmRlciB7XG4gICAgICBraW5kOiAnYmVnaW4gcmVuZGVyJztcbiAgICAgIGlkOiBudW1iZXI7XG4gICAgICB2YWx1ZTogdW5rbm93bjtcbiAgICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50O1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIHBhcnQ6IENoaWxkUGFydCB8IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZXhwb3J0IGludGVyZmFjZSBFbmRSZW5kZXIge1xuICAgICAga2luZDogJ2VuZCByZW5kZXInO1xuICAgICAgaWQ6IG51bWJlcjtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IERvY3VtZW50RnJhZ21lbnQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgcGFydDogQ2hpbGRQYXJ0O1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIFRlbXBsYXRlSW5zdGFudGlhdGVkIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGZyYWdtZW50OiBOb2RlO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVJbnN0YW50aWF0ZWRBbmRVcGRhdGVkIHtcbiAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQgYW5kIHVwZGF0ZWQnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIGZyYWdtZW50OiBOb2RlO1xuICAgICAgcGFydHM6IEFycmF5PFBhcnQgfCB1bmRlZmluZWQ+O1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgfVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgVGVtcGxhdGVVcGRhdGluZyB7XG4gICAgICBraW5kOiAndGVtcGxhdGUgdXBkYXRpbmcnO1xuICAgICAgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZTtcbiAgICAgIGluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICAgIHBhcnRzOiBBcnJheTxQYXJ0IHwgdW5kZWZpbmVkPjtcbiAgICAgIHZhbHVlczogdW5rbm93bltdO1xuICAgIH1cbiAgICBleHBvcnQgaW50ZXJmYWNlIFNldFBhcnRWYWx1ZSB7XG4gICAgICBraW5kOiAnc2V0IHBhcnQnO1xuICAgICAgcGFydDogUGFydDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgdmFsdWVJbmRleDogbnVtYmVyO1xuICAgICAgdmFsdWVzOiB1bmtub3duW107XG4gICAgICB0ZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlO1xuICAgIH1cblxuICAgIGV4cG9ydCB0eXBlIENvbW1pdFBhcnRFbnRyeSA9XG4gICAgICB8IENvbW1pdE5vdGhpbmdUb0NoaWxkRW50cnlcbiAgICAgIHwgQ29tbWl0VGV4dFxuICAgICAgfCBDb21taXROb2RlXG4gICAgICB8IENvbW1pdEF0dHJpYnV0ZVxuICAgICAgfCBDb21taXRQcm9wZXJ0eVxuICAgICAgfCBDb21taXRCb29sZWFuQXR0cmlidXRlXG4gICAgICB8IENvbW1pdEV2ZW50TGlzdGVuZXJcbiAgICAgIHwgQ29tbWl0VG9FbGVtZW50QmluZGluZztcblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Tm90aGluZ1RvQ2hpbGRFbnRyeSB7XG4gICAgICBraW5kOiAnY29tbWl0IG5vdGhpbmcgdG8gY2hpbGQnO1xuICAgICAgc3RhcnQ6IENoaWxkTm9kZTtcbiAgICAgIGVuZDogQ2hpbGROb2RlIHwgbnVsbDtcbiAgICAgIHBhcmVudDogRGlzY29ubmVjdGFibGUgfCB1bmRlZmluZWQ7XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0VGV4dCB7XG4gICAgICBraW5kOiAnY29tbWl0IHRleHQnO1xuICAgICAgbm9kZTogVGV4dDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdE5vZGUge1xuICAgICAga2luZDogJ2NvbW1pdCBub2RlJztcbiAgICAgIHN0YXJ0OiBOb2RlO1xuICAgICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgICAgIHZhbHVlOiBOb2RlO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdEF0dHJpYnV0ZSB7XG4gICAgICBraW5kOiAnY29tbWl0IGF0dHJpYnV0ZSc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0UHJvcGVydHkge1xuICAgICAga2luZDogJ2NvbW1pdCBwcm9wZXJ0eSc7XG4gICAgICBlbGVtZW50OiBFbGVtZW50O1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgdmFsdWU6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWl0Qm9vbGVhbkF0dHJpYnV0ZSB7XG4gICAgICBraW5kOiAnY29tbWl0IGJvb2xlYW4gYXR0cmlidXRlJztcbiAgICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICB2YWx1ZTogYm9vbGVhbjtcbiAgICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZXhwb3J0IGludGVyZmFjZSBDb21taXRFdmVudExpc3RlbmVyIHtcbiAgICAgIGtpbmQ6ICdjb21taXQgZXZlbnQgbGlzdGVuZXInO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb2xkTGlzdGVuZXI6IHVua25vd247XG4gICAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAgICAgLy8gVHJ1ZSBpZiB3ZSdyZSByZW1vdmluZyB0aGUgb2xkIGV2ZW50IGxpc3RlbmVyIChlLmcuIGJlY2F1c2Ugc2V0dGluZ3MgY2hhbmdlZCwgb3IgdmFsdWUgaXMgbm90aGluZylcbiAgICAgIHJlbW92ZUxpc3RlbmVyOiBib29sZWFuO1xuICAgICAgLy8gVHJ1ZSBpZiB3ZSdyZSBhZGRpbmcgYSBuZXcgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYmVjYXVzZSBmaXJzdCByZW5kZXIsIG9yIHNldHRpbmdzIGNoYW5nZWQpXG4gICAgICBhZGRMaXN0ZW5lcjogYm9vbGVhbjtcbiAgICB9XG5cbiAgICBleHBvcnQgaW50ZXJmYWNlIENvbW1pdFRvRWxlbWVudEJpbmRpbmcge1xuICAgICAga2luZDogJ2NvbW1pdCB0byBlbGVtZW50IGJpbmRpbmcnO1xuICAgICAgZWxlbWVudDogRWxlbWVudDtcbiAgICAgIHZhbHVlOiB1bmtub3duO1xuICAgICAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuaW50ZXJmYWNlIERlYnVnTG9nZ2luZ1dpbmRvdyB7XG4gIC8vIEV2ZW4gaW4gZGV2IG1vZGUsIHdlIGdlbmVyYWxseSBkb24ndCB3YW50IHRvIGVtaXQgdGhlc2UgZXZlbnRzLCBhcyB0aGF0J3NcbiAgLy8gYW5vdGhlciBsZXZlbCBvZiBjb3N0LCBzbyBvbmx5IGVtaXQgdGhlbSB3aGVuIERFVl9NT0RFIGlzIHRydWUgX2FuZF8gd2hlblxuICAvLyB3aW5kb3cuZW1pdExpdERlYnVnRXZlbnRzIGlzIHRydWUuXG4gIGVtaXRMaXREZWJ1Z0xvZ0V2ZW50cz86IGJvb2xlYW47XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciB2aXN1YWxpemluZyBhbmQgbG9nZ2luZyBpbnNpZ2h0cyBpbnRvIHdoYXQgdGhlIExpdCB0ZW1wbGF0ZSBzeXN0ZW0gaXMgZG9pbmcuXG4gKlxuICogQ29tcGlsZWQgb3V0IG9mIHByb2QgbW9kZSBidWlsZHMuXG4gKi9cbmNvbnN0IGRlYnVnTG9nRXZlbnQgPSBERVZfTU9ERVxuICA/IChldmVudDogTGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnkpID0+IHtcbiAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgRGVidWdMb2dnaW5nV2luZG93KVxuICAgICAgICAuZW1pdExpdERlYnVnTG9nRXZlbnRzO1xuICAgICAgaWYgKCFzaG91bGRFbWl0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdsb2JhbC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBuZXcgQ3VzdG9tRXZlbnQ8TGl0VW5zdGFibGUuRGVidWdMb2cuRW50cnk+KCdsaXQtZGVidWcnLCB7XG4gICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICA6IHVuZGVmaW5lZDtcbi8vIFVzZWQgZm9yIGNvbm5lY3RpbmcgYmVnaW5SZW5kZXIgYW5kIGVuZFJlbmRlciBldmVudHMgd2hlbiB0aGVyZSBhcmUgbmVzdGVkXG4vLyByZW5kZXJzIHdoZW4gZXJyb3JzIGFyZSB0aHJvd24gcHJldmVudGluZyBhbiBlbmRSZW5kZXIgZXZlbnQgZnJvbSBiZWluZ1xuLy8gY2FsbGVkLlxubGV0IGRlYnVnTG9nUmVuZGVySWQgPSAwO1xuXG5sZXQgaXNzdWVXYXJuaW5nOiAoY29kZTogc3RyaW5nLCB3YXJuaW5nOiBzdHJpbmcpID0+IHZvaWQ7XG5cbmlmIChERVZfTU9ERSkge1xuICBnbG9iYWwubGl0SXNzdWVkV2FybmluZ3MgPz89IG5ldyBTZXQoKTtcblxuICAvLyBJc3N1ZSBhIHdhcm5pbmcsIGlmIHdlIGhhdmVuJ3QgYWxyZWFkeS5cbiAgaXNzdWVXYXJuaW5nID0gKGNvZGU6IHN0cmluZywgd2FybmluZzogc3RyaW5nKSA9PiB7XG4gICAgd2FybmluZyArPSBjb2RlXG4gICAgICA/IGAgU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvJHtjb2RlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICAgICA6ICcnO1xuICAgIGlmICghZ2xvYmFsLmxpdElzc3VlZFdhcm5pbmdzIS5oYXMod2FybmluZykpIHtcbiAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbiAgICAgIGdsb2JhbC5saXRJc3N1ZWRXYXJuaW5ncyEuYWRkKHdhcm5pbmcpO1xuICAgIH1cbiAgfTtcblxuICBpc3N1ZVdhcm5pbmcoXG4gICAgJ2Rldi1tb2RlJyxcbiAgICBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYFxuICApO1xufVxuXG5jb25zdCB3cmFwID1cbiAgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggJiZcbiAgZ2xvYmFsLlNoYWR5RE9NPy5pblVzZSAmJlxuICBnbG9iYWwuU2hhZHlET00/Lm5vUGF0Y2ggPT09IHRydWVcbiAgICA/IChnbG9iYWwuU2hhZHlET00hLndyYXAgYXMgPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBUKVxuICAgIDogPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKSA9PiBub2RlO1xuXG5jb25zdCB0cnVzdGVkVHlwZXMgPSAoZ2xvYmFsIGFzIHVua25vd24gYXMgVHJ1c3RlZFR5cGVzV2luZG93KS50cnVzdGVkVHlwZXM7XG5cbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgPyB0cnVzdGVkVHlwZXMuY3JlYXRlUG9saWN5KCdsaXQtaHRtbCcsIHtcbiAgICAgIGNyZWF0ZUhUTUw6IChzKSA9PiBzLFxuICAgIH0pXG4gIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFVzZWQgdG8gc2FuaXRpemUgYW55IHZhbHVlIGJlZm9yZSBpdCBpcyB3cml0dGVuIGludG8gdGhlIERPTS4gVGhpcyBjYW4gYmVcbiAqIHVzZWQgdG8gaW1wbGVtZW50IGEgc2VjdXJpdHkgcG9saWN5IG9mIGFsbG93ZWQgYW5kIGRpc2FsbG93ZWQgdmFsdWVzIGluXG4gKiBvcmRlciB0byBwcmV2ZW50IFhTUyBhdHRhY2tzLlxuICpcbiAqIE9uZSB3YXkgb2YgdXNpbmcgdGhpcyBjYWxsYmFjayB3b3VsZCBiZSB0byBjaGVjayBhdHRyaWJ1dGVzIGFuZCBwcm9wZXJ0aWVzXG4gKiBhZ2FpbnN0IGEgbGlzdCBvZiBoaWdoIHJpc2sgZmllbGRzLCBhbmQgcmVxdWlyZSB0aGF0IHZhbHVlcyB3cml0dGVuIHRvIHN1Y2hcbiAqIGZpZWxkcyBiZSBpbnN0YW5jZXMgb2YgYSBjbGFzcyB3aGljaCBpcyBzYWZlIGJ5IGNvbnN0cnVjdGlvbi4gQ2xvc3VyZSdzIFNhZmVcbiAqIEhUTUwgVHlwZXMgaXMgb25lIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgdGVjaG5pcXVlIChcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvc2FmZS1odG1sLXR5cGVzL2Jsb2IvbWFzdGVyL2RvYy9zYWZlaHRtbC10eXBlcy5tZCkuXG4gKiBUaGUgVHJ1c3RlZFR5cGVzIHBvbHlmaWxsIGluIEFQSS1vbmx5IG1vZGUgY291bGQgYWxzbyBiZSB1c2VkIGFzIGEgYmFzaXNcbiAqIGZvciB0aGlzIHRlY2huaXF1ZSAoaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvdHJ1c3RlZC10eXBlcykuXG4gKlxuICogQHBhcmFtIG5vZGUgVGhlIEhUTUwgbm9kZSAodXN1YWxseSBlaXRoZXIgYSAjdGV4dCBub2RlIG9yIGFuIEVsZW1lbnQpIHRoYXRcbiAqICAgICBpcyBiZWluZyB3cml0dGVuIHRvLiBOb3RlIHRoYXQgdGhpcyBpcyBqdXN0IGFuIGV4ZW1wbGFyIG5vZGUsIHRoZSB3cml0ZVxuICogICAgIG1heSB0YWtlIHBsYWNlIGFnYWluc3QgYW5vdGhlciBpbnN0YW5jZSBvZiB0aGUgc2FtZSBjbGFzcyBvZiBub2RlLlxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgYW4gYXR0cmlidXRlIG9yIHByb3BlcnR5IChmb3IgZXhhbXBsZSwgJ2hyZWYnKS5cbiAqIEBwYXJhbSB0eXBlIEluZGljYXRlcyB3aGV0aGVyIHRoZSB3cml0ZSB0aGF0J3MgYWJvdXQgdG8gYmUgcGVyZm9ybWVkIHdpbGxcbiAqICAgICBiZSB0byBhIHByb3BlcnR5IG9yIGEgbm9kZS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHdpbGwgc2FuaXRpemUgdGhpcyBjbGFzcyBvZiB3cml0ZXMuXG4gKi9cbmV4cG9ydCB0eXBlIFNhbml0aXplckZhY3RvcnkgPSAoXG4gIG5vZGU6IE5vZGUsXG4gIG5hbWU6IHN0cmluZyxcbiAgdHlwZTogJ3Byb3BlcnR5JyB8ICdhdHRyaWJ1dGUnXG4pID0+IFZhbHVlU2FuaXRpemVyO1xuXG4vKipcbiAqIEEgZnVuY3Rpb24gd2hpY2ggY2FuIHNhbml0aXplIHZhbHVlcyB0aGF0IHdpbGwgYmUgd3JpdHRlbiB0byBhIHNwZWNpZmljIGtpbmRcbiAqIG9mIERPTSBzaW5rLlxuICpcbiAqIFNlZSBTYW5pdGl6ZXJGYWN0b3J5LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2FuaXRpemUuIFdpbGwgYmUgdGhlIGFjdHVhbCB2YWx1ZSBwYXNzZWQgaW50b1xuICogICAgIHRoZSBsaXQtaHRtbCB0ZW1wbGF0ZSBsaXRlcmFsLCBzbyB0aGlzIGNvdWxkIGJlIG9mIGFueSB0eXBlLlxuICogQHJldHVybiBUaGUgdmFsdWUgdG8gd3JpdGUgdG8gdGhlIERPTS4gVXN1YWxseSB0aGUgc2FtZSBhcyB0aGUgaW5wdXQgdmFsdWUsXG4gKiAgICAgdW5sZXNzIHNhbml0aXphdGlvbiBpcyBuZWVkZWQuXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlU2FuaXRpemVyID0gKHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duO1xuXG5jb25zdCBpZGVudGl0eUZ1bmN0aW9uOiBWYWx1ZVNhbml0aXplciA9ICh2YWx1ZTogdW5rbm93bikgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyOiBTYW5pdGl6ZXJGYWN0b3J5ID0gKFxuICBfbm9kZTogTm9kZSxcbiAgX25hbWU6IHN0cmluZyxcbiAgX3R5cGU6ICdwcm9wZXJ0eScgfCAnYXR0cmlidXRlJ1xuKSA9PiBpZGVudGl0eUZ1bmN0aW9uO1xuXG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcjogU2FuaXRpemVyRmFjdG9yeSkgPT4ge1xuICBpZiAoIUVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICBgIHNldFNhbml0aXplRE9NVmFsdWVGYWN0b3J5IHNob3VsZCBiZSBjYWxsZWQgYXQgbW9zdCBvbmNlLmBcbiAgICApO1xuICB9XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5ld1Nhbml0aXplcjtcbn07XG5cbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5vb3BTYW5pdGl6ZXI7XG59O1xuXG5jb25zdCBjcmVhdGVTYW5pdGl6ZXI6IFNhbml0aXplckZhY3RvcnkgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICByZXR1cm4gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKG5vZGUsIG5hbWUsIHR5cGUpO1xufTtcblxuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG5cbi8vIFRoaXMgbWFya2VyIGlzIHVzZWQgaW4gbWFueSBzeW50YWN0aWMgcG9zaXRpb25zIGluIEhUTUwsIHNvIGl0IG11c3QgYmVcbi8vIGEgdmFsaWQgZWxlbWVudCBuYW1lIGFuZCBhdHRyaWJ1dGUgbmFtZS4gV2UgZG9uJ3Qgc3VwcG9ydCBkeW5hbWljIG5hbWVzICh5ZXQpXG4vLyBidXQgdGhpcyBhdCBsZWFzdCBlbnN1cmVzIHRoYXQgdGhlIHBhcnNlIHRyZWUgaXMgY2xvc2VyIHRvIHRoZSB0ZW1wbGF0ZVxuLy8gaW50ZW50aW9uLlxuY29uc3QgbWFya2VyID0gYGxpdCQke01hdGgucmFuZG9tKCkudG9GaXhlZCg5KS5zbGljZSgyKX0kYDtcblxuLy8gU3RyaW5nIHVzZWQgdG8gdGVsbCBpZiBhIGNvbW1lbnQgaXMgYSBtYXJrZXIgY29tbWVudFxuY29uc3QgbWFya2VyTWF0Y2ggPSAnPycgKyBtYXJrZXI7XG5cbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcblxuY29uc3QgZCA9XG4gIE5PREVfTU9ERSAmJiBnbG9iYWwuZG9jdW1lbnQgPT09IHVuZGVmaW5lZFxuICAgID8gKHtcbiAgICAgICAgY3JlYXRlVHJlZVdhbGtlcigpIHtcbiAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH0sXG4gICAgICB9IGFzIHVua25vd24gYXMgRG9jdW1lbnQpXG4gICAgOiBkb2N1bWVudDtcblxuLy8gQ3JlYXRlcyBhIGR5bmFtaWMgbWFya2VyLiBXZSBuZXZlciBoYXZlIHRvIHNlYXJjaCBmb3IgdGhlc2UgaW4gdGhlIERPTS5cbmNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGQuY3JlYXRlQ29tbWVudCgnJyk7XG5cbi8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXR5cGVvZi1vcGVyYXRvclxudHlwZSBQcmltaXRpdmUgPSBudWxsIHwgdW5kZWZpbmVkIHwgYm9vbGVhbiB8IG51bWJlciB8IHN0cmluZyB8IHN5bWJvbCB8IGJpZ2ludDtcbmNvbnN0IGlzUHJpbWl0aXZlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgUHJpbWl0aXZlID0+XG4gIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlICE9ICdmdW5jdGlvbicpO1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5jb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgSXRlcmFibGU8dW5rbm93bj4gPT5cbiAgaXNBcnJheSh2YWx1ZSkgfHxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgdHlwZW9mICh2YWx1ZSBhcyBhbnkpPy5bU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcblxuY29uc3QgU1BBQ0VfQ0hBUiA9IGBbIFxcdFxcblxcZlxccl1gO1xuY29uc3QgQVRUUl9WQUxVRV9DSEFSID0gYFteIFxcdFxcblxcZlxcclwiJ1xcYDw+PV1gO1xuY29uc3QgTkFNRV9DSEFSID0gYFteXFxcXHNcIic+PS9dYDtcblxuLy8gVGhlc2UgcmVnZXhlcyByZXByZXNlbnQgdGhlIGZpdmUgcGFyc2luZyBzdGF0ZXMgdGhhdCB3ZSBjYXJlIGFib3V0IGluIHRoZVxuLy8gVGVtcGxhdGUncyBIVE1MIHNjYW5uZXIuIFRoZXkgbWF0Y2ggdGhlICplbmQqIG9mIHRoZSBzdGF0ZSB0aGV5J3JlIG5hbWVkXG4vLyBhZnRlci5cbi8vIERlcGVuZGluZyBvbiB0aGUgbWF0Y2gsIHdlIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZXJlJ3Mgbm8gbWF0Y2gsXG4vLyB3ZSBzdGF5IGluIHRoZSBzYW1lIHN0YXRlLlxuLy8gTm90ZSB0aGF0IHRoZSByZWdleGVzIGFyZSBzdGF0ZWZ1bC4gV2UgdXRpbGl6ZSBsYXN0SW5kZXggYW5kIHN5bmMgaXRcbi8vIGFjcm9zcyB0aGUgbXVsdGlwbGUgcmVnZXhlcyB1c2VkLiBJbiBhZGRpdGlvbiB0byB0aGUgZml2ZSByZWdleGVzIGJlbG93XG4vLyB3ZSBhbHNvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHJlZ2V4IHRvIGZpbmQgdGhlIG1hdGNoaW5nIGVuZCB0YWdzIGZvciByYXdcbi8vIHRleHQgZWxlbWVudHMuXG5cbi8qKlxuICogRW5kIG9mIHRleHQgaXM6IGA8YCBmb2xsb3dlZCBieTpcbiAqICAgKGNvbW1lbnQgc3RhcnQpIG9yICh0YWcpIG9yIChkeW5hbWljIHRhZyBiaW5kaW5nKVxuICovXG5jb25zdCB0ZXh0RW5kUmVnZXggPSAvPCg/OighLS18XFwvW15hLXpBLVpdKXwoXFwvP1thLXpBLVpdW14+XFxzXSopfChcXC8/JCkpL2c7XG5jb25zdCBDT01NRU5UX1NUQVJUID0gMTtcbmNvbnN0IFRBR19OQU1FID0gMjtcbmNvbnN0IERZTkFNSUNfVEFHX05BTUUgPSAzO1xuXG5jb25zdCBjb21tZW50RW5kUmVnZXggPSAvLS0+L2c7XG4vKipcbiAqIENvbW1lbnRzIG5vdCBzdGFydGVkIHdpdGggPCEtLSwgbGlrZSA8L3ssIGNhbiBiZSBlbmRlZCBieSBhIHNpbmdsZSBgPmBcbiAqL1xuY29uc3QgY29tbWVudDJFbmRSZWdleCA9IC8+L2c7XG5cbi8qKlxuICogVGhlIHRhZ0VuZCByZWdleCBtYXRjaGVzIHRoZSBlbmQgb2YgdGhlIFwiaW5zaWRlIGFuIG9wZW5pbmdcIiB0YWcgc3ludGF4XG4gKiBwb3NpdGlvbi4gSXQgZWl0aGVyIG1hdGNoZXMgYSBgPmAsIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlLCBvciB0aGUgZW5kXG4gKiBvZiB0aGUgc3RyaW5nIGFmdGVyIGEgc3BhY2UgKGF0dHJpYnV0ZS1uYW1lIHBvc2l0aW9uIGVuZGluZykuXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx0XFxuXFxmXFxyXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXIsIChcIiksICgnKSwgXCI+XCIsXG4gKiAgICBcIj1cIiwgb3IgXCIvXCIuIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIEhUTUwgc3BlYyB3aGljaCBhbHNvIGV4Y2x1ZGVzIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmNvbnN0IHRhZ0VuZFJlZ2V4ID0gbmV3IFJlZ0V4cChcbiAgYD58JHtTUEFDRV9DSEFSfSg/Oigke05BTUVfQ0hBUn0rKSgke1NQQUNFX0NIQVJ9Kj0ke1NQQUNFX0NIQVJ9Kig/OiR7QVRUUl9WQUxVRV9DSEFSfXwoXCJ8Jyl8KSl8JClgLFxuICAnZydcbik7XG5jb25zdCBFTlRJUkVfTUFUQ0ggPSAwO1xuY29uc3QgQVRUUklCVVRFX05BTUUgPSAxO1xuY29uc3QgU1BBQ0VTX0FORF9FUVVBTFMgPSAyO1xuY29uc3QgUVVPVEVfQ0hBUiA9IDM7XG5cbmNvbnN0IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gLycvZztcbmNvbnN0IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4ID0gL1wiL2c7XG4vKipcbiAqIE1hdGNoZXMgdGhlIHJhdyB0ZXh0IGVsZW1lbnRzLlxuICpcbiAqIENvbW1lbnRzIGFyZSBub3QgcGFyc2VkIHdpdGhpbiByYXcgdGV4dCBlbGVtZW50cywgc28gd2UgbmVlZCB0byBzZWFyY2ggdGhlaXJcbiAqIHRleHQgY29udGVudCBmb3IgbWFya2VyIHN0cmluZ3MuXG4gKi9cbmNvbnN0IHJhd1RleHRFbGVtZW50ID0gL14oPzpzY3JpcHR8c3R5bGV8dGV4dGFyZWF8dGl0bGUpJC9pO1xuXG4vKiogVGVtcGxhdGVSZXN1bHQgdHlwZXMgKi9cbmNvbnN0IEhUTUxfUkVTVUxUID0gMTtcbmNvbnN0IFNWR19SRVNVTFQgPSAyO1xuY29uc3QgTUFUSE1MX1JFU1VMVCA9IDM7XG5cbnR5cGUgUmVzdWx0VHlwZSA9IHR5cGVvZiBIVE1MX1JFU1VMVCB8IHR5cGVvZiBTVkdfUkVTVUxUIHwgdHlwZW9mIE1BVEhNTF9SRVNVTFQ7XG5cbi8vIFRlbXBsYXRlUGFydCB0eXBlc1xuLy8gSU1QT1JUQU5UOiB0aGVzZSBtdXN0IG1hdGNoIHRoZSB2YWx1ZXMgaW4gUGFydFR5cGVcbmNvbnN0IEFUVFJJQlVURV9QQVJUID0gMTtcbmNvbnN0IENISUxEX1BBUlQgPSAyO1xuY29uc3QgUFJPUEVSVFlfUEFSVCA9IDM7XG5jb25zdCBCT09MRUFOX0FUVFJJQlVURV9QQVJUID0gNDtcbmNvbnN0IEVWRU5UX1BBUlQgPSA1O1xuY29uc3QgRUxFTUVOVF9QQVJUID0gNjtcbmNvbnN0IENPTU1FTlRfUEFSVCA9IDc7XG5cbi8qKlxuICogVGhlIHJldHVybiB0eXBlIG9mIHRoZSB0ZW1wbGF0ZSB0YWcgZnVuY3Rpb25zLCB7QGxpbmtjb2RlIGh0bWx9IGFuZFxuICoge0BsaW5rY29kZSBzdmd9IHdoZW4gaXQgaGFzbid0IGJlZW4gY29tcGlsZWQgYnkgQGxpdC1sYWJzL2NvbXBpbGVyLlxuICpcbiAqIEEgYFRlbXBsYXRlUmVzdWx0YCBvYmplY3QgaG9sZHMgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCBhIHRlbXBsYXRlXG4gKiBleHByZXNzaW9uIHJlcXVpcmVkIHRvIHJlbmRlciBpdDogdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGV4cHJlc3Npb24gdmFsdWVzLFxuICogYW5kIHR5cGUgb2YgdGVtcGxhdGUgKGh0bWwgb3Igc3ZnKS5cbiAqXG4gKiBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdHMgZG8gbm90IGNyZWF0ZSBhbnkgRE9NIG9uIHRoZWlyIG93bi4gVG8gY3JlYXRlIG9yXG4gKiB1cGRhdGUgRE9NIHlvdSBuZWVkIHRvIHJlbmRlciB0aGUgYFRlbXBsYXRlUmVzdWx0YC4gU2VlXG4gKiBbUmVuZGVyaW5nXShodHRwczovL2xpdC5kZXYvZG9jcy9jb21wb25lbnRzL3JlbmRlcmluZykgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKlxuICovXG5leHBvcnQgdHlwZSBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9IHtcbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IFQ7XG4gIHN0cmluZ3M6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xuICB2YWx1ZXM6IHVua25vd25bXTtcbn07XG5cbi8qKlxuICogVGhpcyBpcyBhIHRlbXBsYXRlIHJlc3VsdCB0aGF0IG1heSBiZSBlaXRoZXIgdW5jb21waWxlZCBvciBjb21waWxlZC5cbiAqXG4gKiBJbiB0aGUgZnV0dXJlLCBUZW1wbGF0ZVJlc3VsdCB3aWxsIGJlIHRoaXMgdHlwZS4gSWYgeW91IHdhbnQgdG8gZXhwbGljaXRseVxuICogbm90ZSB0aGF0IGEgdGVtcGxhdGUgcmVzdWx0IGlzIHBvdGVudGlhbGx5IGNvbXBpbGVkLCB5b3UgY2FuIHJlZmVyZW5jZSB0aGlzXG4gKiB0eXBlIGFuZCBpdCB3aWxsIGNvbnRpbnVlIHRvIGJlaGF2ZSB0aGUgc2FtZSB0aHJvdWdoIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAqIG9mIExpdC4gVGhpcyBjYW4gYmUgdXNlZnVsIGZvciBjb2RlIHRoYXQgd2FudHMgdG8gcHJlcGFyZSBmb3IgdGhlIG5leHRcbiAqIG1ham9yIHZlcnNpb24gb2YgTGl0LlxuICovXG5leHBvcnQgdHlwZSBNYXliZUNvbXBpbGVkVGVtcGxhdGVSZXN1bHQ8VCBleHRlbmRzIFJlc3VsdFR5cGUgPSBSZXN1bHRUeXBlPiA9XG4gIHwgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+XG4gIHwgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdDtcblxuLyoqXG4gKiBUaGUgcmV0dXJuIHR5cGUgb2YgdGhlIHRlbXBsYXRlIHRhZyBmdW5jdGlvbnMsIHtAbGlua2NvZGUgaHRtbH0gYW5kXG4gKiB7QGxpbmtjb2RlIHN2Z30uXG4gKlxuICogQSBgVGVtcGxhdGVSZXN1bHRgIG9iamVjdCBob2xkcyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgdGVtcGxhdGVcbiAqIGV4cHJlc3Npb24gcmVxdWlyZWQgdG8gcmVuZGVyIGl0OiB0aGUgdGVtcGxhdGUgc3RyaW5ncywgZXhwcmVzc2lvbiB2YWx1ZXMsXG4gKiBhbmQgdHlwZSBvZiB0ZW1wbGF0ZSAoaHRtbCBvciBzdmcpLlxuICpcbiAqIGBUZW1wbGF0ZVJlc3VsdGAgb2JqZWN0cyBkbyBub3QgY3JlYXRlIGFueSBET00gb24gdGhlaXIgb3duLiBUbyBjcmVhdGUgb3JcbiAqIHVwZGF0ZSBET00geW91IG5lZWQgdG8gcmVuZGVyIHRoZSBgVGVtcGxhdGVSZXN1bHRgLiBTZWVcbiAqIFtSZW5kZXJpbmddKGh0dHBzOi8vbGl0LmRldi9kb2NzL2NvbXBvbmVudHMvcmVuZGVyaW5nKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBJbiBMaXQgNCwgdGhpcyB0eXBlIHdpbGwgYmUgYW4gYWxpYXMgb2ZcbiAqIE1heWJlQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCwgc28gdGhhdCBjb2RlIHdpbGwgZ2V0IHR5cGUgZXJyb3JzIGlmIGl0IGFzc3VtZXNcbiAqIHRoYXQgTGl0IHRlbXBsYXRlcyBhcmUgbm90IGNvbXBpbGVkLiBXaGVuIGRlbGliZXJhdGVseSB3b3JraW5nIHdpdGggb25seVxuICogb25lLCB1c2UgZWl0aGVyIHtAbGlua2NvZGUgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdH0gb3JcbiAqIHtAbGlua2NvZGUgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0fSBleHBsaWNpdGx5LlxuICovXG5leHBvcnQgdHlwZSBUZW1wbGF0ZVJlc3VsdDxUIGV4dGVuZHMgUmVzdWx0VHlwZSA9IFJlc3VsdFR5cGU+ID1cbiAgVW5jb21waWxlZFRlbXBsYXRlUmVzdWx0PFQ+O1xuXG5leHBvcnQgdHlwZSBIVE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgSFRNTF9SRVNVTFQ+O1xuXG5leHBvcnQgdHlwZSBTVkdUZW1wbGF0ZVJlc3VsdCA9IFRlbXBsYXRlUmVzdWx0PHR5cGVvZiBTVkdfUkVTVUxUPjtcblxuZXhwb3J0IHR5cGUgTWF0aE1MVGVtcGxhdGVSZXN1bHQgPSBUZW1wbGF0ZVJlc3VsdDx0eXBlb2YgTUFUSE1MX1JFU1VMVD47XG5cbi8qKlxuICogQSBUZW1wbGF0ZVJlc3VsdCB0aGF0IGhhcyBiZWVuIGNvbXBpbGVkIGJ5IEBsaXQtbGFicy9jb21waWxlciwgc2tpcHBpbmcgdGhlXG4gKiBwcmVwYXJlIHN0ZXAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCB7XG4gIC8vIFRoaXMgaXMgYSBmYWN0b3J5IGluIG9yZGVyIHRvIG1ha2UgdGVtcGxhdGUgaW5pdGlhbGl6YXRpb24gbGF6eVxuICAvLyBhbmQgYWxsb3cgU2hhZHlSZW5kZXJPcHRpb25zIHNjb3BlIHRvIGJlIHBhc3NlZCBpbi5cbiAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgWydfJGxpdFR5cGUkJ106IENvbXBpbGVkVGVtcGxhdGU7XG4gIHZhbHVlczogdW5rbm93bltdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBpbGVkVGVtcGxhdGUgZXh0ZW5kcyBPbWl0PFRlbXBsYXRlLCAnZWwnPiB7XG4gIC8vIGVsIGlzIG92ZXJyaWRkZW4gdG8gYmUgb3B0aW9uYWwuIFdlIGluaXRpYWxpemUgaXQgb24gZmlyc3QgcmVuZGVyXG4gIGVsPzogSFRNTFRlbXBsYXRlRWxlbWVudDtcblxuICAvLyBUaGUgcHJlcGFyZWQgSFRNTCBzdHJpbmcgdG8gY3JlYXRlIGEgdGVtcGxhdGUgZWxlbWVudCBmcm9tLlxuICAvLyBUaGUgdHlwZSBpcyBhIFRlbXBsYXRlU3RyaW5nc0FycmF5IHRvIGd1YXJhbnRlZSB0aGF0IHRoZSB2YWx1ZSBjYW1lIGZyb21cbiAgLy8gc291cmNlIGNvZGUsIHByZXZlbnRpbmcgYSBKU09OIGluamVjdGlvbiBhdHRhY2suXG4gIGg6IFRlbXBsYXRlU3RyaW5nc0FycmF5O1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHRlbXBsYXRlIGxpdGVyYWwgdGFnIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFRlbXBsYXRlUmVzdWx0IHdpdGhcbiAqIHRoZSBnaXZlbiByZXN1bHQgdHlwZS5cbiAqL1xuY29uc3QgdGFnID1cbiAgPFQgZXh0ZW5kcyBSZXN1bHRUeXBlPih0eXBlOiBUKSA9PlxuICAoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnZhbHVlczogdW5rbm93bltdKTogVGVtcGxhdGVSZXN1bHQ8VD4gPT4ge1xuICAgIC8vIFdhcm4gYWdhaW5zdCB0ZW1wbGF0ZXMgb2N0YWwgZXNjYXBlIHNlcXVlbmNlc1xuICAgIC8vIFdlIGRvIHRoaXMgaGVyZSByYXRoZXIgdGhhbiBpbiByZW5kZXIgc28gdGhhdCB0aGUgd2FybmluZyBpcyBjbG9zZXIgdG8gdGhlXG4gICAgLy8gdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAgICBpZiAoREVWX01PREUgJiYgc3RyaW5ncy5zb21lKChzKSA9PiBzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAnVGhpcyBpcyBwcm9iYWJseSBjYXVzZWQgYnkgaWxsZWdhbCBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSW1wb3J0IHN0YXRpYy1odG1sLmpzIHJlc3VsdHMgaW4gYSBjaXJjdWxhciBkZXBlbmRlbmN5IHdoaWNoIGczIGRvZXNuJ3RcbiAgICAgIC8vIGhhbmRsZS4gSW5zdGVhZCB3ZSBrbm93IHRoYXQgc3RhdGljIHZhbHVlcyBtdXN0IGhhdmUgdGhlIGZpZWxkXG4gICAgICAvLyBgXyRsaXRTdGF0aWMkYC5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWVzLnNvbWUoKHZhbCkgPT4gKHZhbCBhcyB7XyRsaXRTdGF0aWMkOiB1bmtub3dufSk/LlsnXyRsaXRTdGF0aWMkJ10pXG4gICAgICApIHtcbiAgICAgICAgaXNzdWVXYXJuaW5nKFxuICAgICAgICAgICcnLFxuICAgICAgICAgIGBTdGF0aWMgdmFsdWVzICdsaXRlcmFsJyBvciAndW5zYWZlU3RhdGljJyBjYW5ub3QgYmUgdXNlZCBhcyB2YWx1ZXMgdG8gbm9uLXN0YXRpYyB0ZW1wbGF0ZXMuXFxuYCArXG4gICAgICAgICAgICBgUGxlYXNlIHVzZSB0aGUgc3RhdGljICdodG1sJyB0YWcgZnVuY3Rpb24uIFNlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9uc2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICBbJ18kbGl0VHlwZSQnXTogdHlwZSxcbiAgICAgIHN0cmluZ3MsXG4gICAgICB2YWx1ZXMsXG4gICAgfTtcbiAgfTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBIVE1MIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgaGVhZGVyID0gKHRpdGxlOiBzdHJpbmcpID0+IGh0bWxgPGgxPiR7dGl0bGV9PC9oMT5gO1xuICogYGBgXG4gKlxuICogVGhlIGBodG1sYCB0YWcgcmV0dXJucyBhIGRlc2NyaXB0aW9uIG9mIHRoZSBET00gdG8gcmVuZGVyIGFzIGEgdmFsdWUuIEl0IGlzXG4gKiBsYXp5LCBtZWFuaW5nIG5vIHdvcmsgaXMgZG9uZSB1bnRpbCB0aGUgdGVtcGxhdGUgaXMgcmVuZGVyZWQuIFdoZW4gcmVuZGVyaW5nLFxuICogaWYgYSB0ZW1wbGF0ZSBjb21lcyBmcm9tIHRoZSBzYW1lIGV4cHJlc3Npb24gYXMgYSBwcmV2aW91c2x5IHJlbmRlcmVkIHJlc3VsdCxcbiAqIGl0J3MgZWZmaWNpZW50bHkgdXBkYXRlZCBpbnN0ZWFkIG9mIHJlcGxhY2VkLlxuICovXG5leHBvcnQgY29uc3QgaHRtbCA9IHRhZyhIVE1MX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgcmVjdCA9IHN2Z2A8cmVjdCB3aWR0aD1cIjEwXCIgaGVpZ2h0PVwiMTBcIj48L3JlY3Q+YDtcbiAqXG4gKiBjb25zdCBteUltYWdlID0gaHRtbGBcbiAqICAgPHN2ZyB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICogICAgICR7cmVjdH1cbiAqICAgPC9zdmc+YDtcbiAqIGBgYFxuICpcbiAqIFRoZSBgc3ZnYCAqdGFnIGZ1bmN0aW9uKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBTVkcgZnJhZ21lbnRzLCBvciBlbGVtZW50c1xuICogdGhhdCB3b3VsZCBiZSBjb250YWluZWQgKippbnNpZGUqKiBhbiBgPHN2Zz5gIEhUTUwgZWxlbWVudC4gQSBjb21tb24gZXJyb3IgaXNcbiAqIHBsYWNpbmcgYW4gYDxzdmc+YCAqZWxlbWVudCogaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUgYHN2Z2AgdGFnXG4gKiBmdW5jdGlvbi4gVGhlIGA8c3ZnPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhXG4gKiB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBTVkcgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgU1ZHIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZWxlbWVudCdzXG4gKiBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhbiBgPHN2Zz5gIEhUTUxcbiAqIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzdmcgPSB0YWcoU1ZHX1JFU1VMVCk7XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgTWF0aE1MIGZyYWdtZW50IHRoYXQgY2FuIGVmZmljaWVudGx5IHJlbmRlclxuICogdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgbnVtID0gbWF0aG1sYDxtbj4xPC9tbj5gO1xuICpcbiAqIGNvbnN0IGVxID0gaHRtbGBcbiAqICAgPG1hdGg+XG4gKiAgICAgJHtudW19XG4gKiAgIDwvbWF0aD5gO1xuICogYGBgXG4gKlxuICogVGhlIGBtYXRobWxgICp0YWcgZnVuY3Rpb24qIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIE1hdGhNTCBmcmFnbWVudHMsIG9yXG4gKiBlbGVtZW50cyB0aGF0IHdvdWxkIGJlIGNvbnRhaW5lZCAqKmluc2lkZSoqIGEgYDxtYXRoPmAgSFRNTCBlbGVtZW50LiBBIGNvbW1vblxuICogZXJyb3IgaXMgcGxhY2luZyBhIGA8bWF0aD5gICplbGVtZW50KiBpbiBhIHRlbXBsYXRlIHRhZ2dlZCB3aXRoIHRoZSBgbWF0aG1sYFxuICogdGFnIGZ1bmN0aW9uLiBUaGUgYDxtYXRoPmAgZWxlbWVudCBpcyBhbiBIVE1MIGVsZW1lbnQgYW5kIHNob3VsZCBiZSB1c2VkXG4gKiB3aXRoaW4gYSB0ZW1wbGF0ZSB0YWdnZWQgd2l0aCB0aGUge0BsaW5rY29kZSBodG1sfSB0YWcgZnVuY3Rpb24uXG4gKlxuICogSW4gTGl0RWxlbWVudCB1c2FnZSwgaXQncyBpbnZhbGlkIHRvIHJldHVybiBhbiBNYXRoTUwgZnJhZ21lbnQgZnJvbSB0aGVcbiAqIGByZW5kZXIoKWAgbWV0aG9kLCBhcyB0aGUgTWF0aE1MIGZyYWdtZW50IHdpbGwgYmUgY29udGFpbmVkIHdpdGhpbiB0aGVcbiAqIGVsZW1lbnQncyBzaGFkb3cgcm9vdCBhbmQgdGh1cyBub3QgYmUgcHJvcGVybHkgY29udGFpbmVkIHdpdGhpbiBhIGA8bWF0aD5gXG4gKiBIVE1MIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRobWwgPSB0YWcoTUFUSE1MX1JFU1VMVCk7XG5cbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuXG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgQ2hpbGRQYXJ0IHRvIGZ1bGx5IGNsZWFyIGl0cyBjb250ZW50LlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBidXR0b24gPSBodG1sYCR7XG4gKiAgdXNlci5pc0FkbWluXG4gKiAgICA/IGh0bWxgPGJ1dHRvbj5ERUxFVEU8L2J1dHRvbj5gXG4gKiAgICA6IG5vdGhpbmdcbiAqIH1gO1xuICogYGBgXG4gKlxuICogUHJlZmVyIHVzaW5nIGBub3RoaW5nYCBvdmVyIG90aGVyIGZhbHN5IHZhbHVlcyBhcyBpdCBwcm92aWRlcyBhIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGJldHdlZW4gdmFyaW91cyBleHByZXNzaW9uIGJpbmRpbmcgY29udGV4dHMuXG4gKlxuICogSW4gY2hpbGQgZXhwcmVzc2lvbnMsIGB1bmRlZmluZWRgLCBgbnVsbGAsIGAnJ2AsIGFuZCBgbm90aGluZ2AgYWxsIGJlaGF2ZSB0aGVcbiAqIHNhbWUgYW5kIHJlbmRlciBubyBub2Rlcy4gSW4gYXR0cmlidXRlIGV4cHJlc3Npb25zLCBgbm90aGluZ2AgX3JlbW92ZXNfIHRoZVxuICogYXR0cmlidXRlLCB3aGlsZSBgdW5kZWZpbmVkYCBhbmQgYG51bGxgIHdpbGwgcmVuZGVyIGFuIGVtcHR5IHN0cmluZy4gSW5cbiAqIHByb3BlcnR5IGV4cHJlc3Npb25zIGBub3RoaW5nYCBiZWNvbWVzIGB1bmRlZmluZWRgLlxuICovXG5leHBvcnQgY29uc3Qgbm90aGluZyA9IFN5bWJvbC5mb3IoJ2xpdC1ub3RoaW5nJyk7XG5cbi8qKlxuICogVGhlIGNhY2hlIG9mIHByZXBhcmVkIHRlbXBsYXRlcywga2V5ZWQgYnkgdGhlIHRhZ2dlZCBUZW1wbGF0ZVN0cmluZ3NBcnJheVxuICogYW5kIF9ub3RfIGFjY291bnRpbmcgZm9yIHRoZSBzcGVjaWZpYyB0ZW1wbGF0ZSB0YWcgdXNlZC4gVGhpcyBtZWFucyB0aGF0XG4gKiB0ZW1wbGF0ZSB0YWdzIGNhbm5vdCBiZSBkeW5hbWljIC0gdGhleSBtdXN0IHN0YXRpY2FsbHkgYmUgb25lIG9mIGh0bWwsIHN2ZyxcbiAqIG9yIGF0dHIuIFRoaXMgcmVzdHJpY3Rpb24gc2ltcGxpZmllcyB0aGUgY2FjaGUgbG9va3VwLCB3aGljaCBpcyBvbiB0aGUgaG90XG4gKiBwYXRoIGZvciByZW5kZXJpbmcuXG4gKi9cbmNvbnN0IHRlbXBsYXRlQ2FjaGUgPSBuZXcgV2Vha01hcDxUZW1wbGF0ZVN0cmluZ3NBcnJheSwgVGVtcGxhdGU+KCk7XG5cbi8qKlxuICogT2JqZWN0IHNwZWNpZnlpbmcgb3B0aW9ucyBmb3IgY29udHJvbGxpbmcgbGl0LWh0bWwgcmVuZGVyaW5nLiBOb3RlIHRoYXRcbiAqIHdoaWxlIGByZW5kZXJgIG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgYGNvbnRhaW5lcmAgKGFuZFxuICogYHJlbmRlckJlZm9yZWAgcmVmZXJlbmNlIG5vZGUpIHRvIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgY29udGVudCxcbiAqIG9ubHkgdGhlIG9wdGlvbnMgcGFzc2VkIGluIGR1cmluZyB0aGUgZmlyc3QgcmVuZGVyIGFyZSByZXNwZWN0ZWQgZHVyaW5nXG4gKiB0aGUgbGlmZXRpbWUgb2YgcmVuZGVycyB0byB0aGF0IHVuaXF1ZSBgY29udGFpbmVyYCArIGByZW5kZXJCZWZvcmVgXG4gKiBjb21iaW5hdGlvbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcHRpb25zIHtcbiAgLyoqXG4gICAqIEFuIG9iamVjdCB0byB1c2UgYXMgdGhlIGB0aGlzYCB2YWx1ZSBmb3IgZXZlbnQgbGlzdGVuZXJzLiBJdCdzIG9mdGVuXG4gICAqIHVzZWZ1bCB0byBzZXQgdGhpcyB0byB0aGUgaG9zdCBjb21wb25lbnQgcmVuZGVyaW5nIGEgdGVtcGxhdGUuXG4gICAqL1xuICBob3N0Pzogb2JqZWN0O1xuICAvKipcbiAgICogQSBET00gbm9kZSBiZWZvcmUgd2hpY2ggdG8gcmVuZGVyIGNvbnRlbnQgaW4gdGhlIGNvbnRhaW5lci5cbiAgICovXG4gIHJlbmRlckJlZm9yZT86IENoaWxkTm9kZSB8IG51bGw7XG4gIC8qKlxuICAgKiBOb2RlIHVzZWQgZm9yIGNsb25pbmcgdGhlIHRlbXBsYXRlIChgaW1wb3J0Tm9kZWAgd2lsbCBiZSBjYWxsZWQgb24gdGhpc1xuICAgKiBub2RlKS4gVGhpcyBjb250cm9scyB0aGUgYG93bmVyRG9jdW1lbnRgIG9mIHRoZSByZW5kZXJlZCBET00sIGFsb25nIHdpdGhcbiAgICogYW55IGluaGVyaXRlZCBjb250ZXh0LiBEZWZhdWx0cyB0byB0aGUgZ2xvYmFsIGBkb2N1bWVudGAuXG4gICAqL1xuICBjcmVhdGlvblNjb3BlPzoge2ltcG9ydE5vZGUobm9kZTogTm9kZSwgZGVlcD86IGJvb2xlYW4pOiBOb2RlfTtcbiAgLyoqXG4gICAqIFRoZSBpbml0aWFsIGNvbm5lY3RlZCBzdGF0ZSBmb3IgdGhlIHRvcC1sZXZlbCBwYXJ0IGJlaW5nIHJlbmRlcmVkLiBJZiBub1xuICAgKiBgaXNDb25uZWN0ZWRgIG9wdGlvbiBpcyBzZXQsIGBBc3luY0RpcmVjdGl2ZWBzIHdpbGwgYmUgY29ubmVjdGVkIGJ5XG4gICAqIGRlZmF1bHQuIFNldCB0byBgZmFsc2VgIGlmIHRoZSBpbml0aWFsIHJlbmRlciBvY2N1cnMgaW4gYSBkaXNjb25uZWN0ZWQgdHJlZVxuICAgKiBhbmQgYEFzeW5jRGlyZWN0aXZlYHMgc2hvdWxkIHNlZSBgaXNDb25uZWN0ZWQgPT09IGZhbHNlYCBmb3IgdGhlaXIgaW5pdGlhbFxuICAgKiByZW5kZXIuIFRoZSBgcGFydC5zZXRDb25uZWN0ZWQoKWAgbWV0aG9kIG11c3QgYmUgdXNlZCBzdWJzZXF1ZW50IHRvIGluaXRpYWxcbiAgICogcmVuZGVyIHRvIGNoYW5nZSB0aGUgY29ubmVjdGVkIHN0YXRlIG9mIHRoZSBwYXJ0LlxuICAgKi9cbiAgaXNDb25uZWN0ZWQ/OiBib29sZWFuO1xufVxuXG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoXG4gIGQsXG4gIDEyOSAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVH0gKi9cbik7XG5cbmxldCBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWw6IFNhbml0aXplckZhY3RvcnkgPSBub29wU2FuaXRpemVyO1xuXG4vL1xuLy8gQ2xhc3NlcyBvbmx5IGJlbG93IGhlcmUsIGNvbnN0IHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBvbmx5IGFib3ZlIGhlcmUuLi5cbi8vXG4vLyBLZWVwaW5nIHZhcmlhYmxlIGRlY2xhcmF0aW9ucyBhbmQgY2xhc3NlcyB0b2dldGhlciBpbXByb3ZlcyBtaW5pZmljYXRpb24uXG4vLyBJbnRlcmZhY2VzIGFuZCB0eXBlIGFsaWFzZXMgY2FuIGJlIGludGVybGVhdmVkIGZyZWVseS5cbi8vXG5cbi8vIFR5cGUgZm9yIGNsYXNzZXMgdGhhdCBoYXZlIGEgYF9kaXJlY3RpdmVgIG9yIGBfZGlyZWN0aXZlc1tdYCBmaWVsZCwgdXNlZCBieVxuLy8gYHJlc29sdmVEaXJlY3RpdmVgXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGl2ZVBhcmVudCB7XG4gIF8kcGFyZW50PzogRGlyZWN0aXZlUGFyZW50O1xuICBfJGlzQ29ubmVjdGVkOiBib29sZWFuO1xuICBfX2RpcmVjdGl2ZT86IERpcmVjdGl2ZTtcbiAgX19kaXJlY3RpdmVzPzogQXJyYXk8RGlyZWN0aXZlIHwgdW5kZWZpbmVkPjtcbn1cblxuZnVuY3Rpb24gdHJ1c3RGcm9tVGVtcGxhdGVTdHJpbmcoXG4gIHRzYTogVGVtcGxhdGVTdHJpbmdzQXJyYXksXG4gIHN0cmluZ0Zyb21UU0E6IHN0cmluZ1xuKTogVHJ1c3RlZEhUTUwge1xuICAvLyBBIHNlY3VyaXR5IGNoZWNrIHRvIHByZXZlbnQgc3Bvb2Zpbmcgb2YgTGl0IHRlbXBsYXRlIHJlc3VsdHMuXG4gIC8vIEluIHRoZSBmdXR1cmUsIHdlIG1heSBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyB3aXRoIEFycmF5LmlzVGVtcGxhdGVPYmplY3QsXG4gIC8vIHRob3VnaCB3ZSBtaWdodCBuZWVkIHRvIG1ha2UgdGhhdCBjaGVjayBpbnNpZGUgb2YgdGhlIGh0bWwgYW5kIHN2Z1xuICAvLyBmdW5jdGlvbnMsIGJlY2F1c2UgcHJlY29tcGlsZWQgdGVtcGxhdGVzIGRvbid0IGNvbWUgaW4gYXNcbiAgLy8gVGVtcGxhdGVTdHJpbmdBcnJheSBvYmplY3RzLlxuICBpZiAoIWlzQXJyYXkodHNhKSB8fCAhdHNhLmhhc093blByb3BlcnR5KCdyYXcnKSkge1xuICAgIGxldCBtZXNzYWdlID0gJ2ludmFsaWQgdGVtcGxhdGUgc3RyaW5ncyBhcnJheSc7XG4gICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICBtZXNzYWdlID0gYFxuICAgICAgICAgIEludGVybmFsIEVycm9yOiBleHBlY3RlZCB0ZW1wbGF0ZSBzdHJpbmdzIHRvIGJlIGFuIGFycmF5XG4gICAgICAgICAgd2l0aCBhICdyYXcnIGZpZWxkLiBGYWtpbmcgYSB0ZW1wbGF0ZSBzdHJpbmdzIGFycmF5IGJ5XG4gICAgICAgICAgY2FsbGluZyBodG1sIG9yIHN2ZyBsaWtlIGFuIG9yZGluYXJ5IGZ1bmN0aW9uIGlzIGVmZmVjdGl2ZWx5XG4gICAgICAgICAgdGhlIHNhbWUgYXMgY2FsbGluZyB1bnNhZmVIdG1sIGFuZCBjYW4gbGVhZCB0byBtYWpvciBzZWN1cml0eVxuICAgICAgICAgIGlzc3VlcywgZS5nLiBvcGVuaW5nIHlvdXIgY29kZSB1cCB0byBYU1MgYXR0YWNrcy5cbiAgICAgICAgICBJZiB5b3UncmUgdXNpbmcgdGhlIGh0bWwgb3Igc3ZnIHRhZ2dlZCB0ZW1wbGF0ZSBmdW5jdGlvbnMgbm9ybWFsbHlcbiAgICAgICAgICBhbmQgc3RpbGwgc2VlaW5nIHRoaXMgZXJyb3IsIHBsZWFzZSBmaWxlIGEgYnVnIGF0XG4gICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzL25ldz90ZW1wbGF0ZT1idWdfcmVwb3J0Lm1kXG4gICAgICAgICAgYW5kIGluY2x1ZGUgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBidWlsZCB0b29saW5nLCBpZiBhbnkuXG4gICAgICAgIGBcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvXFxuICovZywgJ1xcbicpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIHBvbGljeSAhPT0gdW5kZWZpbmVkXG4gICAgPyBwb2xpY3kuY3JlYXRlSFRNTChzdHJpbmdGcm9tVFNBKVxuICAgIDogKHN0cmluZ0Zyb21UU0EgYXMgdW5rbm93biBhcyBUcnVzdGVkSFRNTCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBIVE1MIHN0cmluZyBmb3IgdGhlIGdpdmVuIFRlbXBsYXRlU3RyaW5nc0FycmF5IGFuZCByZXN1bHQgdHlwZVxuICogKEhUTUwgb3IgU1ZHKSwgYWxvbmcgd2l0aCB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluXG4gKiB0ZW1wbGF0ZSBvcmRlci4gVGhlIEhUTUwgY29udGFpbnMgY29tbWVudCBtYXJrZXJzIGRlbm90aW5nIHRoZSBgQ2hpbGRQYXJ0YHNcbiAqIGFuZCBzdWZmaXhlcyBvbiBib3VuZCBhdHRyaWJ1dGVzIGRlbm90aW5nIHRoZSBgQXR0cmlidXRlUGFydHNgLlxuICpcbiAqIEBwYXJhbSBzdHJpbmdzIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXlcbiAqIEBwYXJhbSB0eXBlIEhUTUwgb3IgU1ZHXG4gKiBAcmV0dXJuIEFycmF5IGNvbnRhaW5pbmcgYFtodG1sLCBhdHRyTmFtZXNdYCAoYXJyYXkgcmV0dXJuZWQgZm9yIHRlcnNlbmVzcyxcbiAqICAgICB0byBhdm9pZCBvYmplY3QgZmllbGRzIHNpbmNlIHRoaXMgY29kZSBpcyBzaGFyZWQgd2l0aCBub24tbWluaWZpZWQgU1NSXG4gKiAgICAgY29kZSlcbiAqL1xuY29uc3QgZ2V0VGVtcGxhdGVIdG1sID0gKFxuICBzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSxcbiAgdHlwZTogUmVzdWx0VHlwZVxuKTogW1RydXN0ZWRIVE1MLCBBcnJheTxzdHJpbmc+XSA9PiB7XG4gIC8vIEluc2VydCBtYWtlcnMgaW50byB0aGUgdGVtcGxhdGUgSFRNTCB0byByZXByZXNlbnQgdGhlIHBvc2l0aW9uIG9mXG4gIC8vIGJpbmRpbmdzLiBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHN0cmluZ3MgdG8gZGV0ZXJtaW5lIHRoZVxuICAvLyBzeW50YWN0aWMgcG9zaXRpb24gb2YgdGhlIGJpbmRpbmdzLiBUaGV5IGNhbiBiZSBpbiB0ZXh0IHBvc2l0aW9uLCB3aGVyZVxuICAvLyB3ZSBpbnNlcnQgYW4gSFRNTCBjb21tZW50LCBhdHRyaWJ1dGUgdmFsdWUgcG9zaXRpb24sIHdoZXJlIHdlIGluc2VydCBhXG4gIC8vIHNlbnRpbmVsIHN0cmluZyBhbmQgcmUtd3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBvciBpbnNpZGUgYSB0YWcgd2hlcmVcbiAgLy8gd2UgaW5zZXJ0IHRoZSBzZW50aW5lbCBzdHJpbmcuXG4gIGNvbnN0IGwgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gIC8vIFN0b3JlcyB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluIHRoZSBvcmRlciBvZiB0aGVpclxuICAvLyBwYXJ0cy4gRWxlbWVudFBhcnRzIGFyZSBhbHNvIHJlZmxlY3RlZCBpbiB0aGlzIGFycmF5IGFzIHVuZGVmaW5lZFxuICAvLyByYXRoZXIgdGhhbiBhIHN0cmluZywgdG8gZGlzYW1iaWd1YXRlIGZyb20gYXR0cmlidXRlIGJpbmRpbmdzLlxuICBjb25zdCBhdHRyTmFtZXM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgbGV0IGh0bWwgPVxuICAgIHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPHN2Zz4nIDogdHlwZSA9PT0gTUFUSE1MX1JFU1VMVCA/ICc8bWF0aD4nIDogJyc7XG5cbiAgLy8gV2hlbiB3ZSdyZSBpbnNpZGUgYSByYXcgdGV4dCB0YWcgKG5vdCBpdCdzIHRleHQgY29udGVudCksIHRoZSByZWdleFxuICAvLyB3aWxsIHN0aWxsIGJlIHRhZ1JlZ2V4IHNvIHdlIGNhbiBmaW5kIGF0dHJpYnV0ZXMsIGJ1dCB3aWxsIHN3aXRjaCB0b1xuICAvLyB0aGlzIHJlZ2V4IHdoZW4gdGhlIHRhZyBlbmRzLlxuICBsZXQgcmF3VGV4dEVuZFJlZ2V4OiBSZWdFeHAgfCB1bmRlZmluZWQ7XG5cbiAgLy8gVGhlIGN1cnJlbnQgcGFyc2luZyBzdGF0ZSwgcmVwcmVzZW50ZWQgYXMgYSByZWZlcmVuY2UgdG8gb25lIG9mIHRoZVxuICAvLyByZWdleGVzXG4gIGxldCByZWdleCA9IHRleHRFbmRSZWdleDtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHMgPSBzdHJpbmdzW2ldO1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZW5kIG9mIHRoZSBsYXN0IGF0dHJpYnV0ZSBuYW1lLiBXaGVuIHRoaXMgaXNcbiAgICAvLyBwb3NpdGl2ZSBhdCBlbmQgb2YgYSBzdHJpbmcsIGl0IG1lYW5zIHdlJ3JlIGluIGFuIGF0dHJpYnV0ZSB2YWx1ZVxuICAgIC8vIHBvc2l0aW9uIGFuZCBuZWVkIHRvIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgIC8vIFdlIGFsc28gdXNlIGEgc3BlY2lhbCB2YWx1ZSBvZiAtMiB0byBpbmRpY2F0ZSB0aGF0IHdlIGVuY291bnRlcmVkXG4gICAgLy8gdGhlIGVuZCBvZiBhIHN0cmluZyBpbiBhdHRyaWJ1dGUgbmFtZSBwb3NpdGlvbi5cbiAgICBsZXQgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgIGxldCBhdHRyTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBtYXRjaCE6IFJlZ0V4cEV4ZWNBcnJheSB8IG51bGw7XG5cbiAgICAvLyBUaGUgY29uZGl0aW9ucyBpbiB0aGlzIGxvb3AgaGFuZGxlIHRoZSBjdXJyZW50IHBhcnNlIHN0YXRlLCBhbmQgdGhlXG4gICAgLy8gYXNzaWdubWVudHMgdG8gdGhlIGByZWdleGAgdmFyaWFibGUgYXJlIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICB3aGlsZSAobGFzdEluZGV4IDwgcy5sZW5ndGgpIHtcbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzdGFydCBzZWFyY2hpbmcgZnJvbSB3aGVyZSB3ZSBwcmV2aW91c2x5IGxlZnQgb2ZmXG4gICAgICByZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICBtYXRjaCA9IHJlZ2V4LmV4ZWMocyk7XG4gICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XG4gICAgICBpZiAocmVnZXggPT09IHRleHRFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gPT09ICchLS0nKSB7XG4gICAgICAgICAgcmVnZXggPSBjb21tZW50RW5kUmVnZXg7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQ09NTUVOVF9TVEFSVF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFdlIHN0YXJ0ZWQgYSB3ZWlyZCBjb21tZW50LCBsaWtlIDwve1xuICAgICAgICAgIHJlZ2V4ID0gY29tbWVudDJFbmRSZWdleDtcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaFtUQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChyYXdUZXh0RWxlbWVudC50ZXN0KG1hdGNoW1RBR19OQU1FXSkpIHtcbiAgICAgICAgICAgIC8vIFJlY29yZCBpZiB3ZSBlbmNvdW50ZXIgYSByYXctdGV4dCBlbGVtZW50LiBXZSdsbCBzd2l0Y2ggdG9cbiAgICAgICAgICAgIC8vIHRoaXMgcmVnZXggYXQgdGhlIGVuZCBvZiB0aGUgdGFnLlxuICAgICAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPC8ke21hdGNoW1RBR19OQU1FXX1gLCAnZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9IGVsc2UgaWYgKG1hdGNoW0RZTkFNSUNfVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ0JpbmRpbmdzIGluIHRhZyBuYW1lcyBhcmUgbm90IHN1cHBvcnRlZC4gUGxlYXNlIHVzZSBzdGF0aWMgdGVtcGxhdGVzIGluc3RlYWQuICcgK1xuICAgICAgICAgICAgICAgICdTZWUgaHR0cHM6Ly9saXQuZGV2L2RvY3MvdGVtcGxhdGVzL2V4cHJlc3Npb25zLyNzdGF0aWMtZXhwcmVzc2lvbnMnXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2V4ID09PSB0YWdFbmRSZWdleCkge1xuICAgICAgICBpZiAobWF0Y2hbRU5USVJFX01BVENIXSA9PT0gJz4nKSB7XG4gICAgICAgICAgLy8gRW5kIG9mIGEgdGFnLiBJZiB3ZSBoYWQgc3RhcnRlZCBhIHJhdy10ZXh0IGVsZW1lbnQsIHVzZSB0aGF0XG4gICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICByZWdleCA9IHJhd1RleHRFbmRSZWdleCA/PyB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgLy8gV2UgbWF5IGJlIGVuZGluZyBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUsIHNvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAgIC8vIGNsZWFyIGFueSBwZW5kaW5nIGF0dHJOYW1lRW5kSW5kZXhcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbQVRUUklCVVRFX05BTUVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBBdHRyaWJ1dGUgbmFtZSBwb3NpdGlvblxuICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gcmVnZXgubGFzdEluZGV4IC0gbWF0Y2hbU1BBQ0VTX0FORF9FUVVBTFNdLmxlbmd0aDtcbiAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICByZWdleCA9XG4gICAgICAgICAgICBtYXRjaFtRVU9URV9DSEFSXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgOiBtYXRjaFtRVU9URV9DSEFSXSA9PT0gJ1wiJ1xuICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICA6IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4O1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4XG4gICAgICApIHtcbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgIH0gZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICByZWdleCA9IHRleHRFbmRSZWdleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vdCBvbmUgb2YgdGhlIGZpdmUgc3RhdGUgcmVnZXhlcywgc28gaXQgbXVzdCBiZSB0aGUgZHluYW1pY2FsbHlcbiAgICAgICAgLy8gY3JlYXRlZCByYXcgdGV4dCByZWdleCBhbmQgd2UncmUgYXQgdGhlIGNsb3NlIG9mIHRoYXQgZWxlbWVudC5cbiAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgcmF3VGV4dEVuZFJlZ2V4ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgLy8gSWYgd2UgaGF2ZSBhIGF0dHJOYW1lRW5kSW5kZXgsIHdoaWNoIGluZGljYXRlcyB0aGF0IHdlIHNob3VsZFxuICAgICAgLy8gcmV3cml0ZSB0aGUgYXR0cmlidXRlIG5hbWUsIGFzc2VydCB0aGF0IHdlJ3JlIGluIGEgdmFsaWQgYXR0cmlidXRlXG4gICAgICAvLyBwb3NpdGlvbiAtIGVpdGhlciBpbiBhIHRhZywgb3IgYSBxdW90ZWQgYXR0cmlidXRlIHZhbHVlLlxuICAgICAgY29uc29sZS5hc3NlcnQoXG4gICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPT09IC0xIHx8XG4gICAgICAgICAgcmVnZXggPT09IHRhZ0VuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IHNpbmdsZVF1b3RlQXR0ckVuZFJlZ2V4IHx8XG4gICAgICAgICAgcmVnZXggPT09IGRvdWJsZVF1b3RlQXR0ckVuZFJlZ2V4LFxuICAgICAgICAndW5leHBlY3RlZCBwYXJzZSBzdGF0ZSBCJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBXZSBoYXZlIGZvdXIgY2FzZXM6XG4gICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgLy8gICAgIChyZWdleCA9PT0gdGV4dEVuZFJlZ2V4KTogaW5zZXJ0IGEgY29tbWVudCBtYXJrZXIuXG4gICAgLy8gIDIuIFdlIGhhdmUgYSBub24tbmVnYXRpdmUgYXR0ck5hbWVFbmRJbmRleCB3aGljaCBtZWFucyB3ZSBuZWVkIHRvXG4gICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgLy8gIDMuIFdlJ3JlIGF0IHRoZSBub24tZmlyc3QgYmluZGluZyBpbiBhIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlLCB1c2UgYVxuICAgIC8vICAgICBwbGFpbiBtYXJrZXIuXG4gICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgIC8vICAgICBwb3NpdGlvbiAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIpLCBhZGQgYSBzZXF1ZW50aWFsIHN1ZmZpeCB0b1xuICAgIC8vICAgICBnZW5lcmF0ZSBhIHVuaXF1ZSBhdHRyaWJ1dGUgbmFtZS5cblxuICAgIC8vIERldGVjdCBhIGJpbmRpbmcgbmV4dCB0byBzZWxmLWNsb3NpbmcgdGFnIGVuZCBhbmQgaW5zZXJ0IGEgc3BhY2UgdG9cbiAgICAvLyBzZXBhcmF0ZSB0aGUgbWFya2VyIGZyb20gdGhlIHRhZyBlbmQ6XG4gICAgY29uc3QgZW5kID1cbiAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCAmJiBzdHJpbmdzW2kgKyAxXS5zdGFydHNXaXRoKCcvPicpID8gJyAnIDogJyc7XG4gICAgaHRtbCArPVxuICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICA/IHMgKyBub2RlTWFya2VyXG4gICAgICAgIDogYXR0ck5hbWVFbmRJbmRleCA+PSAwXG4gICAgICAgICAgPyAoYXR0ck5hbWVzLnB1c2goYXR0ck5hbWUhKSxcbiAgICAgICAgICAgIHMuc2xpY2UoMCwgYXR0ck5hbWVFbmRJbmRleCkgK1xuICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgIHMuc2xpY2UoYXR0ck5hbWVFbmRJbmRleCkpICtcbiAgICAgICAgICAgIG1hcmtlciArXG4gICAgICAgICAgICBlbmRcbiAgICAgICAgICA6IHMgKyBtYXJrZXIgKyAoYXR0ck5hbWVFbmRJbmRleCA9PT0gLTIgPyBpIDogZW5kKTtcbiAgfVxuXG4gIGNvbnN0IGh0bWxSZXN1bHQ6IHN0cmluZyB8IFRydXN0ZWRIVE1MID1cbiAgICBodG1sICtcbiAgICAoc3RyaW5nc1tsXSB8fCAnPD8+JykgK1xuICAgICh0eXBlID09PSBTVkdfUkVTVUxUID8gJzwvc3ZnPicgOiB0eXBlID09PSBNQVRITUxfUkVTVUxUID8gJzwvbWF0aD4nIDogJycpO1xuXG4gIC8vIFJldHVybmVkIGFzIGFuIGFycmF5IGZvciB0ZXJzZW5lc3NcbiAgcmV0dXJuIFt0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyhzdHJpbmdzLCBodG1sUmVzdWx0KSwgYXR0ck5hbWVzXTtcbn07XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCB0eXBlIHtUZW1wbGF0ZX07XG5jbGFzcyBUZW1wbGF0ZSB7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZWwhOiBIVE1MVGVtcGxhdGVFbGVtZW50O1xuXG4gIHBhcnRzOiBBcnJheTxUZW1wbGF0ZVBhcnQ+ID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB7c3RyaW5ncywgWydfJGxpdFR5cGUkJ106IHR5cGV9OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQsXG4gICAgb3B0aW9ucz86IFJlbmRlck9wdGlvbnNcbiAgKSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICBjb25zdCBwYXJ0Q291bnQgPSBzdHJpbmdzLmxlbmd0aCAtIDE7XG4gICAgY29uc3QgcGFydHMgPSB0aGlzLnBhcnRzO1xuXG4gICAgLy8gQ3JlYXRlIHRlbXBsYXRlIGVsZW1lbnRcbiAgICBjb25zdCBbaHRtbCwgYXR0ck5hbWVzXSA9IGdldFRlbXBsYXRlSHRtbChzdHJpbmdzLCB0eXBlKTtcbiAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSB0aGlzLmVsLmNvbnRlbnQ7XG5cbiAgICAvLyBSZS1wYXJlbnQgU1ZHIG9yIE1hdGhNTCBub2RlcyBpbnRvIHRlbXBsYXRlIHJvb3RcbiAgICBpZiAodHlwZSA9PT0gU1ZHX1JFU1VMVCB8fCB0eXBlID09PSBNQVRITUxfUkVTVUxUKSB7XG4gICAgICBjb25zdCB3cmFwcGVyID0gdGhpcy5lbC5jb250ZW50LmZpcnN0Q2hpbGQhO1xuICAgICAgd3JhcHBlci5yZXBsYWNlV2l0aCguLi53cmFwcGVyLmNoaWxkTm9kZXMpO1xuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgIHdoaWxlICgobm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSAhPT0gbnVsbCAmJiBwYXJ0cy5sZW5ndGggPCBwYXJ0Q291bnQpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgIGNvbnN0IHRhZyA9IChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAvLyBXYXJuIGlmIGB0ZXh0YXJlYWAgaW5jbHVkZXMgYW4gZXhwcmVzc2lvbiBhbmQgdGhyb3cgaWYgYHRlbXBsYXRlYFxuICAgICAgICAgIC8vIGRvZXMgc2luY2UgdGhlc2UgYXJlIG5vdCBzdXBwb3J0ZWQuIFdlIGRvIHRoaXMgYnkgY2hlY2tpbmdcbiAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgLy8gY2FzZXMgbGlrZSBiaW5kaW5ncyBpbiB0ZXh0YXJlYSB0aGVyZSBtYXJrZXJzIHR1cm4gaW50byB0ZXh0IG5vZGVzLlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pIS50ZXN0KHRhZykgJiZcbiAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmlubmVySFRNTC5pbmNsdWRlcyhtYXJrZXIpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtID1cbiAgICAgICAgICAgICAgYEV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBcXGAke3RhZ31cXGAgYCArXG4gICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgIGBpbmZvcm1hdGlvbi5gO1xuICAgICAgICAgICAgaWYgKHRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobSk7XG4gICAgICAgICAgICB9IGVsc2UgaXNzdWVXYXJuaW5nKCcnLCBtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmluZGluZ0luZGV4LCBhbmQgaXQnbGwgYmUgb2ZmIGJ5IDEgaW4gdGhlIGVsZW1lbnRcbiAgICAgICAgLy8gYW5kIG9mZiBieSB0d28gYWZ0ZXIgaXQuXG4gICAgICAgIGlmICgobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlTmFtZXMoKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoYm91bmRBdHRyaWJ1dGVTdWZmaXgpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlYWxOYW1lID0gYXR0ck5hbWVzW2F0dHJOYW1lSW5kZXgrK107XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpITtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhdGljcyA9IHZhbHVlLnNwbGl0KG1hcmtlcik7XG4gICAgICAgICAgICAgIGNvbnN0IG0gPSAvKFsuP0BdKT8oLiopLy5leGVjKHJlYWxOYW1lKSE7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEFUVFJJQlVURV9QQVJULFxuICAgICAgICAgICAgICAgIGluZGV4OiBub2RlSW5kZXgsXG4gICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICBzdHJpbmdzOiBzdGF0aWNzLFxuICAgICAgICAgICAgICAgIGN0b3I6XG4gICAgICAgICAgICAgICAgICBtWzFdID09PSAnLidcbiAgICAgICAgICAgICAgICAgICAgPyBQcm9wZXJ0eVBhcnRcbiAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnPydcbiAgICAgICAgICAgICAgICAgICAgICA/IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IEF0dHJpYnV0ZVBhcnQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUuc3RhcnRzV2l0aChtYXJrZXIpKSB7XG4gICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IEVMRU1FTlRfUEFSVCxcbiAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogYmVuY2htYXJrIHRoZSByZWdleCBhZ2FpbnN0IHRlc3RpbmcgZm9yIGVhY2hcbiAgICAgICAgLy8gb2YgdGhlIDMgcmF3IHRleHQgZWxlbWVudCBuYW1lcy5cbiAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QoKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSkpIHtcbiAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgLy8gbWFya2VycywgY3JlYXRlIGEgVGV4dCBub2RlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjcmVhdGVcbiAgICAgICAgICAvLyBhIFRlbXBsYXRlUGFydCBmb3IgZWFjaCBtYXJrZXIuXG4gICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IChub2RlIGFzIEVsZW1lbnQpLnRleHRDb250ZW50IS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkudGV4dENvbnRlbnQgPSB0cnVzdGVkVHlwZXNcbiAgICAgICAgICAgICAgPyAodHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0IGFzIHVua25vd24gYXMgJycpXG4gICAgICAgICAgICAgIDogJyc7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAvLyBUaGVzZSBub2RlcyBhcmUgYWxzbyB1c2VkIGFzIHRoZSBtYXJrZXJzIGZvciBub2RlIHBhcnRzXG4gICAgICAgICAgICAvLyBXZSBjYW4ndCB1c2UgZW1wdHkgdGV4dCBub2RlcyBhcyBtYXJrZXJzIGJlY2F1c2UgdGhleSdyZVxuICAgICAgICAgICAgLy8gbm9ybWFsaXplZCB3aGVuIGNsb25pbmcgaW4gSUUgKGNvdWxkIHNpbXBsaWZ5IHdoZW5cbiAgICAgICAgICAgIC8vIElFIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmFwcGVuZChzdHJpbmdzW2ldLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgIC8vIFdhbGsgcGFzdCB0aGUgbWFya2VyIG5vZGUgd2UganVzdCBhZGRlZFxuICAgICAgICAgICAgICB3YWxrZXIubmV4dE5vZGUoKTtcbiAgICAgICAgICAgICAgcGFydHMucHVzaCh7dHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6ICsrbm9kZUluZGV4fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOb3RlIGJlY2F1c2UgdGhpcyBtYXJrZXIgaXMgYWRkZWQgYWZ0ZXIgdGhlIHdhbGtlcidzIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIG5vZGUsIGl0IHdpbGwgYmUgd2Fsa2VkIHRvIGluIHRoZSBvdXRlciBsb29wIChhbmQgaWdub3JlZCksIHNvXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGFkanVzdCBub2RlSW5kZXggaGVyZVxuICAgICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuYXBwZW5kKHN0cmluZ3NbbGFzdEluZGV4XSwgY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSAobm9kZSBhcyBDb21tZW50KS5kYXRhO1xuICAgICAgICBpZiAoZGF0YSA9PT0gbWFya2VyTWF0Y2gpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHt0eXBlOiBDSElMRF9QQVJULCBpbmRleDogbm9kZUluZGV4fSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGkgPSAtMTtcbiAgICAgICAgICB3aGlsZSAoKGkgPSAobm9kZSBhcyBDb21tZW50KS5kYXRhLmluZGV4T2YobWFya2VyLCBpICsgMSkpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gQ29tbWVudCBub2RlIGhhcyBhIGJpbmRpbmcgbWFya2VyIGluc2lkZSwgbWFrZSBhbiBpbmFjdGl2ZSBwYXJ0XG4gICAgICAgICAgICAvLyBUaGUgYmluZGluZyB3b24ndCB3b3JrLCBidXQgc3Vic2VxdWVudCBiaW5kaW5ncyB3aWxsXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHt0eXBlOiBDT01NRU5UX1BBUlQsIGluZGV4OiBub2RlSW5kZXh9KTtcbiAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2hcbiAgICAgICAgICAgIGkgKz0gbWFya2VyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlSW5kZXgrKztcbiAgICB9XG5cbiAgICBpZiAoREVWX01PREUpIHtcbiAgICAgIC8vIElmIHRoZXJlIHdhcyBhIGR1cGxpY2F0ZSBhdHRyaWJ1dGUgb24gYSB0YWcsIHRoZW4gd2hlbiB0aGUgdGFnIGlzXG4gICAgICAvLyBwYXJzZWQgaW50byBhbiBlbGVtZW50IHRoZSBhdHRyaWJ1dGUgZ2V0cyBkZS1kdXBsaWNhdGVkLiBXZSBjYW4gZGV0ZWN0XG4gICAgICAvLyB0aGlzIG1pc21hdGNoIGlmIHdlIGhhdmVuJ3QgcHJlY2lzZWx5IGNvbnN1bWVkIGV2ZXJ5IGF0dHJpYnV0ZSBuYW1lXG4gICAgICAvLyB3aGVuIHByZXBhcmluZyB0aGUgdGVtcGxhdGUuIFRoaXMgd29ya3MgYmVjYXVzZSBgYXR0ck5hbWVzYCBpcyBidWlsdFxuICAgICAgLy8gZnJvbSB0aGUgdGVtcGxhdGUgc3RyaW5nIGFuZCBgYXR0ck5hbWVJbmRleGAgY29tZXMgZnJvbSBwcm9jZXNzaW5nIHRoZVxuICAgICAgLy8gcmVzdWx0aW5nIERPTS5cbiAgICAgIGlmIChhdHRyTmFtZXMubGVuZ3RoICE9PSBhdHRyTmFtZUluZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgRGV0ZWN0ZWQgZHVwbGljYXRlIGF0dHJpYnV0ZSBiaW5kaW5ncy4gVGhpcyBvY2N1cnMgaWYgeW91ciB0ZW1wbGF0ZSBgICtcbiAgICAgICAgICAgIGBoYXMgZHVwbGljYXRlIGF0dHJpYnV0ZXMgb24gYW4gZWxlbWVudCB0YWcuIEZvciBleGFtcGxlIGAgK1xuICAgICAgICAgICAgYFwiPGlucHV0ID9kaXNhYmxlZD1cXCR7dHJ1ZX0gP2Rpc2FibGVkPVxcJHtmYWxzZX0+XCIgY29udGFpbnMgYSBgICtcbiAgICAgICAgICAgIGBkdXBsaWNhdGUgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZS4gVGhlIGVycm9yIHdhcyBkZXRlY3RlZCBpbiBgICtcbiAgICAgICAgICAgIGB0aGUgZm9sbG93aW5nIHRlbXBsYXRlOiBcXG5gICtcbiAgICAgICAgICAgICdgJyArXG4gICAgICAgICAgICBzdHJpbmdzLmpvaW4oJyR7Li4ufScpICtcbiAgICAgICAgICAgICdgJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlIGNvdWxkIHNldCB3YWxrZXIuY3VycmVudE5vZGUgdG8gYW5vdGhlciBub2RlIGhlcmUgdG8gcHJldmVudCBhIG1lbW9yeVxuICAgIC8vIGxlYWssIGJ1dCBldmVyeSB0aW1lIHdlIHByZXBhcmUgYSB0ZW1wbGF0ZSwgd2UgaW1tZWRpYXRlbHkgcmVuZGVyIGl0XG4gICAgLy8gYW5kIHJlLXVzZSB0aGUgd2Fsa2VyIGluIG5ldyBUZW1wbGF0ZUluc3RhbmNlLl9jbG9uZSgpLlxuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAndGVtcGxhdGUgcHJlcCcsXG4gICAgICAgIHRlbXBsYXRlOiB0aGlzLFxuICAgICAgICBjbG9uYWJsZVRlbXBsYXRlOiB0aGlzLmVsLFxuICAgICAgICBwYXJ0czogdGhpcy5wYXJ0cyxcbiAgICAgICAgc3RyaW5ncyxcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgLyoqIEBub2NvbGxhcHNlICovXG4gIHN0YXRpYyBjcmVhdGVFbGVtZW50KGh0bWw6IFRydXN0ZWRIVE1MLCBfb3B0aW9ucz86IFJlbmRlck9wdGlvbnMpIHtcbiAgICBjb25zdCBlbCA9IGQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICBlbC5pbm5lckhUTUwgPSBodG1sIGFzIHVua25vd24gYXMgc3RyaW5nO1xuICAgIHJldHVybiBlbDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERpc2Nvbm5lY3RhYmxlIHtcbiAgXyRwYXJlbnQ/OiBEaXNjb25uZWN0YWJsZTtcbiAgXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuPzogU2V0PERpc2Nvbm5lY3RhYmxlPjtcbiAgLy8gUmF0aGVyIHRoYW4gaG9sZCBjb25uZWN0aW9uIHN0YXRlIG9uIGluc3RhbmNlcywgRGlzY29ubmVjdGFibGVzIHJlY3Vyc2l2ZWx5XG4gIC8vIGZldGNoIHRoZSBjb25uZWN0aW9uIHN0YXRlIGZyb20gdGhlIFJvb3RQYXJ0IHRoZXkgYXJlIGNvbm5lY3RlZCBpbiB2aWFcbiAgLy8gZ2V0dGVycyB1cCB0aGUgRGlzY29ubmVjdGFibGUgdHJlZSB2aWEgXyRwYXJlbnQgcmVmZXJlbmNlcy4gVGhpcyBwdXNoZXMgdGhlXG4gIC8vIGNvc3Qgb2YgdHJhY2tpbmcgdGhlIGlzQ29ubmVjdGVkIHN0YXRlIHRvIGBBc3luY0RpcmVjdGl2ZXNgLCBhbmQgYXZvaWRzXG4gIC8vIG5lZWRpbmcgdG8gcGFzcyBhbGwgRGlzY29ubmVjdGFibGVzIChwYXJ0cywgdGVtcGxhdGUgaW5zdGFuY2VzLCBhbmRcbiAgLy8gZGlyZWN0aXZlcykgdGhlaXIgY29ubmVjdGlvbiBzdGF0ZSBlYWNoIHRpbWUgaXQgY2hhbmdlcywgd2hpY2ggd291bGQgYmVcbiAgLy8gY29zdGx5IGZvciB0cmVlcyB0aGF0IGhhdmUgbm8gQXN5bmNEaXJlY3RpdmVzLlxuICBfJGlzQ29ubmVjdGVkOiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKFxuICBwYXJ0OiBDaGlsZFBhcnQgfCBBdHRyaWJ1dGVQYXJ0IHwgRWxlbWVudFBhcnQsXG4gIHZhbHVlOiB1bmtub3duLFxuICBwYXJlbnQ6IERpcmVjdGl2ZVBhcmVudCA9IHBhcnQsXG4gIGF0dHJpYnV0ZUluZGV4PzogbnVtYmVyXG4pOiB1bmtub3duIHtcbiAgLy8gQmFpbCBlYXJseSBpZiB0aGUgdmFsdWUgaXMgZXhwbGljaXRseSBub0NoYW5nZS4gTm90ZSwgdGhpcyBtZWFucyBhbnlcbiAgLy8gbmVzdGVkIGRpcmVjdGl2ZSBpcyBzdGlsbCBhdHRhY2hlZCBhbmQgaXMgbm90IHJ1bi5cbiAgaWYgKHZhbHVlID09PSBub0NoYW5nZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBsZXQgY3VycmVudERpcmVjdGl2ZSA9XG4gICAgYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZFxuICAgICAgPyAocGFyZW50IGFzIEF0dHJpYnV0ZVBhcnQpLl9fZGlyZWN0aXZlcz8uW2F0dHJpYnV0ZUluZGV4XVxuICAgICAgOiAocGFyZW50IGFzIENoaWxkUGFydCB8IEVsZW1lbnRQYXJ0IHwgRGlyZWN0aXZlKS5fX2RpcmVjdGl2ZTtcbiAgY29uc3QgbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID0gaXNQcmltaXRpdmUodmFsdWUpXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAodmFsdWUgYXMgRGlyZWN0aXZlUmVzdWx0KVsnXyRsaXREaXJlY3RpdmUkJ107XG4gIGlmIChjdXJyZW50RGlyZWN0aXZlPy5jb25zdHJ1Y3RvciAhPT0gbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKSB7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBjdXJyZW50RGlyZWN0aXZlPy5bJ18kbm90aWZ5RGlyZWN0aXZlQ29ubmVjdGlvbkNoYW5nZWQnXT8uKGZhbHNlKTtcbiAgICBpZiAobmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUgPSBuZXcgbmV4dERpcmVjdGl2ZUNvbnN0cnVjdG9yKHBhcnQgYXMgUGFydEluZm8pO1xuICAgICAgY3VycmVudERpcmVjdGl2ZS5fJGluaXRpYWxpemUocGFydCwgcGFyZW50LCBhdHRyaWJ1dGVJbmRleCk7XG4gICAgfVxuICAgIGlmIChhdHRyaWJ1dGVJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAoKHBhcmVudCBhcyBBdHRyaWJ1dGVQYXJ0KS5fX2RpcmVjdGl2ZXMgPz89IFtdKVthdHRyaWJ1dGVJbmRleF0gPVxuICAgICAgICBjdXJyZW50RGlyZWN0aXZlO1xuICAgIH0gZWxzZSB7XG4gICAgICAocGFyZW50IGFzIENoaWxkUGFydCB8IERpcmVjdGl2ZSkuX19kaXJlY3RpdmUgPSBjdXJyZW50RGlyZWN0aXZlO1xuICAgIH1cbiAgfVxuICBpZiAoY3VycmVudERpcmVjdGl2ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKFxuICAgICAgcGFydCxcbiAgICAgIGN1cnJlbnREaXJlY3RpdmUuXyRyZXNvbHZlKHBhcnQsICh2YWx1ZSBhcyBEaXJlY3RpdmVSZXN1bHQpLnZhbHVlcyksXG4gICAgICBjdXJyZW50RGlyZWN0aXZlLFxuICAgICAgYXR0cmlidXRlSW5kZXhcbiAgICApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHR5cGUge1RlbXBsYXRlSW5zdGFuY2V9O1xuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIGluc3RhbmNlIG9mIGEgVGVtcGxhdGUuIEhvbGRzIHJlZmVyZW5jZXMgdG8gdGhlIFBhcnRzIHVzZWQgdG9cbiAqIHVwZGF0ZSB0aGUgdGVtcGxhdGUgaW5zdGFuY2UuXG4gKi9cbmNsYXNzIFRlbXBsYXRlSW5zdGFuY2UgaW1wbGVtZW50cyBEaXNjb25uZWN0YWJsZSB7XG4gIF8kdGVtcGxhdGU6IFRlbXBsYXRlO1xuICBfJHBhcnRzOiBBcnJheTxQYXJ0IHwgdW5kZWZpbmVkPiA9IFtdO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IENoaWxkUGFydDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHRlbXBsYXRlOiBUZW1wbGF0ZSwgcGFyZW50OiBDaGlsZFBhcnQpIHtcbiAgICB0aGlzLl8kdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICB9XG5cbiAgLy8gQ2FsbGVkIGJ5IENoaWxkUGFydCBwYXJlbnROb2RlIGdldHRlclxuICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5wYXJlbnROb2RlO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgLy8gVGhpcyBtZXRob2QgaXMgc2VwYXJhdGUgZnJvbSB0aGUgY29uc3RydWN0b3IgYmVjYXVzZSB3ZSBuZWVkIHRvIHJldHVybiBhXG4gIC8vIERvY3VtZW50RnJhZ21lbnQgYW5kIHdlIGRvbid0IHdhbnQgdG8gaG9sZCBvbnRvIGl0IHdpdGggYW4gaW5zdGFuY2UgZmllbGQuXG4gIF9jbG9uZShvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3Qge1xuICAgICAgZWw6IHtjb250ZW50fSxcbiAgICAgIHBhcnRzOiBwYXJ0cyxcbiAgICB9ID0gdGhpcy5fJHRlbXBsYXRlO1xuICAgIGNvbnN0IGZyYWdtZW50ID0gKG9wdGlvbnM/LmNyZWF0aW9uU2NvcGUgPz8gZCkuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKTtcbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBmcmFnbWVudDtcblxuICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCkhO1xuICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgIGxldCB0ZW1wbGF0ZVBhcnQgPSBwYXJ0c1swXTtcblxuICAgIHdoaWxlICh0ZW1wbGF0ZVBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKG5vZGVJbmRleCA9PT0gdGVtcGxhdGVQYXJ0LmluZGV4KSB7XG4gICAgICAgIGxldCBwYXJ0OiBQYXJ0IHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IENISUxEX1BBUlQpIHtcbiAgICAgICAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgICAgICAgIG5vZGUgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICBub2RlLm5leHRTaWJsaW5nLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHRlbXBsYXRlUGFydC50eXBlID09PSBBVFRSSUJVVEVfUEFSVCkge1xuICAgICAgICAgIHBhcnQgPSBuZXcgdGVtcGxhdGVQYXJ0LmN0b3IoXG4gICAgICAgICAgICBub2RlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgdGVtcGxhdGVQYXJ0Lm5hbWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVBhcnQuc3RyaW5ncyxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gRUxFTUVOVF9QQVJUKSB7XG4gICAgICAgICAgcGFydCA9IG5ldyBFbGVtZW50UGFydChub2RlIGFzIEhUTUxFbGVtZW50LCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kcGFydHMucHVzaChwYXJ0KTtcbiAgICAgICAgdGVtcGxhdGVQYXJ0ID0gcGFydHNbKytwYXJ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGVJbmRleCAhPT0gdGVtcGxhdGVQYXJ0Py5pbmRleCkge1xuICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCkhO1xuICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gV2UgbmVlZCB0byBzZXQgdGhlIGN1cnJlbnROb2RlIGF3YXkgZnJvbSB0aGUgY2xvbmVkIHRyZWUgc28gdGhhdCB3ZVxuICAgIC8vIGRvbid0IGhvbGQgb250byB0aGUgdHJlZSBldmVuIGlmIHRoZSB0cmVlIGlzIGRldGFjaGVkIGFuZCBzaG91bGQgYmVcbiAgICAvLyBmcmVlZC5cbiAgICB3YWxrZXIuY3VycmVudE5vZGUgPSBkO1xuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfVxuXG4gIF91cGRhdGUodmFsdWVzOiBBcnJheTx1bmtub3duPikge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fJHBhcnRzKSB7XG4gICAgICBpZiAocGFydCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdzZXQgcGFydCcsXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlc1tpXSxcbiAgICAgICAgICAgIHZhbHVlSW5kZXg6IGksXG4gICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICB0ZW1wbGF0ZUluc3RhbmNlOiB0aGlzLFxuICAgICAgICAgIH0pO1xuICAgICAgICBpZiAoKHBhcnQgYXMgQXR0cmlidXRlUGFydCkuc3RyaW5ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgKHBhcnQgYXMgQXR0cmlidXRlUGFydCkuXyRzZXRWYWx1ZSh2YWx1ZXMsIHBhcnQgYXMgQXR0cmlidXRlUGFydCwgaSk7XG4gICAgICAgICAgLy8gVGhlIG51bWJlciBvZiB2YWx1ZXMgdGhlIHBhcnQgY29uc3VtZXMgaXMgcGFydC5zdHJpbmdzLmxlbmd0aCAtIDFcbiAgICAgICAgICAvLyBzaW5jZSB2YWx1ZXMgYXJlIGluIGJldHdlZW4gdGVtcGxhdGUgc3BhbnMuIFdlIGluY3JlbWVudCBpIGJ5IDFcbiAgICAgICAgICAvLyBsYXRlciBpbiB0aGUgbG9vcCwgc28gaW5jcmVtZW50IGl0IGJ5IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyIGhlcmVcbiAgICAgICAgICBpICs9IChwYXJ0IGFzIEF0dHJpYnV0ZVBhcnQpLnN0cmluZ3MhLmxlbmd0aCAtIDI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gIH1cbn1cblxuLypcbiAqIFBhcnRzXG4gKi9cbnR5cGUgQXR0cmlidXRlVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQVRUUklCVVRFX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgY3RvcjogdHlwZW9mIEF0dHJpYnV0ZVBhcnQ7XG4gIHJlYWRvbmx5IHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbn07XG50eXBlIENoaWxkVGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQ0hJTERfUEFSVDtcbiAgcmVhZG9ubHkgaW5kZXg6IG51bWJlcjtcbn07XG50eXBlIEVsZW1lbnRUZW1wbGF0ZVBhcnQgPSB7XG4gIHJlYWRvbmx5IHR5cGU6IHR5cGVvZiBFTEVNRU5UX1BBUlQ7XG4gIHJlYWRvbmx5IGluZGV4OiBudW1iZXI7XG59O1xudHlwZSBDb21tZW50VGVtcGxhdGVQYXJ0ID0ge1xuICByZWFkb25seSB0eXBlOiB0eXBlb2YgQ09NTUVOVF9QQVJUO1xuICByZWFkb25seSBpbmRleDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBBIFRlbXBsYXRlUGFydCByZXByZXNlbnRzIGEgZHluYW1pYyBwYXJ0IGluIGEgdGVtcGxhdGUsIGJlZm9yZSB0aGUgdGVtcGxhdGVcbiAqIGlzIGluc3RhbnRpYXRlZC4gV2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZCBQYXJ0cyBhcmUgY3JlYXRlZCBmcm9tXG4gKiBUZW1wbGF0ZVBhcnRzLlxuICovXG50eXBlIFRlbXBsYXRlUGFydCA9XG4gIHwgQ2hpbGRUZW1wbGF0ZVBhcnRcbiAgfCBBdHRyaWJ1dGVUZW1wbGF0ZVBhcnRcbiAgfCBFbGVtZW50VGVtcGxhdGVQYXJ0XG4gIHwgQ29tbWVudFRlbXBsYXRlUGFydDtcblxuZXhwb3J0IHR5cGUgUGFydCA9XG4gIHwgQ2hpbGRQYXJ0XG4gIHwgQXR0cmlidXRlUGFydFxuICB8IFByb3BlcnR5UGFydFxuICB8IEJvb2xlYW5BdHRyaWJ1dGVQYXJ0XG4gIHwgRWxlbWVudFBhcnRcbiAgfCBFdmVudFBhcnQ7XG5cbmV4cG9ydCB0eXBlIHtDaGlsZFBhcnR9O1xuY2xhc3MgQ2hpbGRQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlID0gQ0hJTERfUEFSVDtcbiAgcmVhZG9ubHkgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5rbm93biA9IG5vdGhpbmc7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRzdGFydE5vZGU6IENoaWxkTm9kZTtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGVuZE5vZGU6IENoaWxkTm9kZSB8IG51bGw7XG4gIHByaXZhdGUgX3RleHRTYW5pdGl6ZXI6IFZhbHVlU2FuaXRpemVyIHwgdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF8kcGFyZW50OiBEaXNjb25uZWN0YWJsZSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIENvbm5lY3Rpb24gc3RhdGUgZm9yIFJvb3RQYXJ0cyBvbmx5IChpLmUuIENoaWxkUGFydCB3aXRob3V0IF8kcGFyZW50XG4gICAqIHJldHVybmVkIGZyb20gdG9wLWxldmVsIGByZW5kZXJgKS4gVGhpcyBmaWVsZCBpcyB1bnVzZWQgb3RoZXJ3aXNlLiBUaGVcbiAgICogaW50ZW50aW9uIHdvdWxkIGJlIGNsZWFyZXIgaWYgd2UgbWFkZSBgUm9vdFBhcnRgIGEgc3ViY2xhc3Mgb2YgYENoaWxkUGFydGBcbiAgICogd2l0aCB0aGlzIGZpZWxkIChhbmQgYSBkaWZmZXJlbnQgXyRpc0Nvbm5lY3RlZCBnZXR0ZXIpLCBidXQgdGhlIHN1YmNsYXNzXG4gICAqIGNhdXNlZCBhIHBlcmYgcmVncmVzc2lvbiwgcG9zc2libHkgZHVlIHRvIG1ha2luZyBjYWxsIHNpdGVzIHBvbHltb3JwaGljLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9faXNDb25uZWN0ZWQ6IGJvb2xlYW47XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICAvLyBDaGlsZFBhcnRzIHRoYXQgYXJlIG5vdCBhdCB0aGUgcm9vdCBzaG91bGQgYWx3YXlzIGJlIGNyZWF0ZWQgd2l0aCBhXG4gICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgLy8gc3RhdGVcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudD8uXyRpc0Nvbm5lY3RlZCA/PyB0aGlzLl9faXNDb25uZWN0ZWQ7XG4gIH1cblxuICAvLyBUaGUgZm9sbG93aW5nIGZpZWxkcyB3aWxsIGJlIHBhdGNoZWQgb250byBDaGlsZFBhcnRzIHdoZW4gcmVxdWlyZWQgYnlcbiAgLy8gQXN5bmNEaXJlY3RpdmVcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4/OiBTZXQ8RGlzY29ubmVjdGFibGU+ID0gdW5kZWZpbmVkO1xuICAvKiogQGludGVybmFsICovXG4gIF8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQ/KFxuICAgIGlzQ29ubmVjdGVkOiBib29sZWFuLFxuICAgIHJlbW92ZUZyb21QYXJlbnQ/OiBib29sZWFuLFxuICAgIGZyb20/OiBudW1iZXJcbiAgKTogdm9pZDtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJHJlcGFyZW50RGlzY29ubmVjdGFibGVzPyhwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlKTogdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzdGFydE5vZGU6IENoaWxkTm9kZSxcbiAgICBlbmROb2RlOiBDaGlsZE5vZGUgfCBudWxsLFxuICAgIHBhcmVudDogVGVtcGxhdGVJbnN0YW5jZSB8IENoaWxkUGFydCB8IHVuZGVmaW5lZCxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuXyRzdGFydE5vZGUgPSBzdGFydE5vZGU7XG4gICAgdGhpcy5fJGVuZE5vZGUgPSBlbmROb2RlO1xuICAgIHRoaXMuXyRwYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAvLyBOb3RlIF9faXNDb25uZWN0ZWQgaXMgb25seSBldmVyIGFjY2Vzc2VkIG9uIFJvb3RQYXJ0cyAoaS5lLiB3aGVuIHRoZXJlIGlzXG4gICAgLy8gbm8gXyRwYXJlbnQpOyB0aGUgdmFsdWUgb24gYSBub24tcm9vdC1wYXJ0IGlzIFwiZG9uJ3QgY2FyZVwiLCBidXQgY2hlY2tpbmdcbiAgICAvLyBmb3IgcGFyZW50IHdvdWxkIGJlIG1vcmUgY29kZVxuICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IG9wdGlvbnM/LmlzQ29ubmVjdGVkID8/IHRydWU7XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgLy8gRXhwbGljaXRseSBpbml0aWFsaXplIGZvciBjb25zaXN0ZW50IGNsYXNzIHNoYXBlLlxuICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHBhcmVudCBub2RlIGludG8gd2hpY2ggdGhlIHBhcnQgcmVuZGVycyBpdHMgY29udGVudC5cbiAgICpcbiAgICogQSBDaGlsZFBhcnQncyBjb250ZW50IGNvbnNpc3RzIG9mIGEgcmFuZ2Ugb2YgYWRqYWNlbnQgY2hpbGQgbm9kZXMgb2ZcbiAgICogYC5wYXJlbnROb2RlYCwgcG9zc2libHkgYm9yZGVyZWQgYnkgJ21hcmtlciBub2RlcycgKGAuc3RhcnROb2RlYCBhbmRcbiAgICogYC5lbmROb2RlYCkuXG4gICAqXG4gICAqIC0gSWYgYm90aCBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAgYXJlIG5vbi1udWxsLCB0aGVuIHRoZSBwYXJ0J3MgY29udGVudFxuICAgKiBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgYmV0d2VlbiBgLnN0YXJ0Tm9kZWAgYW5kIGAuZW5kTm9kZWAsIGV4Y2x1c2l2ZWx5LlxuICAgKlxuICAgKiAtIElmIGAuc3RhcnROb2RlYCBpcyBub24tbnVsbCBidXQgYC5lbmROb2RlYCBpcyBudWxsLCB0aGVuIHRoZSBwYXJ0J3NcbiAgICogY29udGVudCBjb25zaXN0cyBvZiBhbGwgc2libGluZ3MgZm9sbG93aW5nIGAuc3RhcnROb2RlYCwgdXAgdG8gYW5kXG4gICAqIGluY2x1ZGluZyB0aGUgbGFzdCBjaGlsZCBvZiBgLnBhcmVudE5vZGVgLiBJZiBgLmVuZE5vZGVgIGlzIG5vbi1udWxsLCB0aGVuXG4gICAqIGAuc3RhcnROb2RlYCB3aWxsIGFsd2F5cyBiZSBub24tbnVsbC5cbiAgICpcbiAgICogLSBJZiBib3RoIGAuZW5kTm9kZWAgYW5kIGAuc3RhcnROb2RlYCBhcmUgbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICogY29uc2lzdHMgb2YgYWxsIGNoaWxkIG5vZGVzIG9mIGAucGFyZW50Tm9kZWAuXG4gICAqL1xuICBnZXQgcGFyZW50Tm9kZSgpOiBOb2RlIHtcbiAgICBsZXQgcGFyZW50Tm9kZTogTm9kZSA9IHdyYXAodGhpcy5fJHN0YXJ0Tm9kZSkucGFyZW50Tm9kZSE7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5fJHBhcmVudDtcbiAgICBpZiAoXG4gICAgICBwYXJlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgcGFyZW50Tm9kZT8ubm9kZVR5cGUgPT09IDExIC8qIE5vZGUuRE9DVU1FTlRfRlJBR01FTlQgKi9cbiAgICApIHtcbiAgICAgIC8vIElmIHRoZSBwYXJlbnROb2RlIGlzIGEgRG9jdW1lbnRGcmFnbWVudCwgaXQgbWF5IGJlIGJlY2F1c2UgdGhlIERPTSBpc1xuICAgICAgLy8gc3RpbGwgaW4gdGhlIGNsb25lZCBmcmFnbWVudCBkdXJpbmcgaW5pdGlhbCByZW5kZXI7IGlmIHNvLCBnZXQgdGhlIHJlYWxcbiAgICAgIC8vIHBhcmVudE5vZGUgdGhlIHBhcnQgd2lsbCBiZSBjb21taXR0ZWQgaW50byBieSBhc2tpbmcgdGhlIHBhcmVudC5cbiAgICAgIHBhcmVudE5vZGUgPSAocGFyZW50IGFzIENoaWxkUGFydCB8IFRlbXBsYXRlSW5zdGFuY2UpLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgbGVhZGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgKiBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldCBzdGFydE5vZGUoKTogTm9kZSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLl8kc3RhcnROb2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0J3MgdHJhaWxpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICogaW5mb3JtYXRpb24uXG4gICAqL1xuICBnZXQgZW5kTm9kZSgpOiBOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuXyRlbmROb2RlO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93biwgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzKTogdm9pZCB7XG4gICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgVGhpcyBcXGBDaGlsZFBhcnRcXGAgaGFzIG5vIFxcYHBhcmVudE5vZGVcXGAgYW5kIHRoZXJlZm9yZSBjYW5ub3QgYWNjZXB0IGEgdmFsdWUuIFRoaXMgbGlrZWx5IG1lYW5zIHRoZSBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIHBhcnQgd2FzIG1hbmlwdWxhdGVkIGluIGFuIHVuc3VwcG9ydGVkIHdheSBvdXRzaWRlIG9mIExpdCdzIGNvbnRyb2wgc3VjaCB0aGF0IHRoZSBwYXJ0J3MgbWFya2VyIG5vZGVzIHdlcmUgZWplY3RlZCBmcm9tIERPTS4gRm9yIGV4YW1wbGUsIHNldHRpbmcgdGhlIGVsZW1lbnQncyBcXGBpbm5lckhUTUxcXGAgb3IgXFxgdGV4dENvbnRlbnRcXGAgY2FuIGRvIHRoaXMuYFxuICAgICAgKTtcbiAgICB9XG4gICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQpO1xuICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgbm90aGluZyB0byBjaGlsZCcsXG4gICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLl8kc3RhcnROb2RlLFxuICAgICAgICAgICAgICBlbmQ6IHRoaXMuXyRlbmROb2RlLFxuICAgICAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuXyRjbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0aGlzLl8kY29tbWl0dGVkVmFsdWUgJiYgdmFsdWUgIT09IG5vQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgfVxuICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICB9IGVsc2UgaWYgKCh2YWx1ZSBhcyBUZW1wbGF0ZVJlc3VsdClbJ18kbGl0VHlwZSQnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl9jb21taXRUZW1wbGF0ZVJlc3VsdCh2YWx1ZSBhcyBUZW1wbGF0ZVJlc3VsdCk7XG4gICAgfSBlbHNlIGlmICgodmFsdWUgYXMgTm9kZSkubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMub3B0aW9ucz8uaG9zdCA9PT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fY29tbWl0VGV4dChcbiAgICAgICAgICBgW3Byb2JhYmxlIG1pc3Rha2U6IHJlbmRlcmVkIGEgdGVtcGxhdGUncyBob3N0IGluIGl0c2VsZiBgICtcbiAgICAgICAgICAgIGAoY29tbW9ubHkgY2F1c2VkIGJ5IHdyaXRpbmcgXFwke3RoaXN9IGluIGEgdGVtcGxhdGVdYFxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEF0dGVtcHRlZCB0byByZW5kZXIgdGhlIHRlbXBsYXRlIGhvc3RgLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIGBpbnNpZGUgaXRzZWxmLiBUaGlzIGlzIGFsbW9zdCBhbHdheXMgYSBtaXN0YWtlLCBhbmQgaW4gZGV2IG1vZGUgYCxcbiAgICAgICAgICBgd2UgcmVuZGVyIHNvbWUgd2FybmluZyB0ZXh0LiBJbiBwcm9kdWN0aW9uIGhvd2V2ZXIsIHdlJ2xsIGAsXG4gICAgICAgICAgYHJlbmRlciBpdCwgd2hpY2ggd2lsbCB1c3VhbGx5IHJlc3VsdCBpbiBhbiBlcnJvciwgYW5kIHNvbWV0aW1lcyBgLFxuICAgICAgICAgIGBpbiB0aGUgZWxlbWVudCBkaXNhcHBlYXJpbmcgZnJvbSB0aGUgRE9NLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fY29tbWl0Tm9kZSh2YWx1ZSBhcyBOb2RlKTtcbiAgICB9IGVsc2UgaWYgKGlzSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9jb21taXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEZhbGxiYWNrLCB3aWxsIHJlbmRlciB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uXG4gICAgICB0aGlzLl9jb21taXRUZXh0KHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9pbnNlcnQ8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpIHtcbiAgICByZXR1cm4gd3JhcCh3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGUhKS5pbnNlcnRCZWZvcmUoXG4gICAgICBub2RlLFxuICAgICAgdGhpcy5fJGVuZE5vZGVcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0Tm9kZSh2YWx1ZTogTm9kZSk6IHZvaWQge1xuICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTICYmXG4gICAgICAgIHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplclxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudE5vZGVOYW1lID0gdGhpcy5fJHN0YXJ0Tm9kZS5wYXJlbnROb2RlPy5ub2RlTmFtZTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnIHx8IHBhcmVudE5vZGVOYW1lID09PSAnU0NSSVBUJykge1xuICAgICAgICAgIGxldCBtZXNzYWdlID0gJ0ZvcmJpZGRlbic7XG4gICAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgYExpdCBkb2VzIG5vdCBzdXBwb3J0IGJpbmRpbmcgaW5zaWRlIHN0eWxlIG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICBgZXhmaWx0cmF0ZSBkYXRhIGFuZCBzcG9vZiBVSXMuIGAgK1xuICAgICAgICAgICAgICAgIGBDb25zaWRlciBpbnN0ZWFkIHVzaW5nIGNzc1xcYC4uLlxcYCBsaXRlcmFscyBgICtcbiAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBkbyBkeW5hbWljIHN0eWxpbmcgd2l0aCBgICtcbiAgICAgICAgICAgICAgICBgY3NzIGN1c3RvbSBwcm9wZXJ0aWVzLCA6OnBhcnRzLCA8c2xvdD5zLCBgICtcbiAgICAgICAgICAgICAgICBgYW5kIGJ5IG11dGF0aW5nIHRoZSBET00gcmF0aGVyIHRoYW4gc3R5bGVzaGVldHMuYDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzY3JpcHQgbm9kZXMuIGAgK1xuICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgaXQgY291bGQgYWxsb3cgYXJiaXRyYXJ5IGAgK1xuICAgICAgICAgICAgICAgIGBjb2RlIGV4ZWN1dGlvbi5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ2NvbW1pdCBub2RlJyxcbiAgICAgICAgICBzdGFydDogdGhpcy5fJHN0YXJ0Tm9kZSxcbiAgICAgICAgICBwYXJlbnQ6IHRoaXMuXyRwYXJlbnQsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB0aGlzLl9pbnNlcnQodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2NvbW1pdFRleHQodmFsdWU6IHVua25vd24pOiB2b2lkIHtcbiAgICAvLyBJZiB0aGUgY29tbWl0dGVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlIGl0IG1lYW5zIHdlIGNhbGxlZCBfY29tbWl0VGV4dCBvblxuICAgIC8vIHRoZSBwcmV2aW91cyByZW5kZXIsIGFuZCB3ZSBrbm93IHRoYXQgdGhpcy5fJHN0YXJ0Tm9kZS5uZXh0U2libGluZyBpcyBhXG4gICAgLy8gVGV4dCBub2RlLiBXZSBjYW4gbm93IGp1c3QgcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50ICguZGF0YSkgb2YgdGhlIG5vZGUuXG4gICAgaWYgKFxuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSBub3RoaW5nICYmXG4gICAgICBpc1ByaW1pdGl2ZSh0aGlzLl8kY29tbWl0dGVkVmFsdWUpXG4gICAgKSB7XG4gICAgICBjb25zdCBub2RlID0gd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyBhcyBUZXh0O1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBpZiAodGhpcy5fdGV4dFNhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcihub2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgKG5vZGUgYXMgVGV4dCkuZGF0YSA9IHZhbHVlIGFzIHN0cmluZztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBjb25zdCB0ZXh0Tm9kZSA9IGQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB0aGlzLl9jb21taXROb2RlKHRleHROb2RlKTtcbiAgICAgICAgLy8gV2hlbiBzZXR0aW5nIHRleHQgY29udGVudCwgZm9yIHNlY3VyaXR5IHB1cnBvc2VzIGl0IG1hdHRlcnMgYSBsb3RcbiAgICAgICAgLy8gd2hhdCB0aGUgcGFyZW50IGlzLiBGb3IgZXhhbXBsZSwgPHN0eWxlPiBhbmQgPHNjcmlwdD4gbmVlZCB0byBiZVxuICAgICAgICAvLyBoYW5kbGVkIHdpdGggY2FyZSwgd2hpbGUgPHNwYW4+IGRvZXMgbm90LiBTbyBmaXJzdCB3ZSBuZWVkIHRvIHB1dCBhXG4gICAgICAgIC8vIHRleHQgbm9kZSBpbnRvIHRoZSBkb2N1bWVudCwgdGhlbiB3ZSBjYW4gc2FuaXRpemUgaXRzIGNvbnRlbnQuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl90ZXh0U2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyKHRleHROb2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gdGhpcy5fdGV4dFNhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICAgIGtpbmQ6ICdjb21taXQgdGV4dCcsXG4gICAgICAgICAgICBub2RlOiB0ZXh0Tm9kZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIH0pO1xuICAgICAgICB0ZXh0Tm9kZS5kYXRhID0gdmFsdWUgYXMgc3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fY29tbWl0Tm9kZShkLmNyZWF0ZVRleHROb2RlKHZhbHVlIGFzIHN0cmluZykpO1xuICAgICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAgICBraW5kOiAnY29tbWl0IHRleHQnLFxuICAgICAgICAgICAgbm9kZTogd3JhcCh0aGlzLl8kc3RhcnROb2RlKS5uZXh0U2libGluZyBhcyBUZXh0LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgcHJpdmF0ZSBfY29tbWl0VGVtcGxhdGVSZXN1bHQoXG4gICAgcmVzdWx0OiBUZW1wbGF0ZVJlc3VsdCB8IENvbXBpbGVkVGVtcGxhdGVSZXN1bHRcbiAgKTogdm9pZCB7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICBjb25zdCB7dmFsdWVzLCBbJ18kbGl0VHlwZSQnXTogdHlwZX0gPSByZXN1bHQ7XG4gICAgLy8gSWYgJGxpdFR5cGUkIGlzIGEgbnVtYmVyLCByZXN1bHQgaXMgYSBwbGFpbiBUZW1wbGF0ZVJlc3VsdCBhbmQgd2UgZ2V0XG4gICAgLy8gdGhlIHRlbXBsYXRlIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlLiBJZiBub3QsIHJlc3VsdCBpcyBhXG4gICAgLy8gQ29tcGlsZWRUZW1wbGF0ZVJlc3VsdCBhbmQgXyRsaXRUeXBlJCBpcyBhIENvbXBpbGVkVGVtcGxhdGUgYW5kIHdlIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgdGhlIDx0ZW1wbGF0ZT4gZWxlbWVudCB0aGUgZmlyc3QgdGltZSB3ZSBzZWUgaXQuXG4gICAgY29uc3QgdGVtcGxhdGU6IFRlbXBsYXRlIHwgQ29tcGlsZWRUZW1wbGF0ZSA9XG4gICAgICB0eXBlb2YgdHlwZSA9PT0gJ251bWJlcidcbiAgICAgICAgPyB0aGlzLl8kZ2V0VGVtcGxhdGUocmVzdWx0IGFzIFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdClcbiAgICAgICAgOiAodHlwZS5lbCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAodHlwZS5lbCA9IFRlbXBsYXRlLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgIHRydXN0RnJvbVRlbXBsYXRlU3RyaW5nKHR5cGUuaCwgdHlwZS5oWzBdKSxcbiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICB0eXBlKTtcblxuICAgIGlmICgodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIFRlbXBsYXRlSW5zdGFuY2UpPy5fJHRlbXBsYXRlID09PSB0ZW1wbGF0ZSkge1xuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAndGVtcGxhdGUgdXBkYXRpbmcnLFxuICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgIGluc3RhbmNlOiB0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgVGVtcGxhdGVJbnN0YW5jZSxcbiAgICAgICAgICBwYXJ0czogKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlKS5fJHBhcnRzLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBUZW1wbGF0ZUluc3RhbmNlKS5fdXBkYXRlKHZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUgYXMgVGVtcGxhdGUsIHRoaXMpO1xuICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUodGhpcy5vcHRpb25zKTtcbiAgICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgICAga2luZDogJ3RlbXBsYXRlIGluc3RhbnRpYXRlZCcsXG4gICAgICAgICAgdGVtcGxhdGUsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcGFydHM6IGluc3RhbmNlLl8kcGFydHMsXG4gICAgICAgICAgb3B0aW9uczogdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5fdXBkYXRlKHZhbHVlcyk7XG4gICAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICAgIGtpbmQ6ICd0ZW1wbGF0ZSBpbnN0YW50aWF0ZWQgYW5kIHVwZGF0ZWQnLFxuICAgICAgICAgIHRlbXBsYXRlLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcnRzOiBpbnN0YW5jZS5fJHBhcnRzLFxuICAgICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgIH0pO1xuICAgICAgdGhpcy5fY29tbWl0Tm9kZShmcmFnbWVudCk7XG4gICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBpbnN0YW5jZTtcbiAgICB9XG4gIH1cblxuICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAvKiogQGludGVybmFsICovXG4gIF8kZ2V0VGVtcGxhdGUocmVzdWx0OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQpIHtcbiAgICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRlbXBsYXRlQ2FjaGUuc2V0KHJlc3VsdC5zdHJpbmdzLCAodGVtcGxhdGUgPSBuZXcgVGVtcGxhdGUocmVzdWx0KSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBwcml2YXRlIF9jb21taXRJdGVyYWJsZSh2YWx1ZTogSXRlcmFibGU8dW5rbm93bj4pOiB2b2lkIHtcbiAgICAvLyBGb3IgYW4gSXRlcmFibGUsIHdlIGNyZWF0ZSBhIG5ldyBJbnN0YW5jZVBhcnQgcGVyIGl0ZW0sIHRoZW4gc2V0IGl0c1xuICAgIC8vIHZhbHVlIHRvIHRoZSBpdGVtLiBUaGlzIGlzIGEgbGl0dGxlIGJpdCBvZiBvdmVyaGVhZCBmb3IgZXZlcnkgaXRlbSBpblxuICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgIC8vIG9mIFRlbXBsYXRlUmVzdWx0cyB0aGF0IHdpbGwgYmUgY29tbW9ubHkgcmV0dXJuZWQgZnJvbSBleHByZXNzaW9ucyBsaWtlOlxuICAgIC8vIGFycmF5Lm1hcCgoaSkgPT4gaHRtbGAke2l9YCksIGJ5IHJldXNpbmcgZXhpc3RpbmcgVGVtcGxhdGVJbnN0YW5jZXMuXG5cbiAgICAvLyBJZiB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlbiB0aGUgcHJldmlvdXMgcmVuZGVyIHdhcyBvZiBhblxuICAgIC8vIGl0ZXJhYmxlIGFuZCB2YWx1ZSB3aWxsIGNvbnRhaW4gdGhlIENoaWxkUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAvLyByZW5kZXIuIElmIHZhbHVlIGlzIG5vdCBhbiBhcnJheSwgY2xlYXIgdGhpcyBwYXJ0IGFuZCBtYWtlIGEgbmV3XG4gICAgLy8gYXJyYXkgZm9yIENoaWxkUGFydHMuXG4gICAgaWYgKCFpc0FycmF5KHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IFtdO1xuICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgfVxuXG4gICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgIGNvbnN0IGl0ZW1QYXJ0cyA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSBhcyBDaGlsZFBhcnRbXTtcbiAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICBsZXQgaXRlbVBhcnQ6IENoaWxkUGFydCB8IHVuZGVmaW5lZDtcblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgaWYgKHBhcnRJbmRleCA9PT0gaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAvLyBJZiBubyBleGlzdGluZyBwYXJ0LCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiB0ZXN0IHBlcmYgaW1wYWN0IG9mIGFsd2F5cyBjcmVhdGluZyB0d28gcGFydHNcbiAgICAgICAgLy8gaW5zdGVhZCBvZiBzaGFyaW5nIHBhcnRzIGJldHdlZW4gbm9kZXNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvaXNzdWVzLzEyNjZcbiAgICAgICAgaXRlbVBhcnRzLnB1c2goXG4gICAgICAgICAgKGl0ZW1QYXJ0ID0gbmV3IENoaWxkUGFydChcbiAgICAgICAgICAgIHRoaXMuX2luc2VydChjcmVhdGVNYXJrZXIoKSksXG4gICAgICAgICAgICB0aGlzLl9pbnNlcnQoY3JlYXRlTWFya2VyKCkpLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICAgICkpXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBSZXVzZSBhbiBleGlzdGluZyBwYXJ0XG4gICAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG4gICAgICB9XG4gICAgICBpdGVtUGFydC5fJHNldFZhbHVlKGl0ZW0pO1xuICAgICAgcGFydEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgIC8vIGl0ZW1QYXJ0cyBhbHdheXMgaGF2ZSBlbmQgbm9kZXNcbiAgICAgIHRoaXMuXyRjbGVhcihcbiAgICAgICAgaXRlbVBhcnQgJiYgd3JhcChpdGVtUGFydC5fJGVuZE5vZGUhKS5uZXh0U2libGluZyxcbiAgICAgICAgcGFydEluZGV4XG4gICAgICApO1xuICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgbm9kZXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIFBhcnQgZnJvbSB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0gc3RhcnQgU3RhcnQgbm9kZSB0byBjbGVhciBmcm9tLCBmb3IgY2xlYXJpbmcgYSBzdWJzZXQgb2YgdGhlIHBhcnQnc1xuICAgKiAgICAgRE9NICh1c2VkIHdoZW4gdHJ1bmNhdGluZyBpdGVyYWJsZXMpXG4gICAqIEBwYXJhbSBmcm9tICBXaGVuIGBzdGFydGAgaXMgc3BlY2lmaWVkLCB0aGUgaW5kZXggd2l0aGluIHRoZSBpdGVyYWJsZSBmcm9tXG4gICAqICAgICB3aGljaCBDaGlsZFBhcnRzIGFyZSBiZWluZyByZW1vdmVkLCB1c2VkIGZvciBkaXNjb25uZWN0aW5nIGRpcmVjdGl2ZXMgaW5cbiAgICogICAgIHRob3NlIFBhcnRzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF8kY2xlYXIoXG4gICAgc3RhcnQ6IENoaWxkTm9kZSB8IG51bGwgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nLFxuICAgIGZyb20/OiBudW1iZXJcbiAgKSB7XG4gICAgdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPy4oZmFsc2UsIHRydWUsIGZyb20pO1xuICAgIHdoaWxlIChzdGFydCAmJiBzdGFydCAhPT0gdGhpcy5fJGVuZE5vZGUpIHtcbiAgICAgIGNvbnN0IG4gPSB3cmFwKHN0YXJ0ISkubmV4dFNpYmxpbmc7XG4gICAgICAod3JhcChzdGFydCEpIGFzIEVsZW1lbnQpLnJlbW92ZSgpO1xuICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogSW1wbGVtZW50YXRpb24gb2YgUm9vdFBhcnQncyBgaXNDb25uZWN0ZWRgLiBOb3RlIHRoYXQgdGhpcyBtZXRob2RcbiAgICogc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uIGBSb290UGFydGBzICh0aGUgYENoaWxkUGFydGAgcmV0dXJuZWQgZnJvbSBhXG4gICAqIHRvcC1sZXZlbCBgcmVuZGVyKClgIGNhbGwpLiBJdCBoYXMgbm8gZWZmZWN0IG9uIG5vbi1yb290IENoaWxkUGFydHMuXG4gICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIHRvIHNldFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldENvbm5lY3RlZChpc0Nvbm5lY3RlZDogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLl8kcGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IGlzQ29ubmVjdGVkO1xuICAgICAgdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkPy4oaXNDb25uZWN0ZWQpO1xuICAgIH0gZWxzZSBpZiAoREVWX01PREUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3BhcnQuc2V0Q29ubmVjdGVkKCkgbWF5IG9ubHkgYmUgY2FsbGVkIG9uIGEgJyArXG4gICAgICAgICAgJ1Jvb3RQYXJ0IHJldHVybmVkIGZyb20gcmVuZGVyKCkuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIHRvcC1sZXZlbCBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGByZW5kZXJgIHRoYXQgbWFuYWdlcyB0aGUgY29ubmVjdGVkXG4gKiBzdGF0ZSBvZiBgQXN5bmNEaXJlY3RpdmVgcyBjcmVhdGVkIHRocm91Z2hvdXQgdGhlIHRyZWUgYmVsb3cgaXQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUm9vdFBhcnQgZXh0ZW5kcyBDaGlsZFBhcnQge1xuICAvKipcbiAgICogU2V0cyB0aGUgY29ubmVjdGlvbiBzdGF0ZSBmb3IgYEFzeW5jRGlyZWN0aXZlYHMgY29udGFpbmVkIHdpdGhpbiB0aGlzIHJvb3RcbiAgICogQ2hpbGRQYXJ0LlxuICAgKlxuICAgKiBsaXQtaHRtbCBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IG1vbml0b3IgdGhlIGNvbm5lY3RlZG5lc3Mgb2YgRE9NIHJlbmRlcmVkO1xuICAgKiBhcyBzdWNoLCBpdCBpcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgdGhlIGNhbGxlciB0byBgcmVuZGVyYCB0byBlbnN1cmUgdGhhdFxuICAgKiBgcGFydC5zZXRDb25uZWN0ZWQoZmFsc2UpYCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBwYXJ0IG9iamVjdCBpcyBwb3RlbnRpYWxseVxuICAgKiBkaXNjYXJkZWQsIHRvIGVuc3VyZSB0aGF0IGBBc3luY0RpcmVjdGl2ZWBzIGhhdmUgYSBjaGFuY2UgdG8gZGlzcG9zZSBvZlxuICAgKiBhbnkgcmVzb3VyY2VzIGJlaW5nIGhlbGQuIElmIGEgYFJvb3RQYXJ0YCB0aGF0IHdhcyBwcmV2aW91c2x5XG4gICAqIGRpc2Nvbm5lY3RlZCBpcyBzdWJzZXF1ZW50bHkgcmUtY29ubmVjdGVkIChhbmQgaXRzIGBBc3luY0RpcmVjdGl2ZWBzIHNob3VsZFxuICAgKiByZS1jb25uZWN0KSwgYHNldENvbm5lY3RlZCh0cnVlKWAgc2hvdWxkIGJlIGNhbGxlZC5cbiAgICpcbiAgICogQHBhcmFtIGlzQ29ubmVjdGVkIFdoZXRoZXIgZGlyZWN0aXZlcyB3aXRoaW4gdGhpcyB0cmVlIHNob3VsZCBiZSBjb25uZWN0ZWRcbiAgICogb3Igbm90XG4gICAqL1xuICBzZXRDb25uZWN0ZWQoaXNDb25uZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSB7QXR0cmlidXRlUGFydH07XG5jbGFzcyBBdHRyaWJ1dGVQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlOlxuICAgIHwgdHlwZW9mIEFUVFJJQlVURV9QQVJUXG4gICAgfCB0eXBlb2YgUFJPUEVSVFlfUEFSVFxuICAgIHwgdHlwZW9mIEJPT0xFQU5fQVRUUklCVVRFX1BBUlRcbiAgICB8IHR5cGVvZiBFVkVOVF9QQVJUID0gQVRUUklCVVRFX1BBUlQ7XG4gIHJlYWRvbmx5IGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIElmIHRoaXMgYXR0cmlidXRlIHBhcnQgcmVwcmVzZW50cyBhbiBpbnRlcnBvbGF0aW9uLCB0aGlzIGNvbnRhaW5zIHRoZVxuICAgKiBzdGF0aWMgc3RyaW5ncyBvZiB0aGUgaW50ZXJwb2xhdGlvbi4gRm9yIHNpbmdsZS12YWx1ZSwgY29tcGxldGUgYmluZGluZ3MsXG4gICAqIHRoaXMgaXMgdW5kZWZpbmVkLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RyaW5ncz86IFJlYWRvbmx5QXJyYXk8c3RyaW5nPjtcbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBfJGNvbW1pdHRlZFZhbHVlOiB1bmtub3duIHwgQXJyYXk8dW5rbm93bj4gPSBub3RoaW5nO1xuICAvKiogQGludGVybmFsICovXG4gIF9fZGlyZWN0aXZlcz86IEFycmF5PERpcmVjdGl2ZSB8IHVuZGVmaW5lZD47XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlO1xuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgcHJvdGVjdGVkIF9zYW5pdGl6ZXI6IFZhbHVlU2FuaXRpemVyIHwgdW5kZWZpbmVkO1xuXG4gIGdldCB0YWdOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgfVxuXG4gIC8vIFNlZSBjb21tZW50IGluIERpc2Nvbm5lY3RhYmxlIGludGVyZmFjZSBmb3Igd2h5IHRoaXMgaXMgYSBnZXR0ZXJcbiAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuXyRwYXJlbnQuXyRpc0Nvbm5lY3RlZDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBzdHJpbmdzOiBSZWFkb25seUFycmF5PHN0cmluZz4sXG4gICAgcGFyZW50OiBEaXNjb25uZWN0YWJsZSxcbiAgICBvcHRpb25zOiBSZW5kZXJPcHRpb25zIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgaWYgKHN0cmluZ3MubGVuZ3RoID4gMiB8fCBzdHJpbmdzWzBdICE9PSAnJyB8fCBzdHJpbmdzWzFdICE9PSAnJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3IEFycmF5KHN0cmluZ3MubGVuZ3RoIC0gMSkuZmlsbChuZXcgU3RyaW5nKCkpO1xuICAgICAgdGhpcy5zdHJpbmdzID0gc3RyaW5ncztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICB9XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgdGhpcy5fc2FuaXRpemVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIHBhcnQgYnkgcmVzb2x2aW5nIHRoZSB2YWx1ZSBmcm9tIHBvc3NpYmx5IG11bHRpcGxlXG4gICAqIHZhbHVlcyBhbmQgc3RhdGljIHN0cmluZ3MgYW5kIGNvbW1pdHRpbmcgaXQgdG8gdGhlIERPTS5cbiAgICogSWYgdGhpcyBwYXJ0IGlzIHNpbmdsZS12YWx1ZWQsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIHVuZGVmaW5lZCwgYW5kIHRoZVxuICAgKiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSB2YWx1ZSBhcmd1bWVudC4gSWYgdGhpcyBwYXJ0IGlzXG4gICAqIG11bHRpLXZhbHVlLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSBkZWZpbmVkLCBhbmQgdGhlIG1ldGhvZCBpcyBjYWxsZWRcbiAgICogd2l0aCB0aGUgdmFsdWUgYXJyYXkgb2YgdGhlIHBhcnQncyBvd25pbmcgVGVtcGxhdGVJbnN0YW5jZSwgYW5kIGFuIG9mZnNldFxuICAgKiBpbnRvIHRoZSB2YWx1ZSBhcnJheSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgc2hvdWxkIGJlIHJlYWQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIG92ZXJsb2FkZWQgdGhpcyB3YXkgdG8gZWxpbWluYXRlIHNob3J0LWxpdmVkIGFycmF5IHNsaWNlc1xuICAgKiBvZiB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdmFsdWVzLCBhbmQgYWxsb3cgYSBmYXN0LXBhdGggZm9yIHNpbmdsZS12YWx1ZWRcbiAgICogcGFydHMuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgcGFydCB2YWx1ZSwgb3IgYW4gYXJyYXkgb2YgdmFsdWVzIGZvciBtdWx0aS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIHZhbHVlSW5kZXggdGhlIGluZGV4IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzIGZyb20uIGB1bmRlZmluZWRgIGZvclxuICAgKiAgIHNpbmdsZS12YWx1ZWQgcGFydHNcbiAgICogQHBhcmFtIG5vQ29tbWl0IGNhdXNlcyB0aGUgcGFydCB0byBub3QgY29tbWl0IGl0cyB2YWx1ZSB0byB0aGUgRE9NLiBVc2VkXG4gICAqICAgaW4gaHlkcmF0aW9uIHRvIHByaW1lIGF0dHJpYnV0ZSBwYXJ0cyB3aXRoIHRoZWlyIGZpcnN0LXJlbmRlcmVkIHZhbHVlLFxuICAgKiAgIGJ1dCBub3Qgc2V0IHRoZSBhdHRyaWJ1dGUsIGFuZCBpbiBTU1IgdG8gbm8tb3AgdGhlIERPTSBvcGVyYXRpb24gYW5kXG4gICAqICAgY2FwdHVyZSB0aGUgdmFsdWUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgXyRzZXRWYWx1ZShcbiAgICB2YWx1ZTogdW5rbm93biB8IEFycmF5PHVua25vd24+LFxuICAgIGRpcmVjdGl2ZVBhcmVudDogRGlyZWN0aXZlUGFyZW50ID0gdGhpcyxcbiAgICB2YWx1ZUluZGV4PzogbnVtYmVyLFxuICAgIG5vQ29tbWl0PzogYm9vbGVhblxuICApIHtcbiAgICBjb25zdCBzdHJpbmdzID0gdGhpcy5zdHJpbmdzO1xuXG4gICAgLy8gV2hldGhlciBhbnkgb2YgdGhlIHZhbHVlcyBoYXMgY2hhbmdlZCwgZm9yIGRpcnR5LWNoZWNraW5nXG4gICAgbGV0IGNoYW5nZSA9IGZhbHNlO1xuXG4gICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gU2luZ2xlLXZhbHVlIGJpbmRpbmcgY2FzZVxuICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQsIDApO1xuICAgICAgY2hhbmdlID1cbiAgICAgICAgIWlzUHJpbWl0aXZlKHZhbHVlKSB8fFxuICAgICAgICAodmFsdWUgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSAmJiB2YWx1ZSAhPT0gbm9DaGFuZ2UpO1xuICAgICAgaWYgKGNoYW5nZSkge1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW50ZXJwb2xhdGlvbiBjYXNlXG4gICAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZSBhcyBBcnJheTx1bmtub3duPjtcbiAgICAgIHZhbHVlID0gc3RyaW5nc1swXTtcblxuICAgICAgbGV0IGksIHY7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdiA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWVzW3ZhbHVlSW5kZXghICsgaV0sIGRpcmVjdGl2ZVBhcmVudCwgaSk7XG5cbiAgICAgICAgaWYgKHYgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXItcHJvdmlkZWQgdmFsdWUgaXMgYG5vQ2hhbmdlYCwgdXNlIHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgICAgICAgIHYgPSAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEFycmF5PHVua25vd24+KVtpXTtcbiAgICAgICAgfVxuICAgICAgICBjaGFuZ2UgfHw9XG4gICAgICAgICAgIWlzUHJpbWl0aXZlKHYpIHx8IHYgIT09ICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldO1xuICAgICAgICBpZiAodiA9PT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlID0gbm90aGluZztcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgIHZhbHVlICs9ICh2ID8/ICcnKSArIHN0cmluZ3NbaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgIC8vIGNoYW5nZSBkZXRlY3Rpb24uXG4gICAgICAgICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgYXMgQXJyYXk8dW5rbm93bj4pW2ldID0gdjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNoYW5nZSAmJiAhbm9Db21taXQpIHtcbiAgICAgIHRoaXMuX2NvbW1pdFZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwoXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICAgICAnYXR0cmlidXRlJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSB0aGlzLl9zYW5pdGl6ZXIodmFsdWUgPz8gJycpO1xuICAgICAgfVxuICAgICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAgICBraW5kOiAnY29tbWl0IGF0dHJpYnV0ZScsXG4gICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgKHdyYXAodGhpcy5lbGVtZW50KSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICAgKHZhbHVlID8/ICcnKSBhcyBzdHJpbmdcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtQcm9wZXJ0eVBhcnR9O1xuY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gIG92ZXJyaWRlIHJlYWRvbmx5IHR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgb3ZlcnJpZGUgX2NvbW1pdFZhbHVlKHZhbHVlOiB1bmtub3duKSB7XG4gICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgaWYgKHRoaXMuX3Nhbml0aXplciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbChcbiAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICAgICdwcm9wZXJ0eSdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlKTtcbiAgICB9XG4gICAgZGVidWdMb2dFdmVudCAmJlxuICAgICAgZGVidWdMb2dFdmVudCh7XG4gICAgICAgIGtpbmQ6ICdjb21taXQgcHJvcGVydHknLFxuICAgICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHRoaXMuZWxlbWVudCBhcyBhbnkpW3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIHtCb29sZWFuQXR0cmlidXRlUGFydH07XG5jbGFzcyBCb29sZWFuQXR0cmlidXRlUGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICBvdmVycmlkZSByZWFkb25seSB0eXBlID0gQk9PTEVBTl9BVFRSSUJVVEVfUEFSVDtcblxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF9jb21taXRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IGJvb2xlYW4gYXR0cmlidXRlJyxcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgIHZhbHVlOiAhISh2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZyksXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgICh3cmFwKHRoaXMuZWxlbWVudCkgYXMgRWxlbWVudCkudG9nZ2xlQXR0cmlidXRlKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgISF2YWx1ZSAmJiB2YWx1ZSAhPT0gbm90aGluZ1xuICAgICk7XG4gIH1cbn1cblxudHlwZSBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnMgPSBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0ICZcbiAgUGFydGlhbDxBZGRFdmVudExpc3RlbmVyT3B0aW9ucz47XG5cbi8qKlxuICogQW4gQXR0cmlidXRlUGFydCB0aGF0IG1hbmFnZXMgYW4gZXZlbnQgbGlzdGVuZXIgdmlhIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLlxuICpcbiAqIFRoaXMgcGFydCB3b3JrcyBieSBhZGRpbmcgaXRzZWxmIGFzIHRoZSBldmVudCBsaXN0ZW5lciBvbiBhbiBlbGVtZW50LCB0aGVuXG4gKiBkZWxlZ2F0aW5nIHRvIHRoZSB2YWx1ZSBwYXNzZWQgdG8gaXQuIFRoaXMgcmVkdWNlcyB0aGUgbnVtYmVyIG9mIGNhbGxzIHRvXG4gKiBhZGQvcmVtb3ZlRXZlbnRMaXN0ZW5lciBpZiB0aGUgbGlzdGVuZXIgY2hhbmdlcyBmcmVxdWVudGx5LCBzdWNoIGFzIHdoZW4gYW5cbiAqIGlubGluZSBmdW5jdGlvbiBpcyB1c2VkIGFzIGEgbGlzdGVuZXIuXG4gKlxuICogQmVjYXVzZSBldmVudCBvcHRpb25zIGFyZSBwYXNzZWQgd2hlbiBhZGRpbmcgbGlzdGVuZXJzLCB3ZSBtdXN0IHRha2UgY2FzZVxuICogdG8gYWRkIGFuZCByZW1vdmUgdGhlIHBhcnQgYXMgYSBsaXN0ZW5lciB3aGVuIHRoZSBldmVudCBvcHRpb25zIGNoYW5nZS5cbiAqL1xuZXhwb3J0IHR5cGUge0V2ZW50UGFydH07XG5jbGFzcyBFdmVudFBhcnQgZXh0ZW5kcyBBdHRyaWJ1dGVQYXJ0IHtcbiAgb3ZlcnJpZGUgcmVhZG9ubHkgdHlwZSA9IEVWRU5UX1BBUlQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHN0cmluZ3M6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPixcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgbmFtZSwgc3RyaW5ncywgcGFyZW50LCBvcHRpb25zKTtcblxuICAgIGlmIChERVZfTU9ERSAmJiB0aGlzLnN0cmluZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQSBcXGA8JHtlbGVtZW50LmxvY2FsTmFtZX0+XFxgIGhhcyBhIFxcYEAke25hbWV9PS4uLlxcYCBsaXN0ZW5lciB3aXRoIGAgK1xuICAgICAgICAgICdpbnZhbGlkIGNvbnRlbnQuIEV2ZW50IGxpc3RlbmVycyBpbiB0ZW1wbGF0ZXMgbXVzdCBoYXZlIGV4YWN0bHkgJyArXG4gICAgICAgICAgJ29uZSBleHByZXNzaW9uIGFuZCBubyBzdXJyb3VuZGluZyB0ZXh0LidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gRXZlbnRQYXJ0IGRvZXMgbm90IHVzZSB0aGUgYmFzZSBfJHNldFZhbHVlL19yZXNvbHZlVmFsdWUgaW1wbGVtZW50YXRpb25cbiAgLy8gc2luY2UgdGhlIGRpcnR5IGNoZWNraW5nIGlzIG1vcmUgY29tcGxleFxuICAvKiogQGludGVybmFsICovXG4gIG92ZXJyaWRlIF8kc2V0VmFsdWUoXG4gICAgbmV3TGlzdGVuZXI6IHVua25vd24sXG4gICAgZGlyZWN0aXZlUGFyZW50OiBEaXJlY3RpdmVQYXJlbnQgPSB0aGlzXG4gICkge1xuICAgIG5ld0xpc3RlbmVyID1cbiAgICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgbmV3TGlzdGVuZXIsIGRpcmVjdGl2ZVBhcmVudCwgMCkgPz8gbm90aGluZztcbiAgICBpZiAobmV3TGlzdGVuZXIgPT09IG5vQ2hhbmdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuXG4gICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3RoaW5nIG9yIGFueSBvcHRpb25zIGNoYW5nZSB3ZSBoYXZlIHRvIHJlbW92ZSB0aGVcbiAgICAvLyBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlTGlzdGVuZXIgPVxuICAgICAgKG5ld0xpc3RlbmVyID09PSBub3RoaW5nICYmIG9sZExpc3RlbmVyICE9PSBub3RoaW5nKSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykuY2FwdHVyZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykuY2FwdHVyZSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykub25jZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykub25jZSB8fFxuICAgICAgKG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykucGFzc2l2ZSAhPT1cbiAgICAgICAgKG9sZExpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9ucykucGFzc2l2ZTtcblxuICAgIC8vIElmIHRoZSBuZXcgdmFsdWUgaXMgbm90IG5vdGhpbmcgYW5kIHdlIHJlbW92ZWQgdGhlIGxpc3RlbmVyLCB3ZSBoYXZlXG4gICAgLy8gdG8gYWRkIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgY29uc3Qgc2hvdWxkQWRkTGlzdGVuZXIgPVxuICAgICAgbmV3TGlzdGVuZXIgIT09IG5vdGhpbmcgJiZcbiAgICAgIChvbGRMaXN0ZW5lciA9PT0gbm90aGluZyB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG5cbiAgICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgICAga2luZDogJ2NvbW1pdCBldmVudCBsaXN0ZW5lcicsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZTogbmV3TGlzdGVuZXIsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXI6IHNob3VsZFJlbW92ZUxpc3RlbmVyLFxuICAgICAgICBhZGRMaXN0ZW5lcjogc2hvdWxkQWRkTGlzdGVuZXIsXG4gICAgICAgIG9sZExpc3RlbmVyLFxuICAgICAgfSk7XG4gICAgaWYgKHNob3VsZFJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgICB0aGlzLFxuICAgICAgICBvbGRMaXN0ZW5lciBhcyBFdmVudExpc3RlbmVyV2l0aE9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzaG91bGRBZGRMaXN0ZW5lcikge1xuICAgICAgLy8gQmV3YXJlOiBJRTExIGFuZCBDaHJvbWUgNDEgZG9uJ3QgbGlrZSB1c2luZyB0aGUgbGlzdGVuZXIgYXMgdGhlXG4gICAgICAvLyBvcHRpb25zIG9iamVjdC4gRmlndXJlIG91dCBob3cgdG8gZGVhbCB3LyB0aGlzIGluIElFMTEgLSBtYXliZVxuICAgICAgLy8gcGF0Y2ggYWRkRXZlbnRMaXN0ZW5lcj9cbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5ld0xpc3RlbmVyIGFzIEV2ZW50TGlzdGVuZXJXaXRoT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gIH1cblxuICBoYW5kbGVFdmVudChldmVudDogRXZlbnQpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLmNhbGwodGhpcy5vcHRpb25zPy5ob3N0ID8/IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAodGhpcy5fJGNvbW1pdHRlZFZhbHVlIGFzIEV2ZW50TGlzdGVuZXJPYmplY3QpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUge0VsZW1lbnRQYXJ0fTtcbmNsYXNzIEVsZW1lbnRQYXJ0IGltcGxlbWVudHMgRGlzY29ubmVjdGFibGUge1xuICByZWFkb25seSB0eXBlID0gRUxFTUVOVF9QQVJUO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgX19kaXJlY3RpdmU/OiBEaXJlY3RpdmU7XG5cbiAgLy8gVGhpcyBpcyB0byBlbnN1cmUgdGhhdCBldmVyeSBQYXJ0IGhhcyBhIF8kY29tbWl0dGVkVmFsdWVcbiAgXyRjb21taXR0ZWRWYWx1ZTogdW5kZWZpbmVkO1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgXyRwYXJlbnQhOiBEaXNjb25uZWN0YWJsZTtcblxuICAvKiogQGludGVybmFsICovXG4gIF8kZGlzY29ubmVjdGFibGVDaGlsZHJlbj86IFNldDxEaXNjb25uZWN0YWJsZT4gPSB1bmRlZmluZWQ7XG5cbiAgb3B0aW9uczogUmVuZGVyT3B0aW9ucyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwYXJlbnQ6IERpc2Nvbm5lY3RhYmxlLFxuICAgIG9wdGlvbnM6IFJlbmRlck9wdGlvbnMgfCB1bmRlZmluZWRcbiAgKSB7XG4gICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICBnZXQgXyRpc0Nvbm5lY3RlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICB9XG5cbiAgXyRzZXRWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHZvaWQge1xuICAgIGRlYnVnTG9nRXZlbnQgJiZcbiAgICAgIGRlYnVnTG9nRXZlbnQoe1xuICAgICAgICBraW5kOiAnY29tbWl0IHRvIGVsZW1lbnQgYmluZGluZycsXG4gICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIG9wdGlvbnM6IHRoaXMub3B0aW9ucyxcbiAgICAgIH0pO1xuICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzIG1hbmdsZWQgaW4gdGhlXG4gKiBjbGllbnQgc2lkZSBjb2RlLCB3ZSBleHBvcnQgYSBfJExIIG9iamVjdCBjb250YWluaW5nIHRob3NlIG1lbWJlcnMgKG9yXG4gKiBoZWxwZXIgbWV0aG9kcyBmb3IgYWNjZXNzaW5nIHByaXZhdGUgZmllbGRzIG9mIHRob3NlIG1lbWJlcnMpLCBhbmQgdGhlblxuICogcmUtZXhwb3J0IHRoZW0gZm9yIHVzZSBpbiBsaXQtc3NyLiBUaGlzIGtlZXBzIGxpdC1zc3IgYWdub3N0aWMgdG8gd2hldGhlciB0aGVcbiAqIGNsaWVudC1zaWRlIGNvZGUgaXMgYmVpbmcgdXNlZCBpbiBgZGV2YCBtb2RlIG9yIGBwcm9kYCBtb2RlLlxuICpcbiAqIFRoaXMgaGFzIGEgdW5pcXVlIG5hbWUsIHRvIGRpc2FtYmlndWF0ZSBpdCBmcm9tIHByaXZhdGUgZXhwb3J0cyBpblxuICogbGl0LWVsZW1lbnQsIHdoaWNoIHJlLWV4cG9ydHMgYWxsIG9mIGxpdC1odG1sLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBfJExIID0ge1xuICAvLyBVc2VkIGluIGxpdC1zc3JcbiAgX2JvdW5kQXR0cmlidXRlU3VmZml4OiBib3VuZEF0dHJpYnV0ZVN1ZmZpeCxcbiAgX21hcmtlcjogbWFya2VyLFxuICBfbWFya2VyTWF0Y2g6IG1hcmtlck1hdGNoLFxuICBfSFRNTF9SRVNVTFQ6IEhUTUxfUkVTVUxULFxuICBfZ2V0VGVtcGxhdGVIdG1sOiBnZXRUZW1wbGF0ZUh0bWwsXG4gIC8vIFVzZWQgaW4gdGVzdHMgYW5kIHByaXZhdGUtc3NyLXN1cHBvcnRcbiAgX1RlbXBsYXRlSW5zdGFuY2U6IFRlbXBsYXRlSW5zdGFuY2UsXG4gIF9pc0l0ZXJhYmxlOiBpc0l0ZXJhYmxlLFxuICBfcmVzb2x2ZURpcmVjdGl2ZTogcmVzb2x2ZURpcmVjdGl2ZSxcbiAgX0NoaWxkUGFydDogQ2hpbGRQYXJ0LFxuICBfQXR0cmlidXRlUGFydDogQXR0cmlidXRlUGFydCxcbiAgX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0OiBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgX0V2ZW50UGFydDogRXZlbnRQYXJ0LFxuICBfUHJvcGVydHlQYXJ0OiBQcm9wZXJ0eVBhcnQsXG4gIF9FbGVtZW50UGFydDogRWxlbWVudFBhcnQsXG59O1xuXG4vLyBBcHBseSBwb2x5ZmlsbHMgaWYgYXZhaWxhYmxlXG5jb25zdCBwb2x5ZmlsbFN1cHBvcnQgPSBERVZfTU9ERVxuICA/IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICA6IGdsb2JhbC5saXRIdG1sUG9seWZpbGxTdXBwb3J0O1xucG9seWZpbGxTdXBwb3J0Py4oVGVtcGxhdGUsIENoaWxkUGFydCk7XG5cbi8vIElNUE9SVEFOVDogZG8gbm90IGNoYW5nZSB0aGUgcHJvcGVydHkgbmFtZSBvciB0aGUgYXNzaWdubWVudCBleHByZXNzaW9uLlxuLy8gVGhpcyBsaW5lIHdpbGwgYmUgdXNlZCBpbiByZWdleGVzIHRvIHNlYXJjaCBmb3IgbGl0LWh0bWwgdXNhZ2UuXG4oZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucyA/Pz0gW10pLnB1c2goJzMuMi4xJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsLmxpdEh0bWxWZXJzaW9ucy5sZW5ndGggPiAxKSB7XG4gIGlzc3VlV2FybmluZyEoXG4gICAgJ211bHRpcGxlLXZlcnNpb25zJyxcbiAgICBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gYCArXG4gICAgICBgTG9hZGluZyBtdWx0aXBsZSB2ZXJzaW9ucyBpcyBub3QgcmVjb21tZW5kZWQuYFxuICApO1xufVxuXG4vKipcbiAqIFJlbmRlcnMgYSB2YWx1ZSwgdXN1YWxseSBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LCB0byB0aGUgY29udGFpbmVyLlxuICpcbiAqIFRoaXMgZXhhbXBsZSByZW5kZXJzIHRoZSB0ZXh0IFwiSGVsbG8sIFpvZSFcIiBpbnNpZGUgYSBwYXJhZ3JhcGggdGFnLCBhcHBlbmRpbmdcbiAqIGl0IHRvIHRoZSBjb250YWluZXIgYGRvY3VtZW50LmJvZHlgLlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQge2h0bWwsIHJlbmRlcn0gZnJvbSAnbGl0JztcbiAqXG4gKiBjb25zdCBuYW1lID0gXCJab2VcIjtcbiAqIHJlbmRlcihodG1sYDxwPkhlbGxvLCAke25hbWV9ITwvcD5gLCBkb2N1bWVudC5ib2R5KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZSBBbnkgW3JlbmRlcmFibGVcbiAqICAgdmFsdWVdKGh0dHBzOi8vbGl0LmRldi9kb2NzL3RlbXBsYXRlcy9leHByZXNzaW9ucy8jY2hpbGQtZXhwcmVzc2lvbnMpLFxuICogICB0eXBpY2FsbHkgYSB7QGxpbmtjb2RlIFRlbXBsYXRlUmVzdWx0fSBjcmVhdGVkIGJ5IGV2YWx1YXRpbmcgYSB0ZW1wbGF0ZSB0YWdcbiAqICAgbGlrZSB7QGxpbmtjb2RlIGh0bWx9IG9yIHtAbGlua2NvZGUgc3ZnfS5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gY29udGFpbmVyIHRvIHJlbmRlciB0by4gVGhlIGZpcnN0IHJlbmRlciB3aWxsIGFwcGVuZFxuICogICB0aGUgcmVuZGVyZWQgdmFsdWUgdG8gdGhlIGNvbnRhaW5lciwgYW5kIHN1YnNlcXVlbnQgcmVuZGVycyB3aWxsXG4gKiAgIGVmZmljaWVudGx5IHVwZGF0ZSB0aGUgcmVuZGVyZWQgdmFsdWUgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzXG4gKiAgIHByZXZpb3VzbHkgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBTZWUge0BsaW5rY29kZSBSZW5kZXJPcHRpb25zfSBmb3Igb3B0aW9ucyBkb2N1bWVudGF0aW9uLlxuICogQHNlZVxuICoge0BsaW5rIGh0dHBzOi8vbGl0LmRldi9kb2NzL2xpYnJhcmllcy9zdGFuZGFsb25lLXRlbXBsYXRlcy8jcmVuZGVyaW5nLWxpdC1odG1sLXRlbXBsYXRlc3wgUmVuZGVyaW5nIExpdCBIVE1MIFRlbXBsYXRlc31cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IChcbiAgdmFsdWU6IHVua25vd24sXG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQgfCBEb2N1bWVudEZyYWdtZW50LFxuICBvcHRpb25zPzogUmVuZGVyT3B0aW9uc1xuKTogUm9vdFBhcnQgPT4ge1xuICBpZiAoREVWX01PREUgJiYgY29udGFpbmVyID09IG51bGwpIHtcbiAgICAvLyBHaXZlIGEgY2xlYXJlciBlcnJvciBtZXNzYWdlIHRoYW5cbiAgICAvLyAgICAgVW5jYXVnaHQgVHlwZUVycm9yOiBDYW5ub3QgcmVhZCBwcm9wZXJ0aWVzIG9mIG51bGwgKHJlYWRpbmdcbiAgICAvLyAgICAgJ18kbGl0UGFydCQnKVxuICAgIC8vIHdoaWNoIHJlYWRzIGxpa2UgYW4gaW50ZXJuYWwgTGl0IGVycm9yLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBjb250YWluZXIgdG8gcmVuZGVyIGludG8gbWF5IG5vdCBiZSAke2NvbnRhaW5lcn1gKTtcbiAgfVxuICBjb25zdCByZW5kZXJJZCA9IERFVl9NT0RFID8gZGVidWdMb2dSZW5kZXJJZCsrIDogMDtcbiAgY29uc3QgcGFydE93bmVyTm9kZSA9IG9wdGlvbnM/LnJlbmRlckJlZm9yZSA/PyBjb250YWluZXI7XG4gIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIGxldCBwYXJ0OiBDaGlsZFBhcnQgPSAocGFydE93bmVyTm9kZSBhcyBhbnkpWydfJGxpdFBhcnQkJ107XG4gIGRlYnVnTG9nRXZlbnQgJiZcbiAgICBkZWJ1Z0xvZ0V2ZW50KHtcbiAgICAgIGtpbmQ6ICdiZWdpbiByZW5kZXInLFxuICAgICAgaWQ6IHJlbmRlcklkLFxuICAgICAgdmFsdWUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBvcHRpb25zLFxuICAgICAgcGFydCxcbiAgICB9KTtcbiAgaWYgKHBhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGVuZE5vZGUgPSBvcHRpb25zPy5yZW5kZXJCZWZvcmUgPz8gbnVsbDtcbiAgICAvLyBUaGlzIHByb3BlcnR5IG5lZWRzIHRvIHJlbWFpbiB1bm1pbmlmaWVkLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgKHBhcnRPd25lck5vZGUgYXMgYW55KVsnXyRsaXRQYXJ0JCddID0gcGFydCA9IG5ldyBDaGlsZFBhcnQoXG4gICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNyZWF0ZU1hcmtlcigpLCBlbmROb2RlKSxcbiAgICAgIGVuZE5vZGUsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBvcHRpb25zID8/IHt9XG4gICAgKTtcbiAgfVxuICBwYXJ0Ll8kc2V0VmFsdWUodmFsdWUpO1xuICBkZWJ1Z0xvZ0V2ZW50ICYmXG4gICAgZGVidWdMb2dFdmVudCh7XG4gICAgICBraW5kOiAnZW5kIHJlbmRlcicsXG4gICAgICBpZDogcmVuZGVySWQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG9wdGlvbnMsXG4gICAgICBwYXJ0LFxuICAgIH0pO1xuICByZXR1cm4gcGFydCBhcyBSb290UGFydDtcbn07XG5cbmlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgcmVuZGVyLnNldFNhbml0aXplciA9IHNldFNhbml0aXplcjtcbiAgcmVuZGVyLmNyZWF0ZVNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcjtcbiAgaWYgKERFVl9NT0RFKSB7XG4gICAgcmVuZGVyLl90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZSA9XG4gICAgICBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2U7XG4gIH1cbn1cbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuZnVuY3Rpb24qbyhvLGYpe2lmKHZvaWQgMCE9PW8pe2xldCBpPTA7Zm9yKGNvbnN0IHQgb2Ygbyl5aWVsZCBmKHQsaSsrKX19ZXhwb3J0e28gYXMgbWFwfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYW4gaXRlcmFibGUgY29udGFpbmluZyB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGYodmFsdWUpYCBvbiBlYWNoXG4gKiB2YWx1ZSBpbiBgaXRlbXNgLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIHJlbmRlcigpIHtcbiAqICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgPHVsPlxuICogICAgICAgJHttYXAoaXRlbXMsIChpKSA9PiBodG1sYDxsaT4ke2l9PC9saT5gKX1cbiAqICAgICA8L3VsPlxuICogICBgO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiogbWFwPFQ+KFxuICBpdGVtczogSXRlcmFibGU8VD4gfCB1bmRlZmluZWQsXG4gIGY6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gdW5rbm93blxuKSB7XG4gIGlmIChpdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgaXRlbXMpIHtcbiAgICAgIHlpZWxkIGYodmFsdWUsIGkrKyk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cbmNvbnN0IHI9KHIsbyx0KT0+e2Zvcihjb25zdCB0IG9mIG8paWYodFswXT09PXIpcmV0dXJuKDAsdFsxXSkoKTtyZXR1cm4gdD8uKCl9O2V4cG9ydHtyIGFzIGNob29zZX07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaG9vc2UuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBDaG9vc2VzIGFuZCBldmFsdWF0ZXMgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBmcm9tIGEgbGlzdCBiYXNlZCBvbiBtYXRjaGluZ1xuICogdGhlIGdpdmVuIGB2YWx1ZWAgdG8gYSBjYXNlLlxuICpcbiAqIENhc2VzIGFyZSBzdHJ1Y3R1cmVkIGFzIGBbY2FzZVZhbHVlLCBmdW5jXWAuIGB2YWx1ZWAgaXMgbWF0Y2hlZCB0b1xuICogYGNhc2VWYWx1ZWAgYnkgc3RyaWN0IGVxdWFsaXR5LiBUaGUgZmlyc3QgbWF0Y2ggaXMgc2VsZWN0ZWQuIENhc2UgdmFsdWVzXG4gKiBjYW4gYmUgb2YgYW55IHR5cGUgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIG9iamVjdHMsIGFuZCBzeW1ib2xzLlxuICpcbiAqIFRoaXMgaXMgc2ltaWxhciB0byBhIHN3aXRjaCBzdGF0ZW1lbnQsIGJ1dCBhcyBhbiBleHByZXNzaW9uIGFuZCB3aXRob3V0XG4gKiBmYWxsdGhyb3VnaC5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiByZW5kZXIoKSB7XG4gKiAgIHJldHVybiBodG1sYFxuICogICAgICR7Y2hvb3NlKHRoaXMuc2VjdGlvbiwgW1xuICogICAgICAgWydob21lJywgKCkgPT4gaHRtbGA8aDE+SG9tZTwvaDE+YF0sXG4gKiAgICAgICBbJ2Fib3V0JywgKCkgPT4gaHRtbGA8aDE+QWJvdXQ8L2gxPmBdXG4gKiAgICAgXSxcbiAqICAgICAoKSA9PiBodG1sYDxoMT5FcnJvcjwvaDE+YCl9XG4gKiAgIGA7XG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IGNob29zZSA9IDxULCBWLCBLIGV4dGVuZHMgVCA9IFQ+KFxuICB2YWx1ZTogVCxcbiAgY2FzZXM6IEFycmF5PFtLLCAoKSA9PiBWXT4sXG4gIGRlZmF1bHRDYXNlPzogKCkgPT4gVlxuKSA9PiB7XG4gIGZvciAoY29uc3QgYyBvZiBjYXNlcykge1xuICAgIGNvbnN0IGNhc2VWYWx1ZSA9IGNbMF07XG4gICAgaWYgKGNhc2VWYWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIGNvbnN0IGZuID0gY1sxXTtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmYXVsdENhc2U/LigpO1xufTtcbiIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBCU0QtMy1DbGF1c2VcbiAqL1xuZnVuY3Rpb24gbihuLHIsdCl7cmV0dXJuIG4/cihuKTp0Py4obil9ZXhwb3J0e24gYXMgd2hlbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aGVuLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG5cbnR5cGUgRmFsc3kgPSBudWxsIHwgdW5kZWZpbmVkIHwgZmFsc2UgfCAwIHwgLTAgfCAwbiB8ICcnO1xuXG4vKipcbiAqIFdoZW4gYGNvbmRpdGlvbmAgaXMgdHJ1ZSwgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYHRydWVDYXNlKClgLCBlbHNlXG4gKiByZXR1cm5zIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgZmFsc2VDYXNlKClgIGlmIGBmYWxzZUNhc2VgIGlzIGRlZmluZWQuXG4gKlxuICogVGhpcyBpcyBhIGNvbnZlbmllbmNlIHdyYXBwZXIgYXJvdW5kIGEgdGVybmFyeSBleHByZXNzaW9uIHRoYXQgbWFrZXMgaXQgYVxuICogbGl0dGxlIG5pY2VyIHRvIHdyaXRlIGFuIGlubGluZSBjb25kaXRpb25hbCB3aXRob3V0IGFuIGVsc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogcmVuZGVyKCkge1xuICogICByZXR1cm4gaHRtbGBcbiAqICAgICAke3doZW4odGhpcy51c2VyLCAoKSA9PiBodG1sYFVzZXI6ICR7dGhpcy51c2VyLnVzZXJuYW1lfWAsICgpID0+IGh0bWxgU2lnbiBJbi4uLmApfVxuICogICBgO1xuICogfVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aGVuPEMgZXh0ZW5kcyBGYWxzeSwgVCwgRiA9IHVuZGVmaW5lZD4oXG4gIGNvbmRpdGlvbjogQyxcbiAgdHJ1ZUNhc2U6IChjOiBDKSA9PiBULFxuICBmYWxzZUNhc2U/OiAoYzogQykgPT4gRlxuKTogRjtcbmV4cG9ydCBmdW5jdGlvbiB3aGVuPEMsIFQsIEY+KFxuICBjb25kaXRpb246IEMgZXh0ZW5kcyBGYWxzeSA/IG5ldmVyIDogQyxcbiAgdHJ1ZUNhc2U6IChjOiBDKSA9PiBULFxuICBmYWxzZUNhc2U/OiAoYzogQykgPT4gRlxuKTogVDtcbmV4cG9ydCBmdW5jdGlvbiB3aGVuPEMsIFQsIEYgPSB1bmRlZmluZWQ+KFxuICBjb25kaXRpb246IEMsXG4gIHRydWVDYXNlOiAoYzogRXhjbHVkZTxDLCBGYWxzeT4pID0+IFQsXG4gIGZhbHNlQ2FzZT86IChjOiBFeHRyYWN0PEMsIEZhbHN5PikgPT4gRlxuKTogQyBleHRlbmRzIEZhbHN5ID8gRiA6IFQ7XG5leHBvcnQgZnVuY3Rpb24gd2hlbihcbiAgY29uZGl0aW9uOiB1bmtub3duLFxuICB0cnVlQ2FzZTogKGM6IHVua25vd24pID0+IHVua25vd24sXG4gIGZhbHNlQ2FzZT86IChjOiB1bmtub3duKSA9PiB1bmtub3duXG4pOiB1bmtub3duIHtcbiAgcmV0dXJuIGNvbmRpdGlvbiA/IHRydWVDYXNlKGNvbmRpdGlvbikgOiBmYWxzZUNhc2U/Lihjb25kaXRpb24pO1xufVxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XHJcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XHJcblxyXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xyXG5cclxudHlwZSBDdXN0b21hcnlMaXN0ZW5lciA9IChlbGVtZW50OiBIVE1MRWxlbWVudCwgZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX2FkZEV2ZW50SGFuZGxlcnNcclxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcclxuXHRcdFx0Y2xhc3MgTWl4aW5fYWRkRXZlbnRIYW5kbGVyc19DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xyXG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdFx0XHRwcm90ZWN0ZWQgb3ZlcnJpZGUgdXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdHN1cGVyLnVwZGF0ZWQ/LihjaGFuZ2VkUHJvcGVydGllcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZXZlbnRzID1cclxuXHRcdFx0XHRcdFx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5ldmVudHM7XHJcblx0XHRcdFx0XHRpZiAoIWV2ZW50cykgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRcdGlmIChldmVudHMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGN1c3RvbWFyeUV2ZW50IG9mIGV2ZW50cykge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHNlbGVjdG9yID0gY3VzdG9tYXJ5RXZlbnQuc2VsZWN0b3I7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdHlwZSA9IGN1c3RvbWFyeUV2ZW50LnR5cGU7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgbGlzdGVuZXIgPSBjdXN0b21hcnlFdmVudC5saXN0ZW5lcjtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmFkZEV2ZW50SGFuZGxlcihzZWxlY3RvciwgdHlwZSwgbGlzdGVuZXIgYXMgYW55KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgW3NlbGVjdG9yLCBsaXN0ZW5lcl0gb2YgT2JqZWN0LmVudHJpZXMoZXZlbnRzKSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHR5cGUgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5hZGRFdmVudEhhbmRsZXIoc2VsZWN0b3IsIHR5cGUsIGxpc3RlbmVyIGFzIGFueSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHByaXZhdGUgYWRkRXZlbnRIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRzZWxlY3Rvcjogc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG5cdFx0XHRcdFx0XHR0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcblx0XHRcdFx0XHRcdGxpc3RlbmVyOiBDdXN0b21hcnlMaXN0ZW5lclxyXG5cdFx0XHRcdCkge1xyXG5cdFx0XHRcdFx0aWYgKCFzZWxlY3Rvcikge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50OiBQYXJlbnROb2RlID0gdGhpcy5zaGFkb3dSb290ID8/IHRoaXM7XHJcblx0XHRcdFx0XHRjb25zdCBlbGVtZW50czogTm9kZUxpc3RPZjxFbGVtZW50PiA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuXHRcdFx0XHRcdGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmFkZEN1c3RvbUV2ZW50TGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cHJpdmF0ZSBhZGRDdXN0b21FdmVudExpc3RlbmVyKFxyXG5cdFx0XHRcdFx0XHRlbGVtZW50OiBFbGVtZW50LFxyXG5cdFx0XHRcdFx0XHR0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcblx0XHRcdFx0XHRcdGxpc3RlbmVyOiBDdXN0b21hcnlMaXN0ZW5lclxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRjb25zdCBsaXN0ZW5lcnM6IEFycmF5PEN1c3RvbWFyeUxpc3RlbmVyPiA9XHJcblx0XHRcdFx0XHRcdFx0KGVsZW1lbnQgYXMgYW55KS5fX2N1c3RvbWFyeV9saXN0ZW5lcnMgPz89IFtdO1xyXG5cdFx0XHRcdFx0aWYgKGxpc3RlbmVycy5pbmNsdWRlcyhsaXN0ZW5lcikpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0Y29uc3QgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZTtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFx0XHR0eXBlID8/XHJcblx0XHRcdFx0XHRcdFx0REVGQVVMVF9FVkVOVF9UWVBFU1t0YWdOYW1lXSA/P1xyXG5cdFx0XHRcdFx0XHRcdCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YCR7dGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCl9OiAke3RhZ05hbWV9IGVsZW1lbnRzYCArXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0JyByZXF1aXJlIHlvdSB0byBwcm92aWRlIGFuIGV2ZW50IHR5cGUnICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQnIGJlY2F1c2UgQ3VzdG9tYXJ5IGhhcyBub3QgZGVmaW5lZCBhIGRlZmF1bHQgeWV0J1xyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR9KSgpLFxyXG5cdFx0XHRcdFx0XHRcdChldmVudDogRXZlbnQpID0+IGxpc3RlbmVyKHRoaXMsIGV2ZW50KVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBNaXhpbl9hZGRFdmVudEhhbmRsZXJzX0NsYXNzO1xyXG5cdFx0fVxyXG5cclxuY29uc3QgREVGQVVMVF9FVkVOVF9UWVBFUzogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuXHQnQSc6ICdjbGljaycsXHJcblx0J0JVVFRPTic6ICdjbGljaycsXHJcblx0J0ZPUk0nOiAnc3VibWl0JyxcclxuXHQnSU5QVVQnOiAnaW5wdXQnLFxyXG5cdCdTRUxFQ1QnOiAnaW5wdXQnLFxyXG5cdCdUQUJMRSc6ICdjbGljaycsXHJcblx0J1RFWFRBUkVBJzogJ2lucHV0JyxcclxufSIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xyXG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuXHJcbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fYWRvcHRTdHlsZVNoZWV0XHJcbjxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcclxuXHRjbGFzcyBNaXhpbl9hZG9wdFN0eWxlU2hlZXRfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcclxuXHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdG92ZXJyaWRlIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogTWFwPHN0cmluZywgYW55Pikge1xyXG5cdFx0XHRzdXBlci5maXJzdFVwZGF0ZWQ/LihjaGFuZ2VkUHJvcGVydGllcyk7XHJcblxyXG5cdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcclxuXHJcblx0XHRcdGNvbnN0IHtjc3NTdHlsZVNoZWV0fSA9IGRlZmluaXRpb247XHJcblx0XHRcdGlmICghY3NzU3R5bGVTaGVldCkgcmV0dXJuO1xyXG5cclxuXHRcdFx0Y29uc3QgYWRvcHRlcjogRG9jdW1lbnRPclNoYWRvd1Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3QgPz8gZG9jdW1lbnQ7XHJcblx0XHRcdGFkb3B0ZXIuYWRvcHRlZFN0eWxlU2hlZXRzLnB1c2goY3NzU3R5bGVTaGVldCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBNaXhpbl9hZG9wdFN0eWxlU2hlZXRfQ2xhc3M7XHJcbn1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XHJcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5cclxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcclxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcclxuXHRjbGFzcyBNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcclxuXHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdG92ZXJyaWRlIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcgfCBudWxsLCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVsbCkge1xyXG5cdFx0XHRzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKTtcclxuXHJcblx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xyXG5cclxuXHRcdFx0ZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcz8uZG9tPy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcclxuXHRcdFx0XHRcdD8uKHRoaXMsIG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBNaXhpbl9hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tfQ2xhc3M7XHJcbn1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XHJcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5cclxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9jb25uZWN0ZWRcclxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcclxuXHRcdFx0Y2xhc3MgTWl4aW5fY29ubmVjdGVkX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XHJcblx0XHRcdFx0Ly8gbm9pbnNwZWN0aW9uIEpTVW51c2VkR2xvYmFsU3ltYm9sc1xyXG5cdFx0XHRcdG92ZXJyaWRlIGNvbm5lY3RlZENhbGxiYWNrKCkge1xyXG5cdFx0XHRcdFx0c3VwZXIuY29ubmVjdGVkQ2FsbGJhY2s/LigpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xyXG5cclxuXHRcdFx0XHRcdGRlZmluaXRpb24uZGVjbGFyYXRpb24uaG9va3M/LmxpZmVjeWNsZT8uY29ubmVjdGVkPy4odGhpcyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBNaXhpbl9jb25uZWN0ZWRfQ2xhc3M7XHJcblx0XHR9XHJcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xyXG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuXHJcbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fZGlzY29ubmVjdGVkXHJcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XHJcblx0XHRcdGNsYXNzIE1peGluX2Rpc2Nvbm5lY3RlZF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xyXG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdFx0XHRvdmVycmlkZSBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuXHRcdFx0XHRcdHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrPy4oKTtcclxuXHJcblx0XHRcdFx0XHRjb25zdCBkZWZpbml0aW9uID0gZ2V0RGVmaW5pdGlvbih0aGlzKTtcclxuXHJcblx0XHRcdFx0XHRkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzPy5saWZlY3ljbGU/LmRpc2Nvbm5lY3RlZD8uKHRoaXMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gTWl4aW5fZGlzY29ubmVjdGVkX0NsYXNzO1xyXG5cdFx0fVxyXG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcclxuaW1wb3J0IHtQcm9wZXJ0eVZhbHVlc30gZnJvbSBcIkBsaXQvcmVhY3RpdmUtZWxlbWVudFwiO1xyXG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuXHJcbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fZmlyc3RVcGRhdGVkXHJcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XHJcblx0XHRcdGNsYXNzIE1peGluX2ZpcnN0VXBkYXRlZF9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xyXG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdFx0XHRwcm90ZWN0ZWQgb3ZlcnJpZGUgZmlyc3RVcGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzOiBQcm9wZXJ0eVZhbHVlcykge1xyXG5cdFx0XHRcdFx0c3VwZXIuZmlyc3RVcGRhdGVkPy4oY2hhbmdlZFByb3BlcnRpZXMpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHtsaWZlY3ljbGUsIGNoYW5nZXN9ID0gZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcyA/PyB7fTtcclxuXHJcblx0XHRcdFx0XHRsaWZlY3ljbGU/LmZpcnN0VXBkYXRlZD8uKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoY2hhbmdlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB7bmFtZSwgZmlyc3RVcGRhdGVkfSA9IGNoYW5nZTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZmlyc3RVcGRhdGVkICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Zmlyc3RVcGRhdGVkKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBNaXhpbl9maXJzdFVwZGF0ZWRfQ2xhc3M7XHJcblx0XHR9XHJcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xyXG5pbXBvcnQge2Nob29zZSwgaHRtbCwgbWFwLCB3aGVufSBmcm9tIFwiI2N1c3RvbWFyeS9saXRcIjtcclxuaW1wb3J0IHtVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHR9IGZyb20gXCJsaXQtaHRtbFwiO1xyXG5pbXBvcnQge2dldERlZmluaXRpb259IGZyb20gXCIjY3VzdG9tYXJ5L0N1c3RvbWFyeURlZmluaXRpb24uanNcIjtcclxuXHJcbnR5cGUgQ29uc3RydWN0b3I8VCA9IHt9PiA9IG5ldyAoLi4uYXJnczogYW55W10pID0+IFQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTWl4aW5fcmVuZGVyRnJvbVRlbXBsYXRlXHJcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XHJcblx0XHRcdGNsYXNzIE1peGluX3JlbmRlckZyb21UZW1wbGF0ZV9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xyXG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdFx0XHRwcm90ZWN0ZWQgb3ZlcnJpZGUgcmVuZGVyKCk6IHVua25vd24ge1xyXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgdGVtcGxhdGVSZXN1bHQ6IFVuY29tcGlsZWRUZW1wbGF0ZVJlc3VsdCA9XHJcblx0XHRcdFx0XHRcdFx0cmVuZGVyX2xpdF9odG1sX1RlbXBsYXRlUmVzdWx0KFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZpbml0aW9uLmltbXV0YWJsZV9odG1sU3RyaW5nLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQodGhpcyBhcyBhbnkpLnN0YXRlXHJcblx0XHRcdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLnJldXNlX2ltbXV0YWJsZV9UZW1wbGF0ZVN0cmluZ3NBcnJheSh0ZW1wbGF0ZVJlc3VsdCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHRlbXBsYXRlUmVzdWx0O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cHJpdmF0ZSByZXVzZV9pbW11dGFibGVfVGVtcGxhdGVTdHJpbmdzQXJyYXkoXHJcblx0XHRcdFx0XHRcdHRlbXBsYXRlUmVzdWx0OiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHRcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y29uc3QgdGVtcGxhdGVTdHJpbmdzQXJyYXkgPSB0ZW1wbGF0ZVJlc3VsdC5zdHJpbmdzO1xyXG5cclxuXHRcdFx0XHRcdGlmICghdGhpcy5pbW11dGFibGVfdGVtcGxhdGVTdHJpbmdzQXJyYXkpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5pbW11dGFibGVfdGVtcGxhdGVTdHJpbmdzQXJyYXkgPSB0ZW1wbGF0ZVN0cmluZ3NBcnJheTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGVtcGxhdGVTdHJpbmdzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFx0aWYgKHRlbXBsYXRlU3RyaW5nc0FycmF5W2ldICE9PSB0aGlzLmltbXV0YWJsZV90ZW1wbGF0ZVN0cmluZ3NBcnJheVtpXSkge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgXHJcbk9yaWdpbmFsIGh0bWwgZmlyc3QgcmVnaXN0ZXJlZCBvbmx5IG9uY2UgZnJvbSBuYW1lZCB0ZW1wbGF0ZSB0YWcgaW4gcGFnZVxyXG4ob3IgZmlyc3QgcmVnaXN0ZXJlZCBvbmx5IG9uY2UgZnJvbSBleHRlcm5hbCBodG1sIGZpbGUpXHJcbmNvdWxkIG5vdCBoYXZlIHBvc3NpYmx5IGNoYW5nZWQgc3RydWN0dXJlIGluYmV0d2VlbiBjYWxscyB0byByZW5kZXIuLi4uIHRhbXBlcmluZz8/XHJcbihzZWUgaHR0cHM6Ly9naXRodWIuY29tL2xpdC9saXQvcHVsbC8zOTg3KVxyXG5gKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHRlbXBsYXRlUmVzdWx0LnN0cmluZ3MgPSB0aGlzLmltbXV0YWJsZV90ZW1wbGF0ZVN0cmluZ3NBcnJheTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHByaXZhdGUgaW1tdXRhYmxlX3RlbXBsYXRlU3RyaW5nc0FycmF5OiBUZW1wbGF0ZVN0cmluZ3NBcnJheSB8IHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIE1peGluX3JlbmRlckZyb21UZW1wbGF0ZV9DbGFzcyBhcyBUO1xyXG5cdFx0fVxyXG5cclxuLyoqXHJcbiBsaXQgXCJodG1sXCIgaXMgYSB0YWcgZnVuY3Rpb24uXHJcbiBhdCBydW50aW1lLCB0aGUgdGFnZ2VkIHRlbXBsYXRlIGNvbWVzIGZyb20gaHRtbFN0cmluZy5cclxuIG9ubHkgSlMgY29tcGlsYXRpb24gY2FuIHBhcnNlIHRoZSB0YWdnZWQgdGVtcGxhdGUgaW50byBhIHByb3BlciBmdW5jdGlvbiBjYWxsLFxyXG4gc28gd2UgbmVlZCBKUyBjb21waWxhdGlvbiB0byBoYXBwZW4gYXQgcnVudGltZS5cclxuIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL1RlbXBsYXRlX2xpdGVyYWxzI3RhZ2dlZF90ZW1wbGF0ZXNcclxuKi9cclxuZnVuY3Rpb24gcmVuZGVyX2xpdF9odG1sX1RlbXBsYXRlUmVzdWx0KFxyXG5cdFx0ZWxlbWVudDogSFRNTEVsZW1lbnQsXHJcblx0XHRodG1sU3RyaW5nOiBzdHJpbmcsXHJcblx0XHRzdGF0ZTogYW55LFxyXG4pOiBVbmNvbXBpbGVkVGVtcGxhdGVSZXN1bHQge1xyXG5cdGNvbnN0IHRoaXNBcmcgPSBlbGVtZW50O1xyXG5cdGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKFxyXG5cdFx0XHQnc3RhdGUnLCAnaHRtbCcsICdtYXAnLCAnY2hvb3NlJywgJ3doZW4nLFxyXG5cdFx0XHQnXCJ1c2Ugc3RyaWN0XCI7IHJldHVybiBodG1sXFxgJyArIGh0bWxTdHJpbmcgKyAnXFxgJ1xyXG5cdCk7XHJcblx0cmV0dXJuIGZuLmNhbGwodGhpc0FyZywgc3RhdGUsIGh0bWwsIG1hcCwgY2hvb3NlLCB3aGVuKTtcclxufVxyXG4iLCJpbXBvcnQge0xpdEVsZW1lbnR9IGZyb20gJyNjdXN0b21hcnkvbGl0JztcclxuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XHJcblxyXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xyXG50eXBlIFByb3BlcnR5VmFsdWVzID0gTWFwPFByb3BlcnR5S2V5LCB1bmtub3duPjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9zbG90Q2hhbmdlXHJcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XHJcblx0XHRcdGNsYXNzIE1peGluX3Nsb3RDaGFuZ2VfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcclxuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXHJcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdHN1cGVyLmZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZWxlbWVudCA9IHRoaXM7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24oZWxlbWVudCk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgc2xvdGNoYW5nZSA9XHJcblx0XHRcdFx0XHRcdFx0ZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcz8uc2xvdHM/LnNsb3RjaGFuZ2U7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFzbG90Y2hhbmdlKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0Ly8gb24gZmlyc3QgcmVuZGVyLCBleGVjdXRlIG9uY2UgZm9yIHRoZSBmaXJzdCB0aW1lIHdpdGhvdXQgYW4gZXZlbnRcclxuXHRcdFx0XHRcdHNsb3RjaGFuZ2UoZWxlbWVudCk7XHJcblxyXG5cdFx0XHRcdFx0LypcclxuXHRcdFx0XHRcdGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY3MzMyNjM1L3Nsb3RzLWRvZXMtbm90LXdvcmstb24tYS1odG1sLXdlYi1jb21wb25lbnQtd2l0aG91dC1zaGFkb3ctZG9tXHJcblx0XHRcdFx0XHQqL1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5zaGFkb3dSb290IS5hZGRFdmVudExpc3RlbmVyKCdzbG90Y2hhbmdlJywgZXZlbnQgPT4gc2xvdGNoYW5nZShlbGVtZW50LCBldmVudCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gTWl4aW5fc2xvdENoYW5nZV9DbGFzcztcclxuXHRcdH1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XHJcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5cclxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl9zdGF0ZVxyXG5cdFx0PFQgZXh0ZW5kcyBDb25zdHJ1Y3RvcjxMaXRFbGVtZW50Pj4oc3VwZXJDbGFzczogVCk6IFQge1xyXG5cdGNsYXNzIE1peGluX3N0YXRlX0NsYXNzIGV4dGVuZHMgc3VwZXJDbGFzcyB7XHJcblx0XHRjb25zdHJ1Y3RvciguLi5hcmdzOiBhbnlbXSkge1xyXG5cdFx0XHRzdXBlcihhcmdzKTtcclxuXHJcblx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xyXG5cclxuXHRcdFx0Y29uc3Qge3ZhbHVlc30gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uO1xyXG5cdFx0XHRpZiAoIXZhbHVlcykgcmV0dXJuO1xyXG5cclxuXHRcdFx0T2JqZWN0LmFzc2lnbih0aGlzLCB2YWx1ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdHNldFN0YXRlKHN0YXRlX29yX2ZuOiBhbnkpIHtcclxuXHRcdFx0X3NldFN0YXRlKFxyXG5cdFx0XHRcdFx0c3RhdGVfb3JfZm4sXHJcblx0XHRcdFx0XHQoKSA9PiAodGhpcyBhcyBhbnkpLnN0YXRlLFxyXG5cdFx0XHRcdFx0c3RhdGUgPT4gKHRoaXMgYXMgYW55KS5zdGF0ZSA9IHN0YXRlXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBNaXhpbl9zdGF0ZV9DbGFzcztcclxufVxyXG5cclxuZnVuY3Rpb24gX3NldFN0YXRlKHN0YXRlX29yX2ZuOiBTdGF0ZSwgZ2V0U3RhdGVGbjogR2V0U3RhdGVGbiwgc2V0U3RhdGVGbjogU2V0U3RhdGVGbikge1xyXG5cdGlmIChzdGF0ZV9vcl9mbiA9PT0gbnVsbCB8fCBzdGF0ZV9vcl9mbiA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcblxyXG5cdGNvbnN0IF9zdGF0ZSA9IGdldFN0YXRlRm4oKTtcclxuXHJcblx0Y29uc3Qgc3RhdGUgPSBzdGF0ZV9vcl9mbiBpbnN0YW5jZW9mIEZ1bmN0aW9uXHJcblx0XHRcdD8gc3RhdGVfb3JfZm4oX3N0YXRlKVxyXG5cdFx0XHQ6IHN0YXRlX29yX2ZuO1xyXG5cclxuXHRzZXRTdGF0ZUZuKHR5cGVvZiBfc3RhdGUgPT09ICdvYmplY3QnID8gey4uLl9zdGF0ZSwgLi4uc3RhdGV9IDogc3RhdGUpO1xyXG59XHJcblxyXG50eXBlIFN0YXRlID0gYW55O1xyXG50eXBlIEdldFN0YXRlRm4gPSAoKSA9PiBTdGF0ZTtcclxudHlwZSBTZXRTdGF0ZUZuID0gKHN0YXRlOiBTdGF0ZSkgPT4gU3RhdGU7XHJcbiIsImltcG9ydCB7TGl0RWxlbWVudH0gZnJvbSAnI2N1c3RvbWFyeS9saXQnO1xyXG5pbXBvcnQge1Byb3BlcnR5VmFsdWVzfSBmcm9tIFwiQGxpdC9yZWFjdGl2ZS1lbGVtZW50XCI7XHJcbmltcG9ydCB7Z2V0RGVmaW5pdGlvbn0gZnJvbSBcIiNjdXN0b21hcnkvQ3VzdG9tYXJ5RGVmaW5pdGlvbi5qc1wiO1xyXG5cclxudHlwZSBDb25zdHJ1Y3RvcjxUID0ge30+ID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gVDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBNaXhpbl91cGRhdGVkXHJcblx0XHQ8VCBleHRlbmRzIENvbnN0cnVjdG9yPExpdEVsZW1lbnQ+PihzdXBlckNsYXNzOiBUKTogVCB7XHJcblx0XHRcdGNsYXNzIE1peGluX3VwZGF0ZWRfQ2xhc3MgZXh0ZW5kcyBzdXBlckNsYXNzIHtcclxuXHRcdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnVzZWRHbG9iYWxTeW1ib2xzXHJcblx0XHRcdFx0cHJvdGVjdGVkIG92ZXJyaWRlIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IFByb3BlcnR5VmFsdWVzKSB7XHJcblx0XHRcdFx0XHRzdXBlci51cGRhdGVkPy4oY2hhbmdlZFByb3BlcnRpZXMpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGRlZmluaXRpb24gPSBnZXREZWZpbml0aW9uKHRoaXMpO1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHtsaWZlY3ljbGUsIGNoYW5nZXN9ID0gZGVmaW5pdGlvbi5kZWNsYXJhdGlvbi5ob29rcyA/PyB7fTtcclxuXHJcblx0XHRcdFx0XHRsaWZlY3ljbGU/LnVwZGF0ZWQ/Lih0aGlzLCBjaGFuZ2VkUHJvcGVydGllcyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGNoYW5nZXMgaW5zdGFuY2VvZiBBcnJheSkge1xyXG5cdFx0XHRcdFx0XHRmb3IgKGNvbnN0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qge25hbWUsIHVwZGF0ZWR9ID0gY2hhbmdlO1xyXG5cdFx0XHRcdFx0XHRcdGlmICh1cGRhdGVkICYmIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlZCh0aGlzLCAodGhpcyBhcyBhbnkpW25hbWVdLCBjaGFuZ2VkUHJvcGVydGllcy5nZXQobmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgbmFtZSBpbiBjaGFuZ2VzKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdXBkYXRlZCA9IGNoYW5nZXNbbmFtZV07XHJcblx0XHRcdFx0XHRcdFx0aWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhuYW1lKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlZCh0aGlzLCAodGhpcyBhcyBhbnkpW25hbWVdLCBjaGFuZ2VkUHJvcGVydGllcy5nZXQobmFtZSkpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gTWl4aW5fdXBkYXRlZF9DbGFzcztcclxuXHRcdH1cclxuIiwiaW1wb3J0IHtMaXRFbGVtZW50fSBmcm9tICcjY3VzdG9tYXJ5L2xpdCc7XHJcbmltcG9ydCB7UHJvcGVydHlWYWx1ZXN9IGZyb20gXCJAbGl0L3JlYWN0aXZlLWVsZW1lbnRcIjtcclxuaW1wb3J0IHtnZXREZWZpbml0aW9ufSBmcm9tIFwiI2N1c3RvbWFyeS9DdXN0b21hcnlEZWZpbml0aW9uLmpzXCI7XHJcblxyXG50eXBlIENvbnN0cnVjdG9yPFQgPSB7fT4gPSBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBUO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1peGluX3dpbGxVcGRhdGVcclxuXHRcdDxUIGV4dGVuZHMgQ29uc3RydWN0b3I8TGl0RWxlbWVudD4+KHN1cGVyQ2xhc3M6IFQpOiBUIHtcclxuXHRcdFx0Y2xhc3MgTWl4aW5fd2lsbFVwZGF0ZV9DbGFzcyBleHRlbmRzIHN1cGVyQ2xhc3Mge1xyXG5cdFx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VudXNlZEdsb2JhbFN5bWJvbHNcclxuXHRcdFx0XHRwcm90ZWN0ZWQgb3ZlcnJpZGUgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcGVydGllczogUHJvcGVydHlWYWx1ZXMpIHtcclxuXHRcdFx0XHRcdHN1cGVyLndpbGxVcGRhdGU/LihjaGFuZ2VkUHJvcGVydGllcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbiA9IGdldERlZmluaXRpb24odGhpcyk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qge2xpZmVjeWNsZSwgY2hhbmdlc30gPSBkZWZpbml0aW9uLmRlY2xhcmF0aW9uLmhvb2tzID8/IHt9O1xyXG5cclxuXHRcdFx0XHRcdGxpZmVjeWNsZT8ud2lsbFVwZGF0ZT8uKHRoaXMsIGNoYW5nZWRQcm9wZXJ0aWVzKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoY2hhbmdlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcblx0XHRcdFx0XHRcdGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcclxuXHRcdFx0XHRcdFx0XHRjb25zdCB7bmFtZSwgd2lsbFVwZGF0ZX0gPSBjaGFuZ2U7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHdpbGxVcGRhdGUgJiYgY2hhbmdlZFByb3BlcnRpZXMuaGFzKG5hbWUpKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aWxsVXBkYXRlKHRoaXMsICh0aGlzIGFzIGFueSlbbmFtZV0sIGNoYW5nZWRQcm9wZXJ0aWVzLmdldChuYW1lKSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBNaXhpbl93aWxsVXBkYXRlX0NsYXNzO1xyXG5cdFx0fVxyXG4iXSwibmFtZXMiOlsiTGl0RWxlbWVudCIsIlJlYWN0aXZlRWxlbWVudCIsImNvbnN0cnVjdG9yIiwidGhpcyIsInJlbmRlck9wdGlvbnMiLCJob3N0IiwiX19jaGlsZFBhcnQiLCJ1bmRlZmluZWQiLCJjcmVhdGVSZW5kZXJSb290IiwicmVuZGVyUm9vdCIsInN1cGVyIiwicmVuZGVyQmVmb3JlIiwiZmlyc3RDaGlsZCIsInVwZGF0ZSIsImNoYW5nZWRQcm9wZXJ0aWVzIiwidmFsdWUiLCJyZW5kZXIiLCJoYXNVcGRhdGVkIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0ZWRDYWxsYmFjayIsInNldENvbm5lY3RlZCIsImRpc2Nvbm5lY3RlZENhbGxiYWNrIiwibm9DaGFuZ2UiLCJnbG9iYWxUaGlzIiwibGl0RWxlbWVudEh5ZHJhdGVTdXBwb3J0IiwicG9seWZpbGxTdXBwb3J0IiwibGl0RWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsIl8kTEUiLCJfJGF0dHJpYnV0ZVRvUHJvcGVydHkiLCJlbCIsIm5hbWUiLCJfJGNoYW5nZWRQcm9wZXJ0aWVzIiwibGl0RWxlbWVudFZlcnNpb25zIiwicHVzaCIsImlzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0UHJvdG90eXBlT2YiLCJPYmplY3QiLCJnbG9iYWwiLCJ0cnVzdGVkVHlwZXMiLCJlbXB0eVN0cmluZ0ZvckJvb2xlYW5BdHRyaWJ1dGUiLCJlbXB0eVNjcmlwdCIsInJlYWN0aXZlRWxlbWVudFBvbHlmaWxsU3VwcG9ydCIsIkpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkiLCJwcm9wIiwiX29iaiIsImRlZmF1bHRDb252ZXJ0ZXIiLCJ0b0F0dHJpYnV0ZSIsInR5cGUiLCJCb29sZWFuIiwiQXJyYXkiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbUF0dHJpYnV0ZSIsImZyb21WYWx1ZSIsIk51bWJlciIsInBhcnNlIiwiZSIsIm5vdEVxdWFsIiwib2xkIiwiZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb24iLCJhdHRyaWJ1dGUiLCJTdHJpbmciLCJjb252ZXJ0ZXIiLCJyZWZsZWN0IiwiaGFzQ2hhbmdlZCIsIlN5bWJvbCIsIm1ldGFkYXRhIiwibGl0UHJvcGVydHlNZXRhZGF0YSIsIldlYWtNYXAiLCJIVE1MRWxlbWVudCIsImFkZEluaXRpYWxpemVyIiwiaW5pdGlhbGl6ZXIiLCJfX3ByZXBhcmUiLCJfaW5pdGlhbGl6ZXJzIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiZmluYWxpemUiLCJfX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCJrZXlzIiwiY3JlYXRlUHJvcGVydHkiLCJvcHRpb25zIiwic3RhdGUiLCJlbGVtZW50UHJvcGVydGllcyIsInNldCIsIm5vQWNjZXNzb3IiLCJrZXkiLCJkZXNjcmlwdG9yIiwiZ2V0UHJvcGVydHlEZXNjcmlwdG9yIiwicHJvdG90eXBlIiwiZ2V0IiwidiIsImNhbGwiLCJvbGRWYWx1ZSIsInJlcXVlc3RVcGRhdGUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0UHJvcGVydHlPcHRpb25zIiwiaGFzT3duUHJvcGVydHkiLCJzdXBlckN0b3IiLCJNYXAiLCJmaW5hbGl6ZWQiLCJwcm9wcyIsInByb3BlcnRpZXMiLCJwcm9wS2V5cyIsInAiLCJhdHRyIiwiX19hdHRyaWJ1dGVOYW1lRm9yUHJvcGVydHkiLCJlbGVtZW50U3R5bGVzIiwiZmluYWxpemVTdHlsZXMiLCJzdHlsZXMiLCJpc0FycmF5IiwiU2V0IiwiZmxhdCIsIkluZmluaXR5IiwicmV2ZXJzZSIsInMiLCJ1bnNoaWZ0IiwiZ2V0Q29tcGF0aWJsZVN0eWxlIiwidG9Mb3dlckNhc2UiLCJfX2luc3RhbmNlUHJvcGVydGllcyIsImlzVXBkYXRlUGVuZGluZyIsIl9fcmVmbGVjdGluZ1Byb3BlcnR5IiwiX19pbml0aWFsaXplIiwiX191cGRhdGVQcm9taXNlIiwiUHJvbWlzZSIsInJlcyIsImVuYWJsZVVwZGF0aW5nIiwiX19zYXZlSW5zdGFuY2VQcm9wZXJ0aWVzIiwiZm9yRWFjaCIsImkiLCJhZGRDb250cm9sbGVyIiwiY29udHJvbGxlciIsIl9fY29udHJvbGxlcnMiLCJhZGQiLCJob3N0Q29ubmVjdGVkIiwicmVtb3ZlQ29udHJvbGxlciIsImRlbGV0ZSIsImluc3RhbmNlUHJvcGVydGllcyIsInNpemUiLCJzaGFkb3dSb290IiwiYXR0YWNoU2hhZG93Iiwic2hhZG93Um9vdE9wdGlvbnMiLCJhZG9wdFN0eWxlcyIsImMiLCJfcmVxdWVzdGVkVXBkYXRlIiwiaG9zdERpc2Nvbm5lY3RlZCIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl9vbGQiLCJfX3Byb3BlcnR5VG9BdHRyaWJ1dGUiLCJhdHRyVmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjdG9yIiwicHJvcE5hbWUiLCJfJGNoYW5nZVByb3BlcnR5IiwiX19lbnF1ZXVlVXBkYXRlIiwiaGFzIiwiX19yZWZsZWN0aW5nUHJvcGVydGllcyIsInJlamVjdCIsInJlc3VsdCIsInNjaGVkdWxlVXBkYXRlIiwicGVyZm9ybVVwZGF0ZSIsIndyYXBwZWQiLCJzaG91bGRVcGRhdGUiLCJ3aWxsVXBkYXRlIiwiaG9zdFVwZGF0ZSIsIl9fbWFya1VwZGF0ZWQiLCJfJGRpZFVwZGF0ZSIsIl9jaGFuZ2VkUHJvcGVydGllcyIsImhvc3RVcGRhdGVkIiwiZmlyc3RVcGRhdGVkIiwidXBkYXRlZCIsInVwZGF0ZUNvbXBsZXRlIiwiZ2V0VXBkYXRlQ29tcGxldGUiLCJtb2RlIiwicmVhY3RpdmVFbGVtZW50VmVyc2lvbnMiLCJzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMiLCJTaGFkb3dSb290IiwiU2hhZHlDU1MiLCJuYXRpdmVTaGFkb3ciLCJEb2N1bWVudCIsIkNTU1N0eWxlU2hlZXQiLCJjb25zdHJ1Y3Rpb25Ub2tlbiIsImNzc1RhZ0NhY2hlIiwiQ1NTUmVzdWx0IiwiY3NzVGV4dCIsInN0cmluZ3MiLCJzYWZlVG9rZW4iLCJFcnJvciIsIl9zdHJpbmdzIiwic3R5bGVTaGVldCIsIl9zdHlsZVNoZWV0IiwiY2FjaGVhYmxlIiwibGVuZ3RoIiwicmVwbGFjZVN5bmMiLCJ0b1N0cmluZyIsInVuc2FmZUNTUyIsImNzcyIsInZhbHVlcyIsInJlZHVjZSIsImFjYyIsImlkeCIsInRleHRGcm9tQ1NTUmVzdWx0IiwiYWRvcHRlZFN0eWxlU2hlZXRzIiwibWFwIiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJub25jZSIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzaGVldCIsInJ1bGUiLCJjc3NSdWxlcyIsImNzc1Jlc3VsdEZyb21TdHlsZVNoZWV0IiwicG9saWN5IiwiY3JlYXRlUG9saWN5IiwiY3JlYXRlSFRNTCIsImJvdW5kQXR0cmlidXRlU3VmZml4IiwibWFya2VyIiwiTWF0aCIsInJhbmRvbSIsInRvRml4ZWQiLCJzbGljZSIsIm1hcmtlck1hdGNoIiwibm9kZU1hcmtlciIsImQiLCJjcmVhdGVNYXJrZXIiLCJjcmVhdGVDb21tZW50IiwiaXNQcmltaXRpdmUiLCJpc0l0ZXJhYmxlIiwiaXRlcmF0b3IiLCJTUEFDRV9DSEFSIiwidGV4dEVuZFJlZ2V4IiwiY29tbWVudEVuZFJlZ2V4IiwiY29tbWVudDJFbmRSZWdleCIsInRhZ0VuZFJlZ2V4IiwiUmVnRXhwIiwic2luZ2xlUXVvdGVBdHRyRW5kUmVnZXgiLCJkb3VibGVRdW90ZUF0dHJFbmRSZWdleCIsInJhd1RleHRFbGVtZW50IiwidGFnIiwiXyRsaXRUeXBlJCIsImh0bWwiLCJzdmciLCJtYXRobWwiLCJmb3IiLCJub3RoaW5nIiwidGVtcGxhdGVDYWNoZSIsIndhbGtlciIsImNyZWF0ZVRyZWVXYWxrZXIiLCJ0cnVzdEZyb21UZW1wbGF0ZVN0cmluZyIsInRzYSIsInN0cmluZ0Zyb21UU0EiLCJnZXRUZW1wbGF0ZUh0bWwiLCJsIiwiYXR0ck5hbWVzIiwicmF3VGV4dEVuZFJlZ2V4IiwicmVnZXgiLCJhdHRyTmFtZSIsIm1hdGNoIiwiYXR0ck5hbWVFbmRJbmRleCIsImxhc3RJbmRleCIsImV4ZWMiLCJ0ZXN0IiwiZW5kIiwic3RhcnRzV2l0aCIsIlRlbXBsYXRlIiwibm9kZSIsInBhcnRzIiwibm9kZUluZGV4IiwiYXR0ck5hbWVJbmRleCIsInBhcnRDb3VudCIsImN1cnJlbnROb2RlIiwiY29udGVudCIsIndyYXBwZXIiLCJyZXBsYWNlV2l0aCIsImNoaWxkTm9kZXMiLCJuZXh0Tm9kZSIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlcyIsImdldEF0dHJpYnV0ZU5hbWVzIiwiZW5kc1dpdGgiLCJyZWFsTmFtZSIsInN0YXRpY3MiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsIm0iLCJpbmRleCIsIlByb3BlcnR5UGFydCIsIkJvb2xlYW5BdHRyaWJ1dGVQYXJ0IiwiRXZlbnRQYXJ0IiwiQXR0cmlidXRlUGFydCIsInRhZ05hbWUiLCJhcHBlbmQiLCJkYXRhIiwiaW5kZXhPZiIsIl9vcHRpb25zIiwiaW5uZXJIVE1MIiwicmVzb2x2ZURpcmVjdGl2ZSIsInBhcnQiLCJwYXJlbnQiLCJhdHRyaWJ1dGVJbmRleCIsImN1cnJlbnREaXJlY3RpdmUiLCJfX2RpcmVjdGl2ZXMiLCJfX2RpcmVjdGl2ZSIsIm5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciIsIl8kaW5pdGlhbGl6ZSIsIl8kcmVzb2x2ZSIsIlRlbXBsYXRlSW5zdGFuY2UiLCJ0ZW1wbGF0ZSIsIl8kcGFydHMiLCJfJGRpc2Nvbm5lY3RhYmxlQ2hpbGRyZW4iLCJfJHRlbXBsYXRlIiwiXyRwYXJlbnQiLCJwYXJlbnROb2RlIiwiXyRpc0Nvbm5lY3RlZCIsIl9jbG9uZSIsImZyYWdtZW50IiwiY3JlYXRpb25TY29wZSIsImltcG9ydE5vZGUiLCJwYXJ0SW5kZXgiLCJ0ZW1wbGF0ZVBhcnQiLCJDaGlsZFBhcnQiLCJuZXh0U2libGluZyIsIkVsZW1lbnRQYXJ0IiwiX3VwZGF0ZSIsIl8kc2V0VmFsdWUiLCJfX2lzQ29ubmVjdGVkIiwic3RhcnROb2RlIiwiZW5kTm9kZSIsIl8kY29tbWl0dGVkVmFsdWUiLCJfJHN0YXJ0Tm9kZSIsIl8kZW5kTm9kZSIsImRpcmVjdGl2ZVBhcmVudCIsIl8kY2xlYXIiLCJfY29tbWl0VGV4dCIsIl9jb21taXRUZW1wbGF0ZVJlc3VsdCIsIl9jb21taXROb2RlIiwiX2NvbW1pdEl0ZXJhYmxlIiwiX2luc2VydCIsImluc2VydEJlZm9yZSIsImNyZWF0ZVRleHROb2RlIiwiXyRnZXRUZW1wbGF0ZSIsImgiLCJpbnN0YW5jZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiaXRlbSIsInN0YXJ0IiwiZnJvbSIsIl8kbm90aWZ5Q29ubmVjdGlvbkNoYW5nZWQiLCJuIiwicmVtb3ZlIiwiZWxlbWVudCIsImZpbGwiLCJ2YWx1ZUluZGV4Iiwibm9Db21taXQiLCJjaGFuZ2UiLCJfY29tbWl0VmFsdWUiLCJ0b2dnbGVBdHRyaWJ1dGUiLCJuZXdMaXN0ZW5lciIsIm9sZExpc3RlbmVyIiwic2hvdWxkUmVtb3ZlTGlzdGVuZXIiLCJjYXB0dXJlIiwib25jZSIsInBhc3NpdmUiLCJzaG91bGRBZGRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlRXZlbnQiLCJldmVudCIsIl8kTEgiLCJfYm91bmRBdHRyaWJ1dGVTdWZmaXgiLCJfbWFya2VyIiwiX21hcmtlck1hdGNoIiwiX0hUTUxfUkVTVUxUIiwiX2dldFRlbXBsYXRlSHRtbCIsIl9UZW1wbGF0ZUluc3RhbmNlIiwiX2lzSXRlcmFibGUiLCJfcmVzb2x2ZURpcmVjdGl2ZSIsIl9DaGlsZFBhcnQiLCJfQXR0cmlidXRlUGFydCIsIl9Cb29sZWFuQXR0cmlidXRlUGFydCIsIl9FdmVudFBhcnQiLCJfUHJvcGVydHlQYXJ0IiwiX0VsZW1lbnRQYXJ0IiwibGl0SHRtbFBvbHlmaWxsU3VwcG9ydCIsImxpdEh0bWxWZXJzaW9ucyIsImNvbnRhaW5lciIsInBhcnRPd25lck5vZGUiLCJpdGVtcyIsImYiLCJjaG9vc2UiLCJjYXNlcyIsImRlZmF1bHRDYXNlIiwiZm4iLCJ3aGVuIiwiY29uZGl0aW9uIiwidHJ1ZUNhc2UiLCJmYWxzZUNhc2UiXSwidmVyc2lvbiI6MywiZmlsZSI6ImN1c3RvbWFyeS5tanMubWFwIn0=
